/*! For license information please see main.dc873800.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,F=Object.assign;function V(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(jo){var r=jo}Reflect.construct(e,[],t)}else{try{t.call()}catch(jo){r=jo}e.call(t.prototype)}else{try{throw Error()}catch(jo){r=jo}e()}}catch(jo){if(jo&&r&&"string"===typeof jo.stack){for(var i=jo.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case _:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(nh){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,ke=null;function _e(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function Ce(e){Te?ke?ke.push(e):ke=[e]:Te=e}function Ie(){if(Te){var e=Te,t=ke;if(ke=Te=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return xe(e,t,n)}finally{Pe=!1,(null!==Te||null!==ke)&&(Ae(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ne=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Ne=!1}function Me(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oe=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Oe=!0,Fe=e}};function Be(e,t,n,r,i,s,o,a,l){Oe=!1,Fe=null,Me.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,Tt,kt,_t,Ct=!1,It=[],xt=null,At=null,Pt=null,Rt=new Map,Dt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){Ct=!1,null!==xt&&Vt(xt)&&(xt=null),null!==At&&Vt(At)&&(At=null),null!==Pt&&Vt(Pt)&&(Pt=null),Rt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Bt(xt,e),null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Ot(xt,e,t,n,r,i),!0;case"dragenter":return At=Ot(At,e,t,n,r,i),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Ot(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Ot(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Ee(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(F({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function _n(){return kn}var Cn=F({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Cn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Pn=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Nn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var On=c&&"TextEvent"in window&&!Mn,Fn=c&&(!Ln||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Vr(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,Ee(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Tr={},kr={};function _r(e){if(Tr[e])return Tr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Tr[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=_r("animationend"),Ir=_r("animationiteration"),xr=_r("animationstart"),Ar=_r("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Lr=Rr[Nr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(Cr,"onAnimationEnd"),Dr(Ir,"onAnimationIteration"),Dr(xr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Be.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var c=Fe;Oe=!1,Fe=null,Ve||(Ve=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=Ee(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Cr:case Ir:case xr:l=vn;break;case Ar:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&c.push(Wr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==l&&Qr(o,a,l,c,!1),null!==u&&null!==h&&Qr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?jn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&jn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Vr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=De(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=De(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[fi]||null}var Si=[],Ti=-1;function ki(e){return{current:e}}function _i(e){0>Ti||(e.current=Si[Ti],Si[Ti]=null,Ti--)}function Ci(e,t){Ti++,Si[Ti]=e.current,e.current=t}var Ii={},xi=ki(Ii),Ai=ki(!1),Pi=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){_i(Ai),_i(xi)}function Li(e,t,n){if(xi.current!==Ii)throw Error(s(168));Ci(xi,t),Ci(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=xi.current,Ci(xi,e),Ci(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,_i(Ai),_i(xi),Ci(xi,e)):_i(Ai),Ci(Ai,n)}var Vi=null,Ui=!1,ji=!1;function Bi(e){null===Vi?Vi=[e]:Vi.push(e)}function zi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=wt;try{var n=Vi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,zi),i}finally{wt=t,ji=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Uu(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=ju(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Uu(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=qu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=ju(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),is&&Ji(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,m),u}function g(i,a,l,u){var c=M(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,u);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Ji(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return is&&Ji(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===T&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===T){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===T?((s=ju(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Uu(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=qu(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=zu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=ws(!0),Es=ws(!1),Ss=ki(null),Ts=null,ks=null,_s=null;function Cs(){_s=ks=Ts=null}function Is(e){var t=Ss.current;_i(Ss),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Ts=e,_s=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ta=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ts)throw Error(s(308));ks=e,Ts.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Rs=null;function Ds(e){null===Rs?Rs=[e]:Rs.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ds(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ds(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Bl|=o,e.lanes=o,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=ki(Hs),Ks=ki(Hs),Gs=ki(Hs);function Qs(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Ci(Gs,t),Ci(Ks,e),Ci(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ws),Ci(Ws,t)}function Xs(){_i(Ws),_i(Ks),_i(Gs)}function $s(e){Qs(Gs.current);var t=Qs(Ws.current),n=le(t,e.type);t!==n&&(Ci(Ks,e),Ci(Ws,n))}function Js(e){Ks.current===e&&(_i(Ws),_i(Ks))}var Zs=ki(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?ra:ia,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=sa,e=n(r,i)}while(co)}if(ro.current=na,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Bl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(Ta=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Bl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(Ta=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function ko(e,t){var n=oo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,Ta=!0),r=r.queue,Fo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ro(9,Co.bind(null,n,r,i,t),void 0,null),null===Ll)throw Error(s(349));0!==(30&so)||_o(n,t,i)}return i}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,xo(t)&&Ao(e)}function Io(e,t,n){return n((function(){xo(t)&&Ao(e)}))}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=Ls(e,1);null!==t&&au(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,oo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return wo().memoizedState}function No(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ro(t,n,s,r))}oo.flags|=e,i.memoizedState=Ro(1|t,n,s,r)}function Mo(e,t){return No(8390656,8,e,t)}function Fo(e,t){return Lo(2048,8,e,t)}function Vo(e,t){return Lo(4,2,e,t)}function Uo(e,t){return Lo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Bo.bind(null,t,e),n)}function qo(){}function Ho(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,Ta=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Bl|=n,e.baseState=!0),t)}function Go(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Qo(){return wo().memoizedState}function Xo(e,t,n){var r=ou(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))ea(t,n);else if(null!==(n=Ns(e,t,n,r))){au(n,e,r,su()),ta(n,t,r)}}function $o(e,t,n){var r=ou(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))ea(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ds(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(jo){}null!==(n=Ns(e,t,i,r))&&(au(n,e,r,i=su()),ta(n,t,r))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function ea(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ta(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var na={readContext:Ps,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},ra={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:qo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ll)throw Error(s(349));0!==(30&so)||_o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Io.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Ll.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ia={readContext:Ps,useCallback:Ho,useContext:Ps,useEffect:Fo,useImperativeHandle:zo,useInsertionEffect:Vo,useLayoutEffect:Uo,useMemo:Wo,useReducer:Eo,useRef:Do,useState:function(){return Eo(bo)},useDebugValue:qo,useDeferredValue:function(e){return Ko(wo(),ao.memoizedState,e)},useTransition:function(){return[Eo(bo)[0],wo().memoizedState]},useMutableSource:To,useSyncExternalStore:ko,useId:Qo,unstable_isNewReconciler:!1},sa={readContext:Ps,useCallback:Ho,useContext:Ps,useEffect:Fo,useImperativeHandle:zo,useInsertionEffect:Vo,useLayoutEffect:Uo,useMemo:Wo,useReducer:So,useRef:Do,useState:function(){return So(bo)},useDebugValue:qo,useDeferredValue:function(e){var t=wo();return null===ao?t.memoizedState=e:Ko(t,ao.memoizedState,e)},useTransition:function(){return[So(bo)[0],wo().memoizedState]},useMutableSource:To,useSyncExternalStore:ko,useId:Qo,unstable_isNewReconciler:!1};function oa(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function aa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var la={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=su(),i=ou(e),s=Vs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(au(t,e,i,r),js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=su(),i=ou(e),s=Vs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(au(t,e,i,r),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=su(),r=ou(e),i=Vs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(au(t,e,r,n),js(t,e,r))}};function ua(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function ca(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Di(t)?Pi:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=la,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Di(t)?Pi:xi.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(aa(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&la.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function fa(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function pa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ma(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ga="function"===typeof WeakMap?WeakMap:Map;function va(e,t,n){(n=Vs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Xl=r),ma(0,t)},n}function ya(e,t,n){(n=Vs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ma(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ma(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function wa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ga;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Pu.bind(null,e,t,n),t.then(e,e))}function ba(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ea(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Sa=b.ReactCurrentOwner,Ta=!1;function ka(e,t,n,r){t.child=null===e?Es(t,null,n,r):bs(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||Ta?(is&&n&&es(t),t.flags|=1,ka(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qa(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ia(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,(e=Vu(s,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(Ta=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Qa(e,t,i);0!==(131072&e.flags)&&(Ta=!0)}}return Pa(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Vl,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Vl,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Vl,Fl),Fl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Vl,Fl),Fl|=r;return ka(e,t,i,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pa(e,t,n,r,i){var s=Di(n)?Pi:xi.current;return s=Ri(t,s),As(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||Ta?(is&&r&&es(t),t.flags|=1,ka(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qa(e,t,i))}function Ra(e,t,n,r,i){if(Di(n)){var s=!0;Oi(t)}else s=!1;if(As(t,i),null===t.stateNode)Ga(e,t),ca(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ps(u):u=Ri(t,u=Di(n)?Pi:xi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&ha(t,o,r,u),Ms=!1;var d=t.memoizedState;o.state=d,zs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Ms?("function"===typeof c&&(aa(t,n,c,r),l=t.memoizedState),(a=Ms||ua(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:oa(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ri(t,l=Di(n)?Pi:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ha(t,o,r,l),Ms=!1,d=t.memoizedState,o.state=d,zs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Ms?("function"===typeof f&&(aa(t,n,f,r),p=t.memoizedState),(u=Ms||ua(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Da(e,t,n,r,s,i)}function Da(e,t,n,r,i,s){Aa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Qa(e,t,s);r=t.stateNode,Sa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ka(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ys(e,t.containerInfo)}function La(e,t,n,r,i){return fs(),ps(i),t.flags|=256,ka(e,t,n,r),t.child}var Ma,Oa,Fa,Va,Ua={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Bu(l,i,0,null),e=ju(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ua,e):za(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,qa(e,t,a,r=pa(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bu({mode:"visible",children:r.children},i,0,null),(o=ju(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ua,o);if(0===(1&t.mode))return qa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,qa(e,t,a,r=pa(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),Ta||l){if(null!==(r=Ll)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(e,i),au(r,e,i,-1))}return bu(),qa(e,t,a,r=pa(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Du.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Vu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Vu(r,a):(a=ju(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,i}return e=(a=e.child).sibling,i=Vu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=Bu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qa(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ha(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function Wa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ka(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ka(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n,t);else if(19===e.tag)Ha(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,s);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $a(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xa(t),null;case 1:case 17:return Di(t.type)&&Ni(),Xa(t),null;case 3:return r=t.stateNode,Xs(),_i(Ai),_i(xi),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(hu(ss),ss=null))),Oa(e,t),Xa(t),null;case 5:Js(t);var i=Qs(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Fa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Xa(t),null}if(e=Qs(Ws.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ma(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xa(t),null;case 6:if(e&&null!=t.stateNode)Va(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Gs.current),Qs(Ws.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Xa(t),null;case 13:if(_i(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xa(t),o=!1}else null!==ss&&(hu(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ul&&(Ul=3):bu())),null!==t.updateQueue&&(t.flags|=4),Xa(t),null);case 4:return Xs(),Oa(e,t),null===e&&zr(t.stateNode.containerInfo),Xa(t),null;case 10:return Is(t.type._context),Xa(t),null;case 19:if(_i(Zs),null===(o=t.memoizedState))return Xa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ya(o,!1);else{if(0!==Ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ya(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Gl&&(t.flags|=128,r=!0,Ya(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ya(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Xa(t),null}else 2*$e()-o.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Ya(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Zs.current,Ci(Zs,r?1&n|2:1&n),t):(Xa(t),null);case 22:case 23:return gu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Xa(t),6&t.subtreeFlags&&(t.flags|=8192)):Xa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ja(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),_i(Ai),_i(xi),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(_i(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(Zs),null;case 4:return Xs(),null;case 10:return Is(t.type._context),null;case 22:case 23:return gu(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Fa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Ws.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Va=function(e,t,n,r){n!==r&&(t.flags|=4)};var Za=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null;function rl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Au(e,t,r)}else n.current=null}function il(e,t,n){try{n()}catch(r){Au(e,t,r)}}var sl=!1;function ol(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&il(t,n,s)}i=i.next}while(i!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ll(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ul(e){var t=e.alternate;null!==t&&(e.alternate=null,ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cl(e){return 5===e.tag||3===e.tag||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}function fl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(fl(e,t,n),e=e.sibling;null!==e;)fl(e,t,n),e=e.sibling}var pl=null,ml=!1;function gl(e,t,n){for(n=n.child;null!==n;)vl(e,t,n),n=n.sibling}function vl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:el||rl(n,t);case 6:var r=pl,i=ml;pl=null,gl(e,t,n),ml=i,null!==(pl=r)&&(ml?(e=pl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):pl.removeChild(n.stateNode));break;case 18:null!==pl&&(ml?(e=pl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(pl,n.stateNode));break;case 4:r=pl,i=ml,pl=n.stateNode.containerInfo,ml=!0,gl(e,t,n),pl=r,ml=i;break;case 0:case 11:case 14:case 15:if(!el&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&il(n,t,o),i=i.next}while(i!==r)}gl(e,t,n);break;case 1:if(!el&&(rl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Au(n,t,a)}gl(e,t,n);break;case 21:gl(e,t,n);break;case 22:1&n.mode?(el=(r=el)||null!==n.memoizedState,gl(e,t,n),el=r):gl(e,t,n);break;default:gl(e,t,n)}}function yl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new tl),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:pl=l.stateNode,ml=!1;break e;case 3:case 4:pl=l.stateNode.containerInfo,ml=!0;break e}l=l.return}if(null===pl)throw Error(s(160));vl(o,a,i),pl=null,ml=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(jo){Au(i,t,jo)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bl(t,e),t=t.sibling}function bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wl(t,e),El(e),4&r){try{ol(3,e,e.return),al(3,e)}catch(g){Au(e,e.return,g)}try{ol(5,e,e.return)}catch(g){Au(e,e.return,g)}}break;case 1:wl(t,e),El(e),512&r&&null!==n&&rl(n,n.return);break;case 5:if(wl(t,e),El(e),512&r&&null!==n&&rl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Au(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),we(l,a);var c=we(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Au(e,e.return,g)}}break;case 6:if(wl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Au(e,e.return,g)}}break;case 3:if(wl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Au(e,e.return,g)}break;case 4:default:wl(t,e),El(e);break;case 13:wl(t,e),El(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Kl=$e())),4&r&&yl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(el=(c=el)||h,wl(t,e),el=c):wl(t,e),El(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(nl=e,h=e.child;null!==h;){for(d=nl=h;null!==nl;){switch(p=(f=nl).child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:rl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Au(r,n,g)}}break;case 5:rl(f,f.return);break;case 22:if(null!==f.memoizedState){Cl(d);continue}}null!==p?(p.return=f,nl=p):Cl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Au(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Au(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wl(t,e),El(e),4&r&&yl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(cl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),fl(e,hl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;dl(e,hl(e),o);break;default:throw Error(s(161))}}catch(Oo){Au(e,e.return,Oo)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e,t,n){nl=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==nl;){var i=nl,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Za;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||el;a=Za;var u=el;if(Za=o,(el=l)&&!u)for(nl=i;null!==nl;)l=(o=nl).child,22===o.tag&&null!==o.memoizedState?Il(i):null!==l?(l.return=o,nl=l):Il(i);for(;null!==s;)nl=s,kl(s,t,n),s=s.sibling;nl=i,Za=a,el=u}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,nl=s):_l(e)}}function _l(e){for(;null!==nl;){var t=nl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:el||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!el)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:oa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}el||512&t.flags&&ll(t)}catch(Yo){Au(t,t.return,Yo)}}if(t===e){nl=null;break}if(null!==(n=t.sibling)){n.return=t.return,nl=n;break}nl=t.return}}function Cl(e){for(;null!==nl;){var t=nl;if(t===e){nl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,nl=n;break}nl=t.return}}function Il(e){for(;null!==nl;){var t=nl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(Oo){Au(t,n,Oo)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Oo){Au(t,i,Oo)}}var s=t.return;try{ll(t)}catch(Oo){Au(t,s,Oo)}break;case 5:var o=t.return;try{ll(t)}catch(Oo){Au(t,o,Oo)}}}catch(Oo){Au(t,t.return,Oo)}if(t===e){nl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,nl=a;break}nl=t.return}}var xl,Al=Math.ceil,Pl=b.ReactCurrentDispatcher,Rl=b.ReactCurrentOwner,Dl=b.ReactCurrentBatchConfig,Nl=0,Ll=null,Ml=null,Ol=0,Fl=0,Vl=ki(0),Ul=0,jl=null,Bl=0,zl=0,ql=0,Hl=null,Wl=null,Kl=0,Gl=1/0,Ql=null,Yl=!1,Xl=null,$l=null,Jl=!1,Zl=null,eu=0,tu=0,nu=null,ru=-1,iu=0;function su(){return 0!==(6&Nl)?$e():-1!==ru?ru:ru=$e()}function ou(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==ms.transition?(0===iu&&(iu=mt()),iu):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function au(e,t,n,r){if(50<tu)throw tu=0,nu=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Ll||(e===Ll&&(0===(2&Nl)&&(zl|=n),4===Ul&&du(e,Ol)),lu(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Gl=$e()+500,Ui&&zi()))}function lu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ll?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(fu.bind(null,e)):Bi(fu.bind(null,e)),oi((function(){0===(6&Nl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lu(n,uu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uu(e,t){if(ru=-1,iu=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var r=dt(e,e===Ll?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Eu(e,r);else{t=r;var i=Nl;Nl|=2;var o=wu();for(Ll===e&&Ol===t||(Ql=null,Gl=$e()+500,vu(e,t));;)try{Tu();break}catch(l){yu(e,l)}Cs(),Pl.current=o,Nl=i,null!==Ml?t=0:(Ll=null,Ol=0,t=Ul)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=cu(e,i))),1===t)throw n=jl,vu(e,0),du(e,r),lu(e,$e()),n;if(6===t)du(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Eu(e,r))&&(0!==(o=pt(e))&&(r=o,t=cu(e,o))),1===t))throw n=jl,vu(e,0),du(e,r),lu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Cu(e,Wl,Ql);break;case 3:if(du(e,r),(130023424&r)===r&&10<(t=Kl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){su(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Cu.bind(null,e,Wl,Ql),t);break}Cu(e,Wl,Ql);break;case 4:if(du(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ri(Cu.bind(null,e,Wl,Ql),r);break}Cu(e,Wl,Ql);break;default:throw Error(s(329))}}}return lu(e,$e()),e.callbackNode===n?uu.bind(null,e):null}function cu(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(vu(e,t).flags|=256),2!==(e=Eu(e,t))&&(t=Wl,Wl=n,null!==t&&hu(t)),e}function hu(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function du(e,t){for(t&=~ql,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function fu(e){if(0!==(6&Nl))throw Error(s(327));Iu();var t=dt(e,0);if(0===(1&t))return lu(e,$e()),null;var n=Eu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=cu(e,r))}if(1===n)throw n=jl,vu(e,0),du(e,t),lu(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e,Wl,Ql),lu(e,$e()),null}function pu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Gl=$e()+500,Ui&&zi())}}function mu(e){null!==Zl&&0===Zl.tag&&0===(6&Nl)&&Iu();var t=Nl;Nl|=1;var n=Dl.transition,r=wt;try{if(Dl.transition=null,wt=1,e)return e()}finally{wt=r,Dl.transition=n,0===(6&(Nl=t))&&zi()}}function gu(){Fl=Vl.current,_i(Vl)}function vu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Xs(),_i(Ai),_i(xi),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:_i(Zs);break;case 10:Is(r.type._context);break;case 22:case 23:gu()}n=n.return}if(Ll=e,Ml=e=Vu(e.current,null),Ol=Fl=t,Ul=0,jl=null,ql=zl=Bl=0,Wl=Hl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Rs=null}return e}function yu(e,t){for(;;){var n=Ml;try{if(Cs(),ro.current=na,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,Rl.current=null,null===n||null===n.return){Ul=1,jl=t,Ml=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ba(a);if(null!==p){p.flags&=-257,Ea(p,a,l,0,t),1&p.mode&&wa(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){wa(o,c,t),bu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=ba(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ea(v,a,l,0,t),ps(fa(u,l));break e}}o=u=fa(u,l),4!==Ul&&(Ul=2),null===Hl?Hl=[o]:Hl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,va(0,u,t));break e;case 1:l=u;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$l||!$l.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,ya(o,l,t));break e}}o=o.return}while(null!==o)}_u(n)}catch(Zo){t=Zo,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function wu(){var e=Pl.current;return Pl.current=na,null===e?na:e}function bu(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Ll||0===(268435455&Bl)&&0===(268435455&zl)||du(Ll,Ol)}function Eu(e,t){var n=Nl;Nl|=2;var r=wu();for(Ll===e&&Ol===t||(Ql=null,vu(e,t));;)try{Su();break}catch(i){yu(e,i)}if(Cs(),Nl=n,Pl.current=r,null!==Ml)throw Error(s(261));return Ll=null,Ol=0,Ul}function Su(){for(;null!==Ml;)ku(Ml)}function Tu(){for(;null!==Ml&&!Ye();)ku(Ml)}function ku(e){var t=xl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?_u(e):Ml=t,Rl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,Fl)))return void(Ml=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Ul=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Ul&&(Ul=5)}function Cu(e,t,n){var r=wt,i=Dl.transition;try{Dl.transition=null,wt=1,function(e,t,n,r){do{Iu()}while(null!==Zl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ll&&(Ml=Ll=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Lu(tt,(function(){return Iu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Dl.transition,Dl.transition=null;var a=wt;wt=1;var l=Nl;Nl|=4,Rl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Sl){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){t=nl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:oa(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Sl){Au(t,t.return,Sl)}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=sl,sl=!1}(e,n),bl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,Tl(n,e,i),Xe(),Nl=l,wt=a,Dl.transition=o}else e.current=n;if(Jl&&(Jl=!1,Zl=e,eu=i),o=e.pendingLanes,0===o&&($l=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Xl,Xl=null,e;0!==(1&eu)&&0!==e.tag&&Iu(),o=e.pendingLanes,0!==(1&o)?e===nu?tu++:(tu=0,nu=e):tu=0,zi()}(e,t,n,r)}finally{Dl.transition=i,wt=r}return null}function Iu(){if(null!==Zl){var e=bt(eu),t=Dl.transition,n=wt;try{if(Dl.transition=null,wt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,eu=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,nl=e.current;null!==nl;){var o=nl,a=o.child;if(0!==(16&nl.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(nl=c;null!==nl;){var h=nl;switch(h.tag){case 0:case 11:case 15:ol(8,h,o)}var d=h.child;if(null!==d)d.return=h,nl=d;else for(;null!==nl;){var f=(h=nl).sibling,p=h.return;if(ul(h),h===c){nl=null;break}if(null!==f){f.return=p,nl=f;break}nl=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}nl=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,nl=a;else e:for(;null!==nl;){if(0!==(2048&(o=nl).flags))switch(o.tag){case 0:case 11:case 15:ol(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,nl=y;break e}nl=o.return}}var w=e.current;for(nl=w;null!==nl;){var b=(a=nl).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,nl=b;else e:for(a=w;null!==nl;){if(0!==(2048&(l=nl).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(Zo){Au(l,l.return,Zo)}if(l===a){nl=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,nl=E;break e}nl=l.return}}if(Nl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(Zo){}r=!0}return r}finally{wt=n,Dl.transition=t}}return!1}function xu(e,t,n){e=Us(e,t=va(0,t=fa(n,t),1),1),t=su(),null!==e&&(vt(e,1,t),lu(e,t))}function Au(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Us(t,e=ya(t,e=fa(n,e),1),1),e=su(),null!==t&&(vt(t,1,e),lu(t,e));break}}t=t.return}}function Pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=su(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Ol&n)===n&&(4===Ul||3===Ul&&(130023424&Ol)===Ol&&500>$e()-Kl?vu(e,0):ql|=n),lu(e,t)}function Ru(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=su();null!==(e=Ls(e,t))&&(vt(e,t,n),lu(e,n))}function Du(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ru(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ru(e,n)}function Lu(e,t){return Ge(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Mu(e,t,n,r)}function Fu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Fu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return ju(n.children,i,o,t);case k:a=8,i|=8;break;case _:return(e=Ou(12,n,t,2|i)).elementType=_,e.lanes=o,e;case A:return(e=Ou(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Ou(19,n,t,i)).elementType=P,e.lanes=o,e;case N:return Bu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case I:a=9;break e;case x:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ou(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ju(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Bu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function qu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wu(e,t,n,r,i,s,o,a,l){return e=new Hu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ou(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Ku(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function Gu(e,t,n,r,i,s,o,a,l){return(e=Wu(n,r,!0,e,0,s,0,a,l)).context=Ku(null),n=e.current,(s=Vs(r=su(),i=ou(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),lu(e,r),e}function Qu(e,t,n,r){var i=t.current,s=su(),o=ou(i);return n=Ku(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(au(e,i,o,s),js(e,i,o)),o}function Yu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)Ta=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ta=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:$s(t);break;case 1:Di(t.type)&&Oi(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(Ci(Zs,1&Zs.current),null!==(e=Qa(e,t,n))?e.sibling:null);Ci(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ka(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Qa(e,t,n)}(e,t,n);Ta=0!==(131072&e.flags)}else Ta=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var i=Ri(t,xi.current);As(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=la,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Da(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ka(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=oa(r,e),i){case 0:t=Pa(null,t,r,e,n);break e;case 1:t=Ra(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,oa(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:oa(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:oa(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),zs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=La(e,t,r,n,i=fa(Error(s(423)),t));break e}if(r!==i){t=La(e,t,r,n,i=fa(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Qa(e,t,n);break e}ka(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Aa(e,t),ka(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Ba(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ka(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:oa(r,i),n);case 7:return ka(e,t,t.pendingProps,n),t.child;case 8:case 12:return ka(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(Ss,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=Qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Vs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xs(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ka(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Ps(i)),t.flags|=1,ka(e,t,r,n),t.child;case 14:return i=oa(r=t.type,t.pendingProps),Ca(e,t,r,i=oa(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:oa(r,i),Ga(e,t),t.tag=1,Di(r)?(e=!0,Oi(t)):e=!1,As(t,n),ca(t,r,i),da(t,r,i,n),Da(null,t,r,!0,e,n);case 19:return Ka(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Ju="function"===typeof reportError?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}function ec(e){this._internalRoot=e}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(){}function ic(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Yu(o);a.call(e)}}Qu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Yu(o);s.call(e)}}var o=Gu(t,r,e,0,null,!1,0,"",rc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),mu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Yu(l);a.call(e)}}var l=Wu(e,0,!1,null,0,!1,0,"",rc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),mu((function(){Qu(t,l,n,r)})),l}(n,t,e,i,r);return Yu(o)}ec.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qu(e,t,null,null)},ec.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mu((function(){Qu(null,e,null,null)})),t[pi]=null}},ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),lu(t,$e()),0===(6&Nl)&&(Gl=$e()+500,zi()))}break;case 13:mu((function(){var t=Ls(e,1);if(null!==t){var n=su();au(t,e,1,n)}})),$u(e,1)}},St=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)au(t,e,134217728,su());$u(e,134217728)}},Tt=function(e){if(13===e.tag){var t=ou(e),n=Ls(e,t);if(null!==n)au(n,e,t,su());$u(e,t)}},kt=function(){return wt},_t=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=pu,Ae=mu;var sc={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Ce,Ie,pu]},oc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ac={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{it=lc.inject(ac),st=lc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tc(e))throw Error(s(299));var n=!1,r="",i=Ju;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return mu(e)},t.hydrate=function(e,t,n){if(!nc(t))throw Error(s(200));return ic(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ju;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Gu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ec(t)},t.render=function(e,t,n){if(!nc(t))throw Error(s(200));return ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(s(40));return!!e._reactRootContainer&&(mu((function(){ic(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ic(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var u=0;u<e.length;u++){var c=s+x(a=e[u],u);l+=A(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,c=s+x(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},N={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:N,ReactCurrentOwner:T};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,N(S);else{var t=r(c);null!==t&&L(E,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&L(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,k=!1,_=null,C=-1,I=5,x=-1;function A(){return!(t.unstable_now()-x<I)}function P(){if(null!==_){var e=t.unstable_now();x=e;var n=!0;try{n=_(!0,e)}finally{n?T():(k=!1,_=null)}}else k=!1}if("function"===typeof w)T=function(){w(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=P,T=function(){D.postMessage(null)}}else T=function(){v(P,0)};function N(e){_=e,k||(k=!0,T())}function L(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(C),C=-1):g=!0,L(E,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,N(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),s=n.t(i,2),o=n(391),a=n(950),l=n.t(a,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,d=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(u({},a.state,{idx:g}),""));let b={get action(){return l},get location(){return e(s,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),d=e,()=>{s.removeEventListener(c,y),d=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(b.location,e,t);n&&n(i,e),g=v()+1;let u=f(i,g),c=b.createHref(i);try{a.pushState(u,"",c)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(c)}o&&d&&d({action:l,location:b.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(b.location,e,t);n&&n(i,e),g=v();let s=f(i,g),u=b.createHref(i);a.replaceState(s,"",u),o&&d&&d({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const w=new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let s=[...n,String(i)],o="string"===typeof e.id?e.id:s.join("-");if(h(!0!==e.index||!e.children,"Cannot specify children on an index route"),h(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=u({},e,t(e),{id:o});return r[o]=n,n}{let n=u({},e,t(e),{id:o,children:void 0});return r[o]=n,e.children&&(n.children=b(e.children,t,s,r)),n}}))}function E(e,t,n){return void 0===n&&(n="/"),S(e,t,n,!1)}function S(e,t,n,r){let i=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let s=T(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=M(i);o=N(s[a],e,r)}return o}function T(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=B([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),T(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:D(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))i(e,t,r);else i(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=k(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,C=3,I=2,x=1,A=10,P=-2,R=e=>"*"===e;function D(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=P),t&&(r+=I),n.filter((e=>!R(e))).reduce(((e,t)=>e+(_.test(t)?C:""===t?x:A)),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:B([s,c.pathname]),pathnameBase:z(B([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=B([s,c.pathnameBase]))}return o}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function M(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function V(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function U(e,t){let n=V(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=u({},e),h(!i.pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),F("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:q(r),hash:H(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class W{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],Q=new Set(G),Y=["get",...G],X=new Set(Y),$=new Set([301,302,303,307,308]),J=new Set([307,308]),Z={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ee={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},te={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ie="remix-router-transitions";function se(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,i=!n;let s;if(h(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;s=e=>({hasErrorBoundary:t(e)})}else s=re;let o,a,l,c={},f=b(e.routes,s,void 0,c),m=e.basename||"/",g=e.unstable_dataStrategy||me,v=e.unstable_patchRoutesOnMiss,w=u({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),T=null,k=new Set,_=null,C=null,I=null,x=null!=e.hydrationData,A=E(f,e.history.location,m),P=null;if(null==A&&!v){let t=Ae(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=xe(f);A=n,P={[r.id]:t}}if(A)if(A.some((e=>e.route.lazy)))a=!1;else if(A.some((e=>e.route.loader)))if(w.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=A.findIndex((e=>void 0!==n[e.route.id]));a=A.slice(0,e+1).every(r)}else a=A.every(r)}else a=null!=e.hydrationData;else a=!0;else a=!1,A=[];let R,D={historyAction:e.history.action,location:e.history.location,matches:A,initialized:a,navigation:Z,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||P,fetchers:new Map,blockers:new Map},N=r.Pop,L=!1,M=!1,F=new Map,V=null,U=!1,j=!1,B=[],z=[],q=new Map,H=0,W=-1,G=new Map,Q=new Set,Y=new Map,X=new Map,$=new Set,se=new Map,le=new Map,ce=new Map,he=!1;function pe(e,t){void 0===t&&(t={}),D=u({},D,e);let n=[],r=[];w.v7_fetcherPersist&&D.fetchers.forEach(((e,t)=>{"idle"===e.state&&($.has(t)?r.push(t):n.push(t))})),[...k].forEach((e=>e(D,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),w.v7_fetcherPersist&&(n.forEach((e=>D.fetchers.delete(e))),r.forEach((e=>Xe(e))))}function Ee(t,n,i){var s,a;let l,{flushSync:c}=void 0===i?{}:i,h=null!=D.actionData&&null!=D.navigation.formMethod&&Ve(D.navigation.formMethod)&&"loading"===D.navigation.state&&!0!==(null==(s=t.state)?void 0:s._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?D.actionData:null;let d=n.loaderData?_e(D.loaderData,n.loaderData,n.matches||[],n.errors):D.loaderData,p=D.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,te))));let m,g=!0===L||null!=D.navigation.formMethod&&Ve(D.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(o&&(f=o,o=void 0),U||N===r.Pop||(N===r.Push?e.history.push(t,t.state):N===r.Replace&&e.history.replace(t,t.state)),N===r.Pop){let e=F.get(D.location.pathname);e&&e.has(t.pathname)?m={currentLocation:D.location,nextLocation:t}:F.has(t.pathname)&&(m={currentLocation:t,nextLocation:D.location})}else if(M){let e=F.get(D.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),F.set(D.location.pathname,e)),m={currentLocation:D.location,nextLocation:t}}pe(u({},n,{actionData:l,loaderData:d,historyAction:N,location:t,initialized:!0,navigation:Z,revalidation:"idle",restoreScrollPosition:lt(t,n.matches||D.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===c}),N=r.Pop,L=!1,M=!1,U=!1,j=!1,B=[],z=[]}async function Se(t,n,i){R&&R.abort(),R=null,N=t,U=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(_&&I){let n=at(e,t);_[n]=I()}}(D.location,D.matches),L=!0===(i&&i.preventScrollReset),M=!0===(i&&i.enableViewTransition);let s=o||f,a=i&&i.overrideNavigation,l=E(s,n,m),c=!0===(i&&i.flushSync),h=ut(l,s,n.pathname);if(h.active&&h.matches&&(l=h.matches),!l){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return void Ee(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:c})}if(D.initialized&&!j&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(D.location,n)&&!(i&&i.submission&&Ve(i.submission.formMethod)))return void Ee(n,{matches:l},{flushSync:c});R=new AbortController;let d,p=be(e.history,n,R.signal,i&&i.submission);if(i&&i.pendingError)d=[Ie(l).route.id,{type:y.error,error:i.pendingError}];else if(i&&i.submission&&Ve(i.submission.formMethod)){let t=await async function(e,t,n,i,s,o){void 0===o&&(o={});Be();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(pe({navigation:l},{flushSync:!0===o.flushSync}),s){let n=await ct(i,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{error:e,notFoundMatches:r,route:i}=st(t.pathname,n);return{matches:r,pendingActionResult:[i.id,{type:y.error,error:e}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=it(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:y.error,error:n}]}}i=n.matches}let u=ze(i,t);if(u.route.action||u.route.lazy){if(a=(await Oe("action",e,[u],i))[0],e.signal.aborted)return{shortCircuited:!0}}else a={type:y.error,error:Ae(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(Me(a)){let t;if(o&&null!=o.replace)t=o.replace;else{t=we(a.response.headers.get("Location"),new URL(e.url),m)===D.location.pathname+D.location.search}return await Re(e,a,{submission:n,replace:t}),{shortCircuited:!0}}if(Ne(a))throw Ae(400,{type:"defer-action"});if(Le(a)){let e=Ie(i,u.route.id);return!0!==(o&&o.replace)&&(N=r.Push),{matches:i,pendingActionResult:[e.route.id,a]}}return{matches:i,pendingActionResult:[u.route.id,a]}}(p,n,i.submission,l,h.active,{replace:i.replace,flushSync:c});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Le(r)&&K(r.error)&&404===r.error.status)return R=null,void Ee(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}l=t.matches||l,d=t.pendingActionResult,a=He(n,i.submission),c=!1,h.active=!1,p=be(e.history,p.url,p.signal)}let{shortCircuited:g,matches:v,loaderData:b,errors:S}=await async function(t,n,r,i,s,a,l,c,h,d,p){let g=s||He(n,a),v=a||l||qe(g),y=!U&&(!w.v7_partialHydration||!h);if(i){if(y){let e=Te(p);pe(u({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:d})}let e=await ct(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{error:t,notFoundMatches:r,route:i}=st(n.pathname,e);return{matches:r,loaderData:{},errors:{[i.id]:t}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=e.matches}let b=o||f,[E,S]=ue(e.history,D,r,v,n,w.v7_partialHydration&&!0===h,w.unstable_skipActionErrorRevalidation,j,B,z,$,Y,Q,b,m,p);if(ot((e=>!(r&&r.some((t=>t.route.id===e)))||E&&E.some((t=>t.route.id===e)))),W=++H,0===E.length&&0===S.length){let e=Ze();return Ee(n,u({matches:r,loaderData:{},errors:p&&Le(p[1])?{[p[0]]:p[1].error}:null},Ce(p),e?{fetchers:new Map(D.fetchers)}:{}),{flushSync:d}),{shortCircuited:!0}}if(y){let e={};if(!i){e.navigation=g;let t=Te(p);void 0!==t&&(e.actionData=t)}S.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=D.fetchers.get(e.key),n=We(void 0,t?t.data:void 0);D.fetchers.set(e.key,n)})),new Map(D.fetchers)}(S)),pe(e,{flushSync:d})}S.forEach((e=>{q.has(e.key)&&$e(e.key),e.controller&&q.set(e.key,e.controller)}));let T=()=>S.forEach((e=>$e(e.key)));R&&R.signal.addEventListener("abort",T);let{loaderResults:k,fetcherResults:_}=await Fe(D.matches,r,E,S,t);if(t.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",T);S.forEach((e=>q.delete(e.key)));let C=Pe([...k,..._]);if(C){if(C.idx>=E.length){let e=S[C.idx-E.length].key;Q.add(e)}return await Re(t,C.result,{replace:c}),{shortCircuited:!0}}let{loaderData:I,errors:x}=ke(D,r,E,k,p,S,_,se);se.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&se.delete(t)}))})),w.v7_partialHydration&&h&&D.errors&&Object.entries(D.errors).filter((e=>{let[t]=e;return!E.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;x=Object.assign(x||{},{[t]:n})}));let A=Ze(),P=et(W),N=A||P||S.length>0;return u({matches:r,loaderData:I,errors:x},N?{fetchers:new Map(D.fetchers)}:{})}(p,n,l,h.active,a,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,c,d);g||(R=null,Ee(n,u({matches:v||l},Ce(d),{loaderData:b,errors:S})))}function Te(e){return e&&!Le(e[1])?{[e[0]]:e[1].data}:D.actionData?0===Object.keys(D.actionData).length?null:D.actionData:void 0}async function Re(i,s,o){let{submission:a,fetcherSubmission:l,replace:c}=void 0===o?{}:o;s.response.headers.has("X-Remix-Revalidate")&&(j=!0);let d=s.response.headers.get("Location");h(d,"Expected a Location header on the redirect Response"),d=we(d,new URL(i.url),m);let f=p(D.location,d,{_isRedirect:!0});if(n){let n=!1;if(s.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(ne.test(d)){const r=e.history.createURL(d);n=r.origin!==t.location.origin||null==O(r.pathname,m)}if(n)return void(c?t.location.replace(d):t.location.assign(d))}R=null;let g=!0===c?r.Replace:r.Push,{formMethod:v,formAction:y,formEncType:w}=D.navigation;!a&&!l&&v&&y&&w&&(a=qe(D.navigation));let b=a||l;if(J.has(s.response.status)&&b&&Ve(b.formMethod))await Se(g,f,{submission:u({},b,{formAction:d}),preventScrollReset:L});else{let e=He(f,a);await Se(g,f,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:L})}}async function Oe(e,t,n,r){try{let i=await ge(g,e,t,n,r,c,s);return await Promise.all(i.map(((e,i)=>{if(De(e)){let s=e.result;return{type:y.redirect,response:ye(s,t,n[i].route.id,r,m,w.v7_relativeSplatPath)}}return ve(e)})))}catch(i){return n.map((()=>({type:y.error,error:i})))}}async function Fe(t,n,r,i,s){let[o,...a]=await Promise.all([r.length?Oe("loader",s,r,n):[],...i.map((t=>{if(t.matches&&t.match&&t.controller){return Oe("loader",be(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:y.error,error:Ae(404,{pathname:t.path})})}))]);return await Promise.all([Ue(t,r,o,o.map((()=>s.signal)),!1,D.loaderData),Ue(t,i.map((e=>e.match)),a,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:o,fetcherResults:a}}function Be(){j=!0,B.push(...ot()),Y.forEach(((e,t)=>{q.has(t)&&(z.push(t),$e(t))}))}function Ge(e,t,n){void 0===n&&(n={}),D.fetchers.set(e,t),pe({fetchers:new Map(D.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Qe(e,t,n,r){void 0===r&&(r={});let i=Ie(D.matches,t);Xe(e),pe({errors:{[i.route.id]:n},fetchers:new Map(D.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Ye(e){return w.v7_fetcherPersist&&(X.set(e,(X.get(e)||0)+1),$.has(e)&&$.delete(e)),D.fetchers.get(e)||ee}function Xe(e){let t=D.fetchers.get(e);!q.has(e)||t&&"loading"===t.state&&G.has(e)||$e(e),Y.delete(e),G.delete(e),Q.delete(e),$.delete(e),D.fetchers.delete(e)}function $e(e){let t=q.get(e);h(t,"Expected fetch controller: "+e),t.abort(),q.delete(e)}function Je(e){for(let t of e){let e=Ke(Ye(t).data);D.fetchers.set(t,e)}}function Ze(){let e=[],t=!1;for(let n of Q){let r=D.fetchers.get(n);h(r,"Expected fetcher: "+n),"loading"===r.state&&(Q.delete(n),e.push(n),t=!0)}return Je(e),t}function et(e){let t=[];for(let[n,r]of G)if(r<e){let e=D.fetchers.get(n);h(e,"Expected fetcher: "+n),"loading"===e.state&&($e(n),G.delete(n),t.push(n))}return Je(t),t.length>0}function tt(e){D.blockers.delete(e),le.delete(e)}function nt(e,t){let n=D.blockers.get(e)||te;h("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(D.blockers);r.set(e,t),pe({blockers:r})}function rt(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===le.size)return;le.size>1&&d(!1,"A router only supports one blocker at a time");let i=Array.from(le.entries()),[s,o]=i[i.length-1],a=D.blockers.get(s);return a&&"proceeding"===a.state?void 0:o({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function it(e){let t=Ae(404,{pathname:e}),n=o||f,{matches:r,route:i}=xe(n);return ot(),{notFoundMatches:r,route:i,error:t}}function st(e,t){let n=t.partialMatches,r=n[n.length-1].route;return{notFoundMatches:n,route:r,error:Ae(400,{type:"route-discovery",routeId:r.id,pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function ot(e){let t=[];return se.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),se.delete(r))})),t}function at(e,t){if(C){return C(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,D.loaderData))))||e.key}return e.key}function lt(e,t){if(_){let n=at(e,t),r=_[n];if("number"===typeof r)return r}return null}function ut(e,t,n){if(v){if(!e){return{active:!0,matches:S(t,n,m,!0)||[]}}if("*"===e[e.length-1].route.path){return{active:!0,matches:S(t,n,m,!0)}}}return{active:!1,matches:null}}async function ct(e,t,n){let r=e,i=r.length>0?r[r.length-1].route:null;for(;;){try{await de(v,t,r,f||o,c,s,ce,n)}catch(a){return{type:"error",error:a,partialMatches:r}}if(n.aborted)return{type:"aborted"};let e=o||f,l=E(e,t,m),u=!1;if(l){let e=l[l.length-1].route;if(e.index)return{type:"success",matches:l};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:l};u=!0}}let h=S(e,t,m,!0);if(!h||r.map((e=>e.route.id)).join("-")===h.map((e=>e.route.id)).join("-"))return{type:"success",matches:u?l:null};if(r=h,i=r[r.length-1].route,"*"===i.path)return{type:"success",matches:r}}}return l={get basename(){return m},get future(){return w},get state(){return D},get routes(){return f},get window(){return t},initialize:function(){if(T=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(he)return void(he=!1);d(0===le.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=rt({currentLocation:D.location,nextLocation:r,historyAction:n});return s&&null!=i?(he=!0,e.history.go(-1*i),void nt(s,{state:"blocked",location:r,proceed(){nt(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(D.blockers);e.set(s,te),pe({blockers:e})}})):Se(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(ie);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,F);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ie,JSON.stringify(r))}catch(n){d(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,F);t.addEventListener("pagehide",e),V=()=>t.removeEventListener("pagehide",e)}return D.initialized||Se(r.Pop,D.location,{initialHydration:!0}),l},subscribe:function(e){return k.add(e),()=>k.delete(e)},enableScrollRestoration:function(e,t,n){if(_=e,I=t,C=n||null,!x&&D.navigation===Z){x=!0;let e=lt(D.location,D.matches);null!=e&&pe({restoreScrollPosition:e})}return()=>{_=null,I=null,C=null}},navigate:async function t(n,i){if("number"===typeof n)return void e.history.go(n);let s=oe(D.location,D.matches,m,w.v7_prependBasename,n,w.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:o,submission:a,error:l}=ae(w.v7_normalizeFormMethod,!1,s,i),c=D.location,h=p(D.location,o,i&&i.state);h=u({},h,e.history.encodeLocation(h));let d=i&&null!=i.replace?i.replace:void 0,f=r.Push;!0===d?f=r.Replace:!1===d||null!=a&&Ve(a.formMethod)&&a.formAction===D.location.pathname+D.location.search&&(f=r.Replace);let g=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,v=!0===(i&&i.unstable_flushSync),y=rt({currentLocation:c,nextLocation:h,historyAction:f});if(!y)return await Se(f,h,{submission:a,pendingError:l,preventScrollReset:g,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:v});nt(y,{state:"blocked",location:h,proceed(){nt(y,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),t(n,i)},reset(){let e=new Map(D.blockers);e.set(y,te),pe({blockers:e})}})},fetch:function(t,n,r,s){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(t)&&$e(t);let a=!0===(s&&s.unstable_flushSync),l=o||f,u=oe(D.location,D.matches,m,w.v7_prependBasename,r,w.v7_relativeSplatPath,n,null==s?void 0:s.relative),c=E(l,u,m),d=ut(c,l,u);if(d.active&&d.matches&&(c=d.matches),!c)return void Qe(t,n,Ae(404,{pathname:u}),{flushSync:a});let{path:p,submission:g,error:v}=ae(w.v7_normalizeFormMethod,!0,u,s);if(v)return void Qe(t,n,v,{flushSync:a});let y=ze(c,p);L=!0===(s&&s.preventScrollReset),g&&Ve(g.formMethod)?async function(t,n,r,i,s,a,l,u){function c(e){if(!e.route.action&&!e.route.lazy){let e=Ae(405,{method:u.formMethod,pathname:r,routeId:n});return Qe(t,n,e,{flushSync:l}),!0}return!1}if(Be(),Y.delete(t),!a&&c(i))return;let d=D.fetchers.get(t);Ge(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(u,d),{flushSync:l});let p=new AbortController,g=be(e.history,r,p.signal,u);if(a){let e=await ct(s,r,g.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=st(r,e);return void Qe(t,n,i,{flushSync:l})}if(!e.matches)return void Qe(t,n,Ae(404,{pathname:r}),{flushSync:l});if(c(i=ze(s=e.matches,r)))return}q.set(t,p);let v=H,y=await Oe("action",g,[i],s),b=y[0];if(g.signal.aborted)return void(q.get(t)===p&&q.delete(t));if(w.v7_fetcherPersist&&$.has(t)){if(Me(b)||Le(b))return void Ge(t,Ke(void 0))}else{if(Me(b))return q.delete(t),W>v?void Ge(t,Ke(void 0)):(Q.add(t),Ge(t,We(u)),Re(g,b,{fetcherSubmission:u}));if(Le(b))return void Qe(t,n,b.error)}if(Ne(b))throw Ae(400,{type:"defer-action"});let S=D.navigation.location||D.location,T=be(e.history,S,p.signal),k=o||f,_="idle"!==D.navigation.state?E(k,D.navigation.location,m):D.matches;h(_,"Didn't find any matches after fetcher action");let C=++H;G.set(t,C);let I=We(u,b.data);D.fetchers.set(t,I);let[x,A]=ue(e.history,D,_,u,S,!1,w.unstable_skipActionErrorRevalidation,j,B,z,$,Y,Q,k,m,[i.route.id,b]);A.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=D.fetchers.get(t),r=We(void 0,n?n.data:void 0);D.fetchers.set(t,r),q.has(t)&&$e(t),e.controller&&q.set(t,e.controller)})),pe({fetchers:new Map(D.fetchers)});let P=()=>A.forEach((e=>$e(e.key)));p.signal.addEventListener("abort",P);let{loaderResults:L,fetcherResults:M}=await Fe(D.matches,_,x,A,T);if(p.signal.aborted)return;p.signal.removeEventListener("abort",P),G.delete(t),q.delete(t),A.forEach((e=>q.delete(e.key)));let O=Pe([...L,...M]);if(O){if(O.idx>=x.length){let e=A[O.idx-x.length].key;Q.add(e)}return Re(T,O.result)}let{loaderData:F,errors:V}=ke(D,D.matches,x,L,void 0,A,M,se);if(D.fetchers.has(t)){let e=Ke(b.data);D.fetchers.set(t,e)}et(C),"loading"===D.navigation.state&&C>W?(h(N,"Expected pending action"),R&&R.abort(),Ee(D.navigation.location,{matches:_,loaderData:F,errors:V,fetchers:new Map(D.fetchers)})):(pe({errors:V,loaderData:_e(D.loaderData,F,_,V),fetchers:new Map(D.fetchers)}),j=!1)}(t,n,p,y,c,d.active,a,g):(Y.set(t,{routeId:n,path:p}),async function(t,n,r,i,s,o,a,l){let u=D.fetchers.get(t);Ge(t,We(l,u?u.data:void 0),{flushSync:a});let c=new AbortController,d=be(e.history,r,c.signal);if(o){let e=await ct(s,r,d.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=st(r,e);return void Qe(t,n,i,{flushSync:a})}if(!e.matches)return void Qe(t,n,Ae(404,{pathname:r}),{flushSync:a});i=ze(s=e.matches,r)}q.set(t,c);let f=H,p=await Oe("loader",d,[i],s),m=p[0];Ne(m)&&(m=await je(m,d.signal,!0)||m);q.get(t)===c&&q.delete(t);if(d.signal.aborted)return;if($.has(t))return void Ge(t,Ke(void 0));if(Me(m))return W>f?void Ge(t,Ke(void 0)):(Q.add(t),void await Re(d,m));if(Le(m))return void Qe(t,n,m.error);h(!Ne(m),"Unhandled fetcher deferred data"),Ge(t,Ke(m.data))}(t,n,p,y,c,d.active,a,g))},revalidate:function(){Be(),pe({revalidation:"loading"}),"submitting"!==D.navigation.state&&("idle"!==D.navigation.state?Se(N||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation}):Se(D.historyAction,D.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ye,deleteFetcher:function(e){if(w.v7_fetcherPersist){let t=(X.get(e)||0)-1;t<=0?(X.delete(e),$.add(e)):X.set(e,t)}else Xe(e);pe({fetchers:new Map(D.fetchers)})},dispose:function(){T&&T(),V&&V(),k.clear(),R&&R.abort(),D.fetchers.forEach(((e,t)=>Xe(t))),D.blockers.forEach(((e,t)=>tt(t)))},getBlocker:function(e,t){let n=D.blockers.get(e)||te;return le.get(e)!==t&&le.set(e,t),n},deleteBlocker:tt,patchRoutes:(e,t)=>fe(e,t,f||o,c,s),_internalFetchControllers:q,_internalActiveDeferreds:se,_internalSetRoutes:function(e){c={},o=b(e,s,void 0,c)}},l}Symbol("deferred");function oe(e,t,n,r,i,s,o,a){let l,u;if(o){l=[];for(let e of t)if(l.push(e),e.route.id===o){u=e;break}}else l=t,u=t[t.length-1];let c=j(i||".",U(l,s),O(e.pathname,n)||e.pathname,"path"===a);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||Be(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:B([n,c.pathname])),m(c)}function ae(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Fe(r.formMethod))return{path:n,error:Ae(405,{method:r.formMethod})};let i,s,o=()=>({path:n,error:Ae(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=e?a.toUpperCase():a.toLowerCase(),u=Re(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ve(l))return o();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ve(l))return o();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return o()}}}if(h("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=Ee(r.formData),s=r.formData;else if(r.body instanceof FormData)i=Ee(r.body),s=r.body;else if(r.body instanceof URLSearchParams)i=r.body,s=Se(i);else if(null==r.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(r.body),s=Se(i)}catch(f){return o()}let c={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ve(c.formMethod))return{path:n,submission:c};let d=g(n);return t&&d.search&&Be(d.search)&&i.append("index",""),d.search="?"+i,{path:m(d),submission:c}}function le(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function ue(e,t,n,r,i,s,o,a,l,c,h,d,f,p,m,g){let v=g?Le(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),w=e.createURL(i),b=g&&Le(g[1])?g[0]:void 0,S=b?le(n,b):n,T=g?g[1].statusCode:void 0,k=o&&T&&T>=400,_=S.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return!("function"===typeof i.loader&&!i.loader.hydrate)||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let o=t.matches[n],c=e;return he(e,u({currentUrl:y,currentParams:o.params,nextUrl:w,nextParams:c.params},r,{actionResult:v,unstable_actionStatus:T,defaultShouldRevalidate:!k&&(a||y.pathname+y.search===w.pathname+w.search||y.search!==w.search||ce(o,c))}))})),C=[];return d.forEach(((e,i)=>{if(s||!n.some((t=>t.route.id===e.routeId))||h.has(i))return;let o=E(p,e.path,m);if(!o)return void C.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(i),d=ze(o,e.path),g=!1;g=!f.has(i)&&(!!c.includes(i)||(l&&"idle"!==l.state&&void 0===l.data?a:he(d,u({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:v,unstable_actionStatus:T,defaultShouldRevalidate:!k&&a})))),g&&C.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:d,controller:new AbortController})})),[_,C]}function ce(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function he(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function de(e,t,n,r,i,s,o,a){let l=[t,...n.map((e=>e.route.id))].join("-");try{let c=o.get(l);c||(c=e({path:t,matches:n,patch:(e,t)=>{a.aborted||fe(e,t,r,i,s)}}),o.set(l,c)),c&&("object"===typeof(u=c)&&null!=u&&"then"in u)&&await c}finally{o.delete(l)}var u}function fe(e,t,n,r,i){if(e){var s;let n=r[e];h(n,"No route found to patch children into: routeId = "+e);let o=b(t,i,[e,"patch",String((null==(s=n.children)?void 0:s.length)||"0")],r);n.children?n.children.push(...o):n.children=o}else{let e=b(t,i,["patch",String(n.length||"0")],r);n.push(...e)}}async function pe(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];h(i,"No route found in manifest");let s={};for(let o in r){let e=void 0!==i[o]&&"hasErrorBoundary"!==o;d(!e,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),e||w.has(o)||(s[o]=r[o])}Object.assign(i,s),Object.assign(i,u({},t(i),{lazy:void 0}))}function me(e){return Promise.all(e.matches.map((e=>e.resolve())))}async function ge(e,t,n,r,i,s,o,a){let l=r.reduce(((e,t)=>e.add(t.route.id)),new Set),c=new Set,d=await e({matches:i.map((e=>{let r=l.has(e.route.id);return u({},e,{shouldLoad:r,resolve:i=>(c.add(e.route.id),r?async function(e,t,n,r,i,s,o){let a,l,u=r=>{let i,a=new Promise(((e,t)=>i=t));l=()=>i(),t.signal.addEventListener("abort",l);let u,c=i=>"function"!==typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:o},...void 0!==i?[i]:[]);return u=s?s((e=>c(e))):(async()=>{try{return{type:"data",result:await c()}}catch(e){return{type:"error",result:e}}})(),Promise.race([u,a])};try{let s=n.route[e];if(n.route.lazy)if(s){let e,[t]=await Promise.all([u(s).catch((t=>{e=t})),pe(n.route,i,r)]);if(void 0!==e)throw e;a=t}else{if(await pe(n.route,i,r),s=n.route[e],!s){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Ae(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:y.data,result:void 0}}a=await u(s)}else{if(!s){let e=new URL(t.url);throw Ae(404,{pathname:e.pathname+e.search})}a=await u(s)}h(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(c){return{type:y.error,result:c}}finally{l&&t.signal.removeEventListener("abort",l)}return a}(t,n,e,s,o,i,a):Promise.resolve({type:y.data,result:void 0}))})})),request:n,params:i[0].params,context:a});return i.forEach((e=>h(c.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),d.filter(((e,t)=>l.has(i[t].route.id)))}async function ve(e){let{result:t,type:n,status:r}=e;if(Oe(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(o){return{type:y.error,error:o}}return n===y.error?{type:y.error,error:new W(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:y.data,data:e,statusCode:t.status,headers:t.headers}}return n===y.error?{type:y.error,error:t,statusCode:K(t)?t.status:r}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:y.deferred,deferredData:t,statusCode:null==(i=t.init)?void 0:i.status,headers:(null==(s=t.init)?void 0:s.headers)&&new Headers(t.init.headers)}:{type:y.data,data:t,statusCode:r};var i,s}function ye(e,t,n,r,i,s){let o=e.headers.get("Location");if(h(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ne.test(o)){let a=r.slice(0,r.findIndex((e=>e.route.id===n))+1);o=oe(new URL(t.url),a,i,!0,o,s),e.headers.set("Location",o)}return e}function we(e,t,n){if(ne.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=null!=O(i.pathname,n);if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function be(e,t,n,r){let i=e.createURL(Re(t)).toString(),s={signal:n};if(r&&Ve(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=Ee(r.formData):s.body=r.formData}return new Request(i,s)}function Ee(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function Se(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Te(e,t,n,r,i,s){let o,a={},l=null,u=!1,c={},d=r&&Le(r[1])?r[1].error:void 0;return n.forEach(((n,r)=>{let f=t[r].route.id;if(h(!Me(n),"Cannot handle redirect results in processLoaderData"),Le(n)){let t=n.error;if(void 0!==d&&(t=d,d=void 0),l=l||{},s)l[f]=t;else{let n=Ie(e,f);null==l[n.route.id]&&(l[n.route.id]=t)}a[f]=void 0,u||(u=!0,o=K(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else Ne(n)?(i.set(f,n.deferredData),a[f]=n.deferredData.data,null==n.statusCode||200===n.statusCode||u||(o=n.statusCode),n.headers&&(c[f]=n.headers)):(a[f]=n.data,n.statusCode&&200!==n.statusCode&&!u&&(o=n.statusCode),n.headers&&(c[f]=n.headers))})),void 0!==d&&r&&(l={[r[0]]:d},a[r[0]]=void 0),{loaderData:a,errors:l,statusCode:o||200,loaderHeaders:c}}function ke(e,t,n,r,i,s,o,a){let{loaderData:l,errors:c}=Te(t,n,r,i,a,!1);for(let d=0;d<s.length;d++){let{key:t,match:n,controller:r}=s[d];h(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");let i=o[d];if(!r||!r.signal.aborted)if(Le(i)){let r=Ie(e.matches,null==n?void 0:n.route.id);c&&c[r.route.id]||(c=u({},c,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(Me(i))h(!1,"Unhandled fetcher revalidation redirect");else if(Ne(i))h(!1,"Unhandled fetcher deferred data");else{let n=Ke(i.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:c}}function _e(e,t,n,r){let i=u({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function Ce(e){return e?Le(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ie(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function xe(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ae(e,t){let{pathname:n,routeId:r,method:i,type:s,message:o}=void 0===t?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(a="Bad Request","route-discovery"===s?l='Unable to match URL "'+n+'" - the `children()` function for route `'+r+"` threw the following error:\n"+o:i&&n&&r?l="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?l="defer() is not supported in actions":"invalid-body"===s&&(l="Unable to encode submission body")):403===e?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",l='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new W(e||500,a,new Error(l),!0)}function Pe(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Me(n))return{result:n,idx:t}}}function Re(e){return m(u({},"string"===typeof e?g(e):e,{hash:""}))}function De(e){return Oe(e.result)&&$.has(e.result.status)}function Ne(e){return e.type===y.deferred}function Le(e){return e.type===y.error}function Me(e){return(e&&e.type)===y.redirect}function Oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Fe(e){return X.has(e.toLowerCase())}function Ve(e){return Q.has(e.toLowerCase())}async function Ue(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!ce(u,l)&&void 0!==(s&&s[l.route.id]);if(Ne(a)&&(i||c)){let e=r[o];h(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await je(a,e,i).then((e=>{e&&(n[o]=e||n[o])}))}}}async function je(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(r){return{type:y.error,error:r}}return{type:y.data,data:e.deferredData.data}}}function Be(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function ze(e,t){let n="string"===typeof t?g(t).search:t.search;if(e[e.length-1].route.index&&Be(n||""))return e[e.length-1];let r=V(e);return r[r.length-1]}function qe(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function He(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function We(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ke(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}const Qe=i.createContext(null);const Ye=i.createContext(null);const Xe=i.createContext(null);const $e=i.createContext(null);const Je=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Ze=i.createContext(null);function et(){return null!=i.useContext($e)}function tt(){return et()||h(!1),i.useContext($e).location}function nt(e){i.useContext(Xe).static||i.useLayoutEffect(e)}function rt(){let{isDataRoute:e}=i.useContext(Je);return e?function(){let{router:e}=pt(dt.UseNavigateStable),t=gt(ft.UseNavigateStable),n=i.useRef(!1);nt((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Ge({fromRouteId:t},i)))}),[e,t]);return r}():function(){et()||h(!1);let e=i.useContext(Qe),{basename:t,future:n,navigator:r}=i.useContext(Xe),{matches:s}=i.useContext(Je),{pathname:o}=tt(),a=JSON.stringify(U(s,n.v7_relativeSplatPath)),l=i.useRef(!1);nt((()=>{l.current=!0}));let u=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=j(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:B([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e]);return u}()}const it=i.createContext(null);function st(){return i.useContext(it)}function ot(e,t,n,s){et()||h(!1);let{navigator:o}=i.useContext(Xe),{matches:a}=i.useContext(Je),l=a[a.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=tt();if(t){var p;let e="string"===typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=E(e,{pathname:v});let w=ht(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:B([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:B([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&w?i.createElement($e.Provider,{value:{location:Ge({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},w):w}function at(){let e=function(){var e;let t=i.useContext(Ze),n=mt(ft.UseRouteError),r=gt(ft.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=K(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const lt=i.createElement(at,null);class ut extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Je.Provider,{value:this.props.routeContext},i.createElement(Ze.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ct(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(Qe);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Je.Provider,{value:t},r)}function ht(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||lt,u&&(c<0&&0===s?(p="route-fallback",!1||vt[p]||(vt[p]=!0),h=!0,f=null):c===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ct,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ut,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var dt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dt||{}),ft=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ft||{});function pt(e){let t=i.useContext(Qe);return t||h(!1),t}function mt(e){let t=i.useContext(Ye);return t||h(!1),t}function gt(e){let t=function(e){let t=i.useContext(Je);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const vt={};s.startTransition;function yt(e){return function(e){let t=i.useContext(Je).outlet;return t?i.createElement(it.Provider,{value:e},t):t}(e.context)}function wt(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:u}=e;et()&&h(!1);let c=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:c,navigator:a,static:l,future:Ge({v7_relativeSplatPath:!1},u)})),[c,u,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=s,w=i.useMemo((()=>{let e=O(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:o}}),[c,f,p,m,v,y,o]);return null==w?null:i.createElement(Xe.Provider,{value:d},i.createElement($e.Provider,{children:n,value:w}))}new Promise((()=>{}));i.Component;function bt(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:i.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:i.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(UC){}function St(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Et({},t,{errors:Tt(t.errors)})),t}function Tt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new W(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(UC){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const kt=i.createContext({isTransitioning:!1});const _t=i.createContext(new Map);const Ct=s.startTransition,It=l.flushSync;s.useId;function xt(e){It?It(e):e()}class At{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Pt(e){let{fallbackElement:t,router:n,future:r}=e,[s,o]=i.useState(n.state),[a,l]=i.useState(),[u,c]=i.useState({isTransitioning:!1}),[h,d]=i.useState(),[f,p]=i.useState(),[m,g]=i.useState(),v=i.useRef(new Map),{v7_startTransition:y}=r||{},w=i.useCallback((e=>{y?function(e){Ct?Ct(e):e()}(e):e()}),[y]),b=i.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:s}=t;r.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(s&&!a){if(i){xt((()=>{f&&(h&&h.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})}));let t=n.window.document.startViewTransition((()=>{xt((()=>o(e)))}));return t.finished.finally((()=>{xt((()=>{d(void 0),p(void 0),l(void 0),c({isTransitioning:!1})}))})),void xt((()=>p(t)))}f?(h&&h.resolve(),f.skipTransition(),g({state:e,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(l(e),c({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))}else i?xt((()=>o(e))):w((()=>o(e)))}),[n.window,f,h,v,w]);i.useLayoutEffect((()=>n.subscribe(b)),[n,b]),i.useEffect((()=>{u.isTransitioning&&!u.flushSync&&d(new At)}),[u]),i.useEffect((()=>{if(h&&a&&n.window){let e=a,t=h.promise,r=n.window.document.startViewTransition((async()=>{w((()=>o(e))),await t}));r.finished.finally((()=>{d(void 0),p(void 0),l(void 0),c({isTransitioning:!1})})),p(r)}}),[w,a,h,n.window]),i.useEffect((()=>{h&&a&&s.location.key===a.location.key&&h.resolve()}),[h,f,s.location,a]),i.useEffect((()=>{!u.isTransitioning&&m&&(l(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[u.isTransitioning,m]),i.useEffect((()=>{}),[]);let E=i.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),S=n.basename||"/",T=i.useMemo((()=>({router:n,navigator:E,static:!1,basename:S})),[n,E,S]);return i.createElement(i.Fragment,null,i.createElement(Qe.Provider,{value:T},i.createElement(Ye.Provider,{value:s},i.createElement(_t.Provider,{value:v.current},i.createElement(kt.Provider,{value:u},i.createElement(wt,{basename:S,location:s.location,navigationType:s.historyAction,navigator:E,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},s.initialized||n.future.v7_partialHydration?i.createElement(Rt,{routes:n.routes,future:n.future,state:s}):t))))),null)}function Rt(e){let{routes:t,future:n,state:r}=e;return ot(t,void 0,r,n)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Dt,Nt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dt||(Dt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Nt||(Nt={}));const Lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Mt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Ot;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ot extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(e){return function(e){const t=Lt(e);return Mt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Vt=function(e){try{return Mt.decodeString(e,!0)}catch(UC){console.error("base64Decode failed: ",UC)}return null};const Ut=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,jt=()=>{try{return Ut()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(UC){return}const t=e&&Vt(e[1]);return t&&JSON.parse(t)})()}catch(UC){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(UC))}},Bt=e=>{var t,n;return null===(n=null===(t=jt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},zt=()=>{var e;return null===(e=jt())||void 0===e?void 0:e.config},qt=e=>{var t;return null===(t=jt())||void 0===t?void 0:t["_".concat(e)]};class Ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Wt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Kt(){try{return"object"===typeof indexedDB}catch(UC){return!1}}class Gt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Yt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Gt(n,s,t)}}const Yt=/\{\$([^}]+)}/g;function Xt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if($t(n)&&$t(s)){if(!Xt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $t(e){return null!==e&&"object"===typeof e}function Jt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Zt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function en(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class tn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=nn),void 0===r.error&&(r.error=nn),void 0===r.complete&&(r.complete=nn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(UC){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(UC){"undefined"!==typeof console&&console.error&&console.error(UC)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function nn(){}function rn(e){return e&&e._delegate?e._delegate:e}class sn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const on="[DEFAULT]";class an{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ht;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(UC){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(UC){if(r)return null;throw UC}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:on})}catch(UC){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(UC){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===on?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on;return this.component?this.component.multipleInstances?e:on:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ln{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new an(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const un=[];var cn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(cn||(cn={}));const hn={debug:cn.DEBUG,verbose:cn.VERBOSE,info:cn.INFO,warn:cn.WARN,error:cn.ERROR,silent:cn.SILENT},dn=cn.INFO,fn={[cn.DEBUG]:"log",[cn.VERBOSE]:"log",[cn.INFO]:"info",[cn.WARN]:"warn",[cn.ERROR]:"error"},pn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=fn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class mn{constructor(e){this.name=e,this._logLevel=dn,this._logHandler=pn,this._userLogHandler=null,un.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?hn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cn.DEBUG,...t),this._logHandler(this,cn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cn.VERBOSE,...t),this._logHandler(this,cn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cn.INFO,...t),this._logHandler(this,cn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cn.WARN,...t),this._logHandler(this,cn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,cn.ERROR,...t),this._logHandler(this,cn.ERROR,...t)}}const gn=(e,t)=>t.some((t=>e instanceof t));let vn,yn;const wn=new WeakMap,bn=new WeakMap,En=new WeakMap,Sn=new WeakMap,Tn=new WeakMap;let kn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||En.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _n(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yn||(yn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xn(this),n),In(wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return In(e.apply(xn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(xn(this),t,...r);return En.set(s,t.sort?t.sort():[t]),In(s)}}function Cn(e){return"function"===typeof e?_n(e):(e instanceof IDBTransaction&&function(e){if(bn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));bn.set(e,t)}(e),gn(e,vn||(vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,kn):e)}function In(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(In(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&wn.set(t,e)})).catch((()=>{})),Tn.set(t,e),t}(e);if(Sn.has(e))return Sn.get(e);const t=Cn(e);return t!==e&&(Sn.set(e,t),Tn.set(t,e)),t}const xn=e=>Tn.get(e);const An=["get","getKey","getAll","getAllKeys","count"],Pn=["put","add","delete","clear"],Rn=new Map;function Dn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rn.get(t))return Rn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Pn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!An.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Rn.set(t,s),s}kn=(e=>({...e,get:(t,n,r)=>Dn(t,n)||e.get(t,n,r),has:(t,n)=>!!Dn(t,n)||e.has(t,n)}))(kn);class Nn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ln="@firebase/app",Mn="0.9.13",On=new mn("@firebase/app"),Fn="@firebase/app-compat",Vn="@firebase/analytics-compat",Un="@firebase/analytics",jn="@firebase/app-check-compat",Bn="@firebase/app-check",zn="@firebase/auth",qn="@firebase/auth-compat",Hn="@firebase/database",Wn="@firebase/database-compat",Kn="@firebase/functions",Gn="@firebase/functions-compat",Qn="@firebase/installations",Yn="@firebase/installations-compat",Xn="@firebase/messaging",$n="@firebase/messaging-compat",Jn="@firebase/performance",Zn="@firebase/performance-compat",er="@firebase/remote-config",tr="@firebase/remote-config-compat",nr="@firebase/storage",rr="@firebase/storage-compat",ir="@firebase/firestore",sr="@firebase/firestore-compat",or="firebase",ar="[DEFAULT]",lr={[Ln]:"fire-core",[Fn]:"fire-core-compat",[Un]:"fire-analytics",[Vn]:"fire-analytics-compat",[Bn]:"fire-app-check",[jn]:"fire-app-check-compat",[zn]:"fire-auth",[qn]:"fire-auth-compat",[Hn]:"fire-rtdb",[Wn]:"fire-rtdb-compat",[Kn]:"fire-fn",[Gn]:"fire-fn-compat",[Qn]:"fire-iid",[Yn]:"fire-iid-compat",[Xn]:"fire-fcm",[$n]:"fire-fcm-compat",[Jn]:"fire-perf",[Zn]:"fire-perf-compat",[er]:"fire-rc",[tr]:"fire-rc-compat",[nr]:"fire-gcs",[rr]:"fire-gcs-compat",[ir]:"fire-fst",[sr]:"fire-fst-compat","fire-js":"fire-js",[or]:"fire-js-all"},ur=new Map,cr=new Map;function hr(e,t){try{e.container.addComponent(t)}catch(UC){On.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),UC)}}function dr(e){const t=e.name;if(cr.has(t))return On.debug("There were multiple attempts to register component ".concat(t,".")),!1;cr.set(t,e);for(const n of ur.values())hr(n,e);return!0}function fr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const pr=new Qt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const gr="9.23.0";function vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ar,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=zt()),!n)throw pr.create("no-options");const s=ur.get(i);if(s){if(Xt(n,s.options)&&Xt(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}const o=new ln(i);for(const l of cr.values())o.addComponent(l);const a=new mr(n,r,o);return ur.set(i,a),a}function yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar;const t=ur.get(e);if(!t&&e===ar&&zt())return vr();if(!t)throw pr.create("no-app",{appName:e});return t}function wr(e,t,n){var r;let i=null!==(r=lr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void On.warn(e.join(" "))}dr(new sn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const br="firebase-heartbeat-database",Er=1,Sr="firebase-heartbeat-store";let Tr=null;function kr(){return Tr||(Tr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=In(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(In(o.result),e.oldVersion,e.newVersion,In(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(br,Er,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Sr)}}).catch((e=>{throw pr.create("idb-open",{originalErrorMessage:e.message})}))),Tr}async function _r(e,t){try{const n=(await kr()).transaction(Sr,"readwrite"),r=n.objectStore(Sr);await r.put(t,Cr(e)),await n.done}catch(UC){if(UC instanceof Gt)On.warn(UC.message);else{const t=pr.create("idb-set",{originalErrorMessage:null===UC||void 0===UC?void 0:UC.message});On.warn(t.message)}}}function Cr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ir{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ar(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=xr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=xr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Pr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ft(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function xr(){return(new Date).toISOString().substring(0,10)}class Ar{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Kt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await kr();return await t.transaction(Sr).objectStore(Sr).get(Cr(e))}catch(UC){if(UC instanceof Gt)On.warn(UC.message);else{const t=pr.create("idb-get",{originalErrorMessage:null===UC||void 0===UC?void 0:UC.message});On.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return _r(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pr(e){return Ft(JSON.stringify({version:2,heartbeats:e})).length}var Rr;Rr="",dr(new sn("platform-logger",(e=>new Nn(e)),"PRIVATE")),dr(new sn("heartbeat",(e=>new Ir(e)),"PRIVATE")),wr(Ln,Mn,Rr),wr(Ln,Mn,"esm2017"),wr("fire-js","");function Dr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Nr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lr=Nr,Mr=new Qt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Or=new mn("@firebase/auth");function Fr(e){if(Or.logLevel<=cn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Or.error("Auth (".concat(gr,"): ").concat(e),...n)}}function Vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Br(e,...n)}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Br(e,...n)}function jr(e,t,n){const r=Object.assign(Object.assign({},Lr()),{[t]:n});return new Qt("auth","Firebase",r).create(t,{appName:e.name})}function Br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Mr.create(e,...n)}function zr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Br(t,...r)}}function qr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fr(t),new Error(t)}function Hr(e,t){e||qr(t)}function Wr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Kr(){return"http:"===Gr()||"https:"===Gr()}function Gr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Qr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Kr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Yr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Qr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xr(e,t){Hr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class $r{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zr=new Yr(3e4,6e4);function ei(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ti(e,t,n,r){return ni(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Jt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),$r.fetch()(ii(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ni(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jr),t);try{const t=new si(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw oi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw oi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw oi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw oi(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw jr(e,a,o);Vr(e,a)}}catch(UC){if(UC instanceof Gt)throw UC;Vr(e,"network-request-failed",{message:String(UC)})}}async function ri(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ti(e,t,n,r,i);return"mfaPendingCredential"in s&&Vr(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ii(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class si{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ur(this.auth,"network-request-failed"))),Zr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(e,t,r);return i.customData._tokenResponse=n,i}function ai(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(UC){}}function li(e){return 1e3*Number(e)}function ui(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Vt(n);return e?JSON.parse(e):(Fr("Failed to decode base64 JWT payload"),null)}catch(UC){return Fr("Caught error parsing JWT payload as JSON",null===UC||void 0===UC?void 0:UC.toString()),null}}async function ci(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(UC){throw UC instanceof Gt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(UC)&&e.auth.currentUser===e&&await e.auth.signOut(),UC}}class hi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(UC){return void((null===UC||void 0===UC?void 0:UC.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class di{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ai(this.lastLoginAt),this.creationTime=ai(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ci(e,async function(e,t){return ti(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));zr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Dr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new di(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zr(e.idToken,"internal-error"),zr("undefined"!==typeof e.idToken,"internal-error"),zr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ui(e);return zr(t,"internal-error"),zr("undefined"!==typeof t.exp,"internal-error"),zr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ni(e,{},(async()=>{const n=Jt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ii(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",$r.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pi;return n&&(zr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(zr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(zr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pi,this.toJSON())}_performRefresh(){return qr("not implemented")}}function mi(e,t){zr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Dr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new di(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ci(this,this.stsTokenManager.getToken(this.auth,e));return zr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=rn(e),r=await n.getIdToken(t),i=ui(r);zr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ai(li(i.auth_time)),issuedAtTime:ai(li(i.iat)),expirationTime:ai(li(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=rn(e);await fi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(zr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){zr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await fi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ci(this,async function(e,t){return ti(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:S}=t;zr(y&&S,e,"internal-error");const T=pi.fromJSON(this.name,S);zr("string"===typeof y,e,"internal-error"),mi(c,e.name),mi(h,e.name),zr("boolean"===typeof w,e,"internal-error"),zr("boolean"===typeof b,e,"internal-error"),mi(d,e.name),mi(f,e.name),mi(p,e.name),mi(m,e.name),mi(g,e.name),mi(v,e.name);const k=new gi({uid:y,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(k.providerData=E.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pi;r.updateFromServerResponse(t);const i=new gi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await fi(i),i}}const vi=new Map;function yi(e){Hr(e instanceof Function,"Expected a class definition");let t=vi.get(e);return t?(Hr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vi.set(e,t),t)}class wi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wi.type="NONE";const bi=wi;function Ei(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Si{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ei(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ei("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Si(yi(bi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||yi(bi);const s=Ei(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=gi._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Si(i,e,n)):new Si(i,e,n)}}function Ti(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ii(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ki(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ai(t))return"Blackberry";if(Pi(t))return"Webos";if(_i(t))return"Safari";if((t.includes("chrome/")||Ci(t))&&!t.includes("edge/"))return"Chrome";if(xi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/firefox\//i.test(e)}function _i(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/crios\//i.test(e)}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iemobile/i.test(e)}function xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/android/i.test(e)}function Ai(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/blackberry/i.test(e)}function Pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/webos/i.test(e)}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Di(){return function(){const e=Wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt();return Ri(e)||xi(e)||Pi(e)||Ai(e)||/windows phone/i.test(e)||Ii(e)}function Li(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ti(Wt());break;case"Worker":t="".concat(Ti(Wt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(gr,"/").concat(r)}async function Mi(e,t){return ti(e,"GET","/v2/recaptchaConfig",ei(e,t))}function Oi(e){return void 0!==e&&void 0!==e.enterprise}class Fi{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Vi(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ur("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ui(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ji{constructor(e){this.type="recaptcha-enterprise",this.auth=Hi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Oi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Mi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Fi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Oi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Vi("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Bi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ji(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class zi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(UC){r(UC)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(UC){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===UC||void 0===UC?void 0:UC.message})}}}class qi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wi(this),this.idTokenSubscription=new Wi(this),this.beforeStateQueue=new zi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Si.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(UC){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(UC){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(UC)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return zr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(UC){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fi(e)}catch(UC){if((null===UC||void 0===UC?void 0:UC.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?rn(e):null;return t&&zr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&zr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(yi(e))}))}async initializeRecaptchaConfig(){const e=await Mi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Fi(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ji(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yi(e)||this._popupRedirectResolver;zr(t,this,"argument-error"),this.redirectPersistenceManager=await Si.create(this,[yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return zr(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Li(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Or.logLevel<=cn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Or.warn("Auth (".concat(gr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Hi(e){return rn(e)}class Wi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new tn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return zr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ki(e,t,n){const r=Hi(e);zr(r._canInitEmulator,r,"emulator-config-failed"),zr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Gi(t),{host:o,port:a}=function(e){const t=Gi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Qi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Qi(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Gi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Qi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Yi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function Xi(e,t){return ti(e,"POST","/v1/accounts:update",t)}async function $i(e,t){return ri(e,"POST","/v1/accounts:signInWithPassword",ei(e,t))}class Ji extends Yi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ji(e,t,"password")}static _fromEmailAndCode(e,t){return new Ji(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Bi(e,n,"signInWithPassword");return $i(e,t)}return $i(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Bi(e,n,"signInWithPassword");return $i(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithEmailLink",ei(e,t))}(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Xi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithEmailLink",ei(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zi(e,t){return ri(e,"POST","/v1/accounts:signInWithIdp",ei(e,t))}class es extends Yi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Dr(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new es(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Zi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jt(t)}return e}}const ts={USER_NOT_FOUND:"user-not-found"};class ns extends Yi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ns({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ns({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithPhoneNumber",ei(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ri(e,"POST","/v1/accounts:signInWithPhoneNumber",ei(e,t));if(n.temporaryProof)throw oi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ri(e,"POST","/v1/accounts:signInWithPhoneNumber",ei(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ts)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ns({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class rs{constructor(e){var t,n,r,i,s,o;const a=Zt(en(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);zr(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Zt(en(e)).link,n=t?Zt(en(t)).deep_link_id:null,r=Zt(en(e)).deep_link_id;return(r?Zt(en(r)).link:null)||r||n||t||e}(e);try{return new rs(t)}catch(n){return null}}}class is{constructor(){this.providerId=is.PROVIDER_ID}static credential(e,t){return Ji._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rs.parseLink(t);return zr(n,"argument-error"),Ji._fromEmailAndCode(e,n.code,n.tenantId)}}is.PROVIDER_ID="password",is.EMAIL_PASSWORD_SIGN_IN_METHOD="password",is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class os extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends os{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch(n){return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com",as.PROVIDER_ID="facebook.com";class ls extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return es._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ls.credential(n,r)}catch(i){return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com",ls.PROVIDER_ID="google.com";class us extends os{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch(n){return null}}}us.GITHUB_SIGN_IN_METHOD="github.com",us.PROVIDER_ID="github.com";class cs extends os{constructor(){super("twitter.com")}static credential(e,t){return es._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cs.credential(n,r)}catch(i){return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com",cs.PROVIDER_ID="twitter.com";class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gi._fromIdTokenResponse(e,n,r),s=ds(n);return new hs({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ds(n);return new hs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ds(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fs extends Gt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fs(e,t,n,r)}}function ps(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw fs._fromErrorAndOperation(e,n,t,r);throw n}))}async function ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ci(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hs._forOperation(e,"link",r)}async function gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await ci(e,ps(r,i,t,e),n);zr(s.idToken,r,"internal-error");const o=ui(s.idToken);zr(o,r,"internal-error");const{sub:a}=o;return zr(e.uid===a,r,"user-mismatch"),hs._forOperation(e,i,s)}catch(UC){throw(null===UC||void 0===UC?void 0:UC.code)==="auth/".concat("user-not-found")&&Vr(r,"user-mismatch"),UC}}async function vs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ps(e,r,t),s=await hs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;const ys="__sak";class ws{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ys,"1"),this.storage.removeItem(ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class bs extends ws{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Wt();return _i(e)||Ri(e)}()&&function(){try{return!(!window||window===window.top)}catch(UC){return!1}}(),this.fallbackToPolling=Ni(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Di()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bs.type="LOCAL";const Es=bs;class Ss extends ws{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ss.type="SESSION";const Ts=Ss;class ks{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ks(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ks.receivers=[];class Cs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=_s("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Is(){return window}function xs(){return"undefined"!==typeof Is().WorkerGlobalScope&&"function"===typeof Is().importScripts}const As="firebaseLocalStorageDb",Ps="firebaseLocalStorage",Rs="fbase_key";class Ds{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ns(e,t){return e.transaction([Ps],t?"readwrite":"readonly").objectStore(Ps)}function Ls(){const e=indexedDB.open(As,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ps,{keyPath:Rs})}catch(UC){n(UC)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ps)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(As);return new Ds(e).toPromise()}(),t(await Ls()))}))}))}async function Ms(e,t,n){const r=Ns(e,!0).put({[Rs]:t,value:n});return new Ds(r).toPromise()}function Os(e,t){const n=Ns(e,!0).delete(t);return new Ds(n).toPromise()}class Fs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ls()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(UC){if(t++>3)throw UC;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ks._getInstance(xs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Cs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ls();return await Ms(e,ys,"1"),await Os(e,ys),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ms(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ns(e,!1).get(t),r=await new Ds(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Os(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ns(e,!1).getAll();return new Ds(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fs.type="LOCAL";const Vs=Fs;Ui("rcb"),new Yr(3e4,6e4);const Us="recaptcha";async function js(e,t,n){var r;const i=await n.verify();try{let s;if(zr("string"===typeof i,e,"argument-error"),zr(n.type===Us,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){zr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ti(e,"POST","/v2/accounts/mfaEnrollment:start",ei(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{zr("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;zr(n,e,"missing-multi-factor-info");const o=await function(e,t){return ti(e,"POST","/v2/accounts/mfaSignIn:start",ei(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ti(e,"POST","/v1/accounts:sendVerificationCode",ei(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Bs{constructor(e){this.providerId=Bs.PROVIDER_ID,this.auth=Hi(e)}verifyPhoneNumber(e,t){return js(this.auth,e,rn(t))}static credential(e,t){return ns._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Bs.credentialFromTaggedObject(t)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ns._fromTokenResponse(n,r):null}}function zs(e,t){return t?yi(t):(zr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bs.PROVIDER_ID="phone",Bs.PHONE_SIGN_IN_METHOD="phone";class qs extends Yi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hs(e){return vs(e.auth,new qs(e),e.bypassAuthState)}function Ws(e){const{auth:t,user:n}=e;return zr(n,t,"internal-error"),gs(n,new qs(e),e.bypassAuthState)}async function Ks(e){const{auth:t,user:n}=e;return zr(n,t,"internal-error"),ms(n,new qs(e),e.bypassAuthState)}class Gs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(UC){this.reject(UC)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(UC){this.reject(UC)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hs;case"linkViaPopup":case"linkViaRedirect":return Ks;case"reauthViaPopup":case"reauthViaRedirect":return Ws;default:Vr(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qs=new Yr(2e3,1e4);class Ys extends Gs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zr(e,this.auth,"internal-error"),e}async onExecution(){Hr(1===this.filter.length,"Popup operations only handle one event");const e=_s();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ur(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Qs.get())};e()}}Ys.currentPopupAction=null;const Xs="pendingRedirect",$s=new Map;class Js extends Gs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=$s.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=to(t),r=eo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(UC){e=()=>Promise.reject(UC)}$s.set(this.auth._key(),e)}return this.bypassAuthState||$s.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Zs(e,t){$s.set(e._key(),t)}function eo(e){return yi(e._redirectPersistence)}function to(e){return Ei(Xs,e.config.apiKey,e.name)}async function no(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Hi(e),i=zs(r,t),s=new Js(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class ro{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return so(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!so(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(io(e))}saveEventToCache(e){this.cachedEventUids.add(io(e)),this.lastProcessedEventTime=Date.now()}}function io(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function so(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const oo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ao=/^https?/;async function lo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ti(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(uo(r))return}catch(n){}Vr(e,"unauthorized-domain")}function uo(e){const t=Wr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ao.test(n))return!1;if(oo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const co=new Yr(3e4,6e4);function ho(){const e=Is().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let fo=null;function po(e){return fo=fo||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){ho(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ho(),n(Ur(e,"network-request-failed"))},timeout:co.get()})}if(null===(i=null===(r=Is().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Is().gapi)||void 0===s?void 0:s.load)){const t=Ui("iframefcb");return Is()[t]=()=>{gapi.load?o():n(Ur(e,"network-request-failed"))},Vi("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw fo=null,e}))}(e),fo}const mo=new Yr(5e3,15e3),go="__/auth/iframe",vo="emulator/auth/iframe",yo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bo(e){const t=e.config;zr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xr(t,vo):"https://".concat(e.config.authDomain,"/").concat(go),r={apiKey:t.apiKey,appName:e.name,v:gr},i=wo.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Jt(r).slice(1))}const Eo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class So{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(UC){}}}function To(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Eo),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Wt().toLowerCase();n&&(a=Ci(u)?"_blank":n),ki(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ri(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new So(null);const h=window.open(t||"",a,c);zr(h,e,"popup-blocked");try{h.focus()}catch(UC){}return new So(h)}const ko="__/auth/handler",_o="emulator/auth/handler",Co=encodeURIComponent("fac");async function Io(e,t,n,r,i,s){zr(e.config.authDomain,e,"auth-domain-config-required"),zr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gr,eventId:i};if(t instanceof ss){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof os){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(Co,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ko);return Xr(t,_o)}(e),"?").concat(Jt(a).slice(1)).concat(u)}const xo="webStorageSupport";const Ao=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ts,this._completeRedirectFn=no,this._overrideRedirectResult=Zs}async _openPopup(e,t,n,r){var i;Hr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return To(e,await Io(e,t,n,Wr(),r),_s())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Is().location.href=e}(await Io(e,t,n,Wr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Hr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await po(e),n=Is().gapi;return zr(n,e,"internal-error"),t.open({where:document.body,url:bo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ur(e,"network-request-failed"),s=Is().setTimeout((()=>{r(i)}),mo.get());function o(){Is().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new ro(e);return t.register("authEvent",(t=>{zr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xo,{type:xo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[xo];void 0!==i&&t(!!i),Vr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ni()||_i()||Ri()}};var Po="@firebase/auth",Ro="0.23.2";class Do{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){zr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const No=qt("authIdTokenMaxAge")||300;let Lo=null;var Mo;Mo="Browser",dr(new sn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;zr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Mo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Li(Mo)},u=new qi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),dr(new sn("auth-internal",(e=>(e=>new Do(e))(Hi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wr(Po,Ro,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Mo)),wr(Po,Ro,"esm2017");var Oo,Fo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Vo={},Uo=Uo||{},jo=Fo||self;function Bo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qo="closure_uid_"+(1e9*Math.random()>>>0),Ho=0;function Wo(e,t,n){return e.call.apply(e.bind,arguments)}function Ko(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Go(e,t,n){return(Go=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wo:Ko).apply(null,arguments)}function Qo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Yo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Xo(){this.s=this.s,this.o=this.o}Xo.prototype.s=!1,Xo.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,qo)&&e[qo]||(e[qo]=++Ho))},Xo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $o=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Jo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zo(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Bo(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ea(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ea.prototype.h=function(){this.defaultPrevented=!0};var ta=function(){if(!jo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jo.addEventListener("test",(()=>{}),t),jo.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function na(e){return/^[\s\xa0]*$/.test(e)}function ra(){var e=jo.navigator;return e&&(e=e.userAgent)?e:""}function ia(e){return-1!=ra().indexOf(e)}function sa(e){return sa[" "](e),e}sa[" "]=function(){};var oa,aa,la=ia("Opera"),ua=ia("Trident")||ia("MSIE"),ca=ia("Edge"),ha=ca||ua,da=ia("Gecko")&&!(-1!=ra().toLowerCase().indexOf("webkit")&&!ia("Edge"))&&!(ia("Trident")||ia("MSIE"))&&!ia("Edge"),fa=-1!=ra().toLowerCase().indexOf("webkit")&&!ia("Edge");function pa(){var e=jo.document;return e?e.documentMode:void 0}e:{var ma="",ga=function(){var e=ra();return da?/rv:([^\);]+)(\)|;)/.exec(e):ca?/Edge\/([\d\.]+)/.exec(e):ua?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fa?/WebKit\/(\S+)/.exec(e):la?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ga&&(ma=ga?ga[1]:""),ua){var va=pa();if(null!=va&&va>parseFloat(ma)){oa=String(va);break e}}oa=ma}if(jo.document&&ua){var ya=pa();aa=ya||(parseInt(oa,10)||void 0)}else aa=void 0;var wa=aa;function ba(e,t){if(ea.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(da){e:{try{sa(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ea[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ba.$.h.call(this)}}Yo(ba,ea);var Ea={2:"touch",3:"pen",4:"mouse"};ba.prototype.h=function(){ba.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Sa="closure_listenable_"+(1e6*Math.random()|0),Ta=0;function ka(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ta,this.fa=this.ia=!1}function _a(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ca(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ia(e){const t={};for(const n in e)t[n]=e[n];return t}const xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<xa.length;t++)n=xa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Pa(e){this.src=e,this.g={},this.h=0}function Ra(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=$o(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(_a(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Da(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Pa.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Da(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new ka(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Na="closure_lm_"+(1e6*Math.random()|0),La={};function Ma(e,t,n,r,i){if(r&&r.once)return Fa(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ma(e,t[s],n,r,i);return null}return n=Ha(n),e&&e[Sa]?e.O(t,n,zo(r)?!!r.capture:!!r,i):Oa(e,t,n,!1,r,i)}function Oa(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=zo(i)?!!i.capture:!!i,a=za(e);if(a||(e[Na]=a=new Pa(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ba;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ta||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ja(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fa(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Fa(e,t[s],n,r,i);return null}return n=Ha(n),e&&e[Sa]?e.P(t,n,zo(r)?!!r.capture:!!r,i):Oa(e,t,n,!0,r,i)}function Va(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Va(e,t[s],n,r,i);else r=zo(r)?!!r.capture:!!r,n=Ha(n),e&&e[Sa]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Da(s=e.g[t],n,r,i))&&(_a(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=za(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Da(t,n,r,i)),(n=-1<e?t[e]:null)&&Ua(n))}function Ua(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Sa])Ra(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ja(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=za(t))?(Ra(n,e),0==n.h&&(n.src=null,t[Na]=null)):_a(e)}}}function ja(e){return e in La?La[e]:La[e]="on"+e}function Ba(e,t){if(e.fa)e=!0;else{t=new ba(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ua(e),e=n.call(r,t)}return e}function za(e){return(e=e[Na])instanceof Pa?e:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ha(e){return"function"===typeof e?e:(e[qa]||(e[qa]=function(t){return e.handleEvent(t)}),e[qa])}function Wa(){Xo.call(this),this.i=new Pa(this),this.S=this,this.J=null}function Ka(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ea(t,e);else if(t instanceof ea)t.target=t.target||e;else{var i=t;Aa(t=new ea(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ga(o,r,!0,t)&&i}if(i=Ga(o=t.g=e,r,!0,t)&&i,i=Ga(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ga(o=t.g=n[s],r,!1,t)&&i}function Ga(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ra(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Yo(Wa,Xo),Wa.prototype[Sa]=!0,Wa.prototype.removeEventListener=function(e,t,n,r){Va(this,e,t,n,r)},Wa.prototype.N=function(){if(Wa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_a(n[r]);delete t.g[e],t.h--}}this.J=null},Wa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qa=jo.JSON.stringify;function Ya(){var e=nl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new $a),(e=>e.reset()));class $a{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ja(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Za(e){jo.setTimeout((()=>{throw e}),0)}let el,tl=!1,nl=new class{constructor(){this.h=this.g=null}add(e,t){const n=Xa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},rl=()=>{const e=jo.Promise.resolve(void 0);el=()=>{e.then(il)}};var il=()=>{for(var e;e=Ya();){try{e.h.call(e.g)}catch(n){Za(n)}var t=Xa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tl=!1};function sl(e,t){Wa.call(this),this.h=e||1,this.g=t||jo,this.j=Go(this.qb,this),this.l=Date.now()}function ol(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function al(e,t,n){if("function"===typeof e)n&&(e=Go(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Go(e.handleEvent,e)}return 2147483647<Number(t)?-1:jo.setTimeout(e,t||0)}function ll(e){e.g=al((()=>{e.g=null,e.i&&(e.i=!1,ll(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Yo(sl,Wa),(Oo=sl.prototype).ga=!1,Oo.T=null,Oo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ka(this,"tick"),this.ga&&(ol(this),this.start()))}},Oo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oo.N=function(){sl.$.N.call(this),ol(this),delete this.g};class ul extends Xo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ll(this)}N(){super.N(),this.g&&(jo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cl(e){Xo.call(this),this.h=e,this.g={}}Yo(cl,Xo);var hl=[];function dl(e,t,n,r){Array.isArray(n)||(n&&(hl[0]=n.toString()),n=hl);for(var i=0;i<n.length;i++){var s=Ma(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function fl(e){Ca(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ua(e)}),e),e.g={}}function pl(){this.g=!0}function ml(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Qa(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}cl.prototype.N=function(){cl.$.N.call(this),fl(this)},cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pl.prototype.Ea=function(){this.g=!1},pl.prototype.info=function(){};var gl={},vl=null;function yl(){return vl=vl||new Wa}function wl(e){ea.call(this,gl.Ta,e)}function bl(e){const t=yl();Ka(t,new wl(t))}function El(e,t){ea.call(this,gl.STAT_EVENT,e),this.stat=t}function Sl(e){const t=yl();Ka(t,new El(t,e))}function Tl(e,t){ea.call(this,gl.Ua,e),this.size=t}function kl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jo.setTimeout((function(){e()}),t)}gl.Ta="serverreachability",Yo(wl,ea),gl.STAT_EVENT="statevent",Yo(El,ea),gl.Ua="timingevent",Yo(Tl,ea);var _l={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Il(){}function xl(e){return e.h||(e.h=e.i())}function Al(){}Il.prototype.h=null;var Pl,Rl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dl(){ea.call(this,"d")}function Nl(){ea.call(this,"c")}function Ll(){}function Ml(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new cl(this),this.P=Fl,e=ha?125:void 0,this.V=new sl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ol}function Ol(){this.i=null,this.g="",this.h=!1}Yo(Dl,ea),Yo(Nl,ea),Yo(Ll,Il),Ll.prototype.g=function(){return new XMLHttpRequest},Ll.prototype.i=function(){return{}},Pl=new Ll;var Fl=45e3,Vl={},Ul={};function jl(e,t,n){e.L=1,e.v=su(eu(t)),e.s=n,e.S=!0,Bl(e,null)}function Bl(e,t){e.G=Date.now(),Wl(e),e.A=eu(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),yu(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ol,e.g=wc(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ul(Go(e.Pa,e,e.g),e.O)),dl(e.U,e.g,"readystatechange",e.nb),t=e.I?Ia(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),bl(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function zl(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ql(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Hl(e,n),r==Ul){4==t&&(e.o=4,Sl(14),i=!1),ml(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vl){e.o=4,Sl(15),ml(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ml(e.j,e.m,r,null),Xl(e,r)}zl(e)&&r!=Ul&&r!=Vl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hc(t),t.M=!0,Sl(11))):(ml(e.j,e.m,n,"[Invalid Chunked Response]"),Yl(e),Ql(e))}function Hl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ul:(n=Number(t.substring(n,r)),isNaN(n)?Vl:(r+=1)+n>t.length?Ul:(t=t.slice(r,r+n),e.C=r+n,t))}function Wl(e){e.Y=Date.now()+e.P,Kl(e,e.P)}function Kl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=kl(Go(e.lb,e),t)}function Gl(e){e.B&&(jo.clearTimeout(e.B),e.B=null)}function Ql(e){0==e.l.H||e.J||pc(e.l,e)}function Yl(e){Gl(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ol(e.V),fl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||_u(n.i,e)))if(!e.K&&_u(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;fc(n),rc(n)}cc(n),Sl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=kl(Go(n.ib,n),6e3));if(1>=ku(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else gc(n,11)}else if((e.K||n.g==e)&&fc(n),!na(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Cu(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,iu(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=yc(r,r.J?r.pa:null,r.Y),o.K){Iu(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Gl(a),Wl(a)),r.g=o}else uc(r);0<n.j.length&&sc(n)}else"stop"!=u[0]&&"close"!=u[0]||gc(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?gc(n,7):nc(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}bl()}catch(u){}}function $l(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Bo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Bo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Bo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Oo=Ml.prototype).setTimeout=function(e){this.P=e},Oo.nb=function(e){e=e.target;const t=this.M;t&&3==Xu(e)?t.l():this.Pa(e)},Oo.Pa=function(e){try{if(e==this.g)e:{const c=Xu(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||ha||this.g&&(this.h.h||this.g.ja()||$u(this.g)))){this.J||4!=c||7==t||bl(),Gl(this);var n=this.g.da();this.ca=n;t:if(zl(this)){var r=$u(this.g);e="";var i=r.length,s=4==Xu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yl(this),Ql(this);var o="";break t}this.h.i=new jo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!na(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Sl(12),Yl(this),Ql(this);break e}ml(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,n)}this.S?(ql(this,c,o),ha&&this.i&&3==c&&(dl(this.U,this.V,"tick",this.mb),this.V.start())):(ml(this.j,this.m,o,null),Xl(this,o)),4==c&&Yl(this),this.i&&!this.J&&(4==c?pc(this.l,this):(this.i=!1,Wl(this)))}else(function(e){const t={};e=(e.g&&2<=Xu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(na(e[r]))continue;var n=Ja(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sl(12)):(this.o=0,Sl(13)),Yl(this),Ql(this)}}}catch(c){}},Oo.mb=function(){if(this.g){var e=Xu(this.g),t=this.g.ja();this.C<t.length&&(Gl(this),ql(this,e,t),this.i&&4!=e&&Wl(this))}},Oo.cancel=function(){this.J=!0,Yl(this)},Oo.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(bl(),Sl(17)),Yl(this),this.o=2,Ql(this)):Kl(this,this.Y-e)};var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zl){this.h=e.h,tu(this,e.j),this.s=e.s,this.g=e.g,nu(this,e.m),this.l=e.l;var t=e.i,n=new pu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ru(this,n),this.o=e.o}else e&&(t=String(e).match(Jl))?(this.h=!1,tu(this,t[1]||"",!0),this.s=ou(t[2]||""),this.g=ou(t[3]||"",!0),nu(this,t[4]),this.l=ou(t[5]||"",!0),ru(this,t[6]||"",!0),this.o=ou(t[7]||"")):(this.h=!1,this.i=new pu(null,this.h))}function eu(e){return new Zl(e)}function tu(e,t,n){e.j=n?ou(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ru(e,t,n){t instanceof pu?(e.i=t,function(e,t){t&&!e.j&&(mu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gu(this,t),yu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=au(t,du)),e.i=new pu(t,e.h))}function iu(e,t,n){e.i.set(t,n)}function su(e){return iu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ou(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function au(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(au(t,uu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(au(t,uu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(au(n,"/"==n.charAt(0)?hu:cu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",au(n,fu)),e.join("")};var uu=/[#\/\?@]/g,cu=/[#\?:]/g,hu=/[#\?]/g,du=/[#\?@]/g,fu=/#/g;function pu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gu(e,t){mu(e),t=wu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vu(e,t){return mu(e),t=wu(e,t),e.g.has(t)}function yu(e,t,n){gu(e,t),0<n.length&&(e.i=null,e.g.set(wu(e,t),Jo(n)),e.h+=n.length)}function wu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Oo=pu.prototype).add=function(e,t){mu(this),this.i=null,e=wu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Oo.forEach=function(e,t){mu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Oo.ta=function(){mu(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Oo.Z=function(e){mu(this);let t=[];if("string"===typeof e)vu(this,e)&&(t=t.concat(this.g.get(wu(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Oo.set=function(e,t){return mu(this),this.i=null,vu(this,e=wu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Oo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Oo.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var bu=class{constructor(e,t){this.g=e,this.map=t}};function Eu(e){this.l=e||Su,jo.PerformanceNavigationTiming?e=0<(e=jo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jo.g&&jo.g.Ka&&jo.g.Ka()&&jo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Su=10;function Tu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ku(e){return e.h?1:e.g?e.g.size:0}function _u(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cu(e,t){e.g?e.g.add(t):e.h=t}function Iu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Jo(e.i)}Eu.prototype.cancel=function(){if(this.i=xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Au,Pu=class{stringify(e){return jo.JSON.stringify(e,void 0)}parse(e){return jo.JSON.parse(e,void 0)}};function Ru(){this.g=new Pu}function Du(e,t,n){const r=n||"";try{$l(e,(function(e,n){let i=e;zo(e)&&(i=Qa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(UC){throw t.push(r+"type="+encodeURIComponent("_badmap")),UC}}function Nu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Lu(e){this.l=e.fc||null,this.j=e.ob||!1}function Mu(e,t){Wa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ou,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yo(Lu,Il),Lu.prototype.g=function(){return new Mu(this.l,this.j)},Lu.prototype.i=(Au={},function(){return Au}),Yo(Mu,Wa);var Ou=0;function Fu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Vu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uu(e)}function Uu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Oo=Mu.prototype).open=function(e,t){if(this.readyState!=Ou)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uu(this)},Oo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||jo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Oo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vu(this)),this.readyState=Ou},Oo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uu(this)),this.g&&(this.readyState=3,Uu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof jo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Oo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vu(this):Uu(this),3==this.readyState&&Fu(this)}},Oo.Za=function(e){this.g&&(this.response=this.responseText=e,Vu(this))},Oo.Ya=function(e){this.g&&(this.response=e,Vu(this))},Oo.ka=function(){this.g&&Vu(this)},Oo.setRequestHeader=function(e,t){this.v.append(e,t)},Oo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Oo.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ju=jo.JSON.parse;function Bu(e){Wa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zu,this.L=this.M=!1}Yo(Bu,Wa);var zu="",qu=/^https?$/i,Hu=["POST","PUT"];function Wu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ku(e),Qu(e)}function Ku(e){e.F||(e.F=!0,Ka(e,"complete"),Ka(e,"error"))}function Gu(e){if(e.h&&"undefined"!=typeof Uo&&(!e.C[1]||4!=Xu(e)||2!=e.da()))if(e.v&&4==Xu(e))al(e.La,0,e);else if(Ka(e,"readystatechange"),4==Xu(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Jl)[1]||null;!i&&jo.self&&jo.self.location&&(i=jo.self.location.protocol.slice(0,-1)),r=!qu.test(i?i.toLowerCase():"")}n=r}if(n)Ka(e,"complete"),Ka(e,"success");else{e.m=6;try{var s=2<Xu(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Ku(e)}}finally{Qu(e)}}}function Qu(e,t){if(e.g){Yu(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ka(e,"ready");try{n.onreadystatechange=r}catch(UC){}}}function Yu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(jo.clearTimeout(e.A),e.A=null)}function Xu(e){return e.g?e.g.readyState:0}function $u(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case zu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(nh){return null}}function Ju(e){let t="";return Ca(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ju(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):iu(e,t,n))}function ec(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tc(e){this.Ga=0,this.j=[],this.l=new pl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ec("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ec("baseRetryDelayMs",5e3,e),this.hb=ec("retryDelaySeedMs",1e4,e),this.eb=ec("forwardChannelMaxRetries",2,e),this.xa=ec("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Eu(e&&e.concurrentRequestLimit),this.Ja=new Ru,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nc(e){if(ic(e),3==e.H){var t=e.W++,n=eu(e.I);if(iu(n,"SID",e.K),iu(n,"RID",t),iu(n,"TYPE","terminate"),ac(e,n),(t=new Ml(e,e.l,t)).L=2,t.v=su(eu(n)),n=!1,jo.navigator&&jo.navigator.sendBeacon)try{n=jo.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&jo.Image&&((new Image).src=t.v,n=!0),n||(t.g=wc(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Wl(t)}vc(e)}function rc(e){e.g&&(hc(e),e.g.cancel(),e.g=null)}function ic(e){rc(e),e.u&&(jo.clearTimeout(e.u),e.u=null),fc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jo.clearTimeout(e.m),e.m=null)}function sc(e){if(!Tu(e.i)&&!e.m){e.m=!0;var t=e.Na;el||rl(),tl||(el(),tl=!0),nl.add(t,e),e.C=0}}function oc(e,t){var n;n=t?t.m:e.W++;const r=eu(e.I);iu(r,"SID",e.K),iu(r,"RID",n),iu(r,"AID",e.V),ac(e,r),e.o&&e.s&&Zu(r,e.o,e.s),n=new Ml(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=lc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Cu(e.i,n),jl(n,r,t)}function ac(e,t){e.na&&Ca(e.na,(function(e,n){iu(t,n,e)})),e.h&&$l({},(function(e,n){iu(t,n,e)}))}function lc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Go(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Du(a,e,"req"+n+"_")}catch(fh){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function uc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;el||rl(),tl||(el(),tl=!0),nl.add(t,e),e.A=0}}function cc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=kl(Go(e.Ma,e),mc(e,e.A)),e.A++,!0)}function hc(e){null!=e.B&&(jo.clearTimeout(e.B),e.B=null)}function dc(e){e.g=new Ml(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=eu(e.wa);iu(t,"RID","rpc"),iu(t,"SID",e.K),iu(t,"AID",e.V),iu(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&iu(t,"TO",e.qa),iu(t,"TYPE","xmlhttp"),ac(e,t),e.o&&e.s&&Zu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=su(eu(t)),n.s=null,n.S=!0,Bl(n,e)}function fc(e){null!=e.v&&(jo.clearTimeout(e.v),e.v=null)}function pc(e,t){var n=null;if(e.g==t){fc(e),hc(e),e.g=null;var r=2}else{if(!_u(e.i,t))return;n=t.F,Iu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ka(r=yl(),new Tl(r,n)),sc(e)}else uc(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ku(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=kl(Go(e.Na,e,t),mc(e,e.C)),e.C++,!0))}(e,t)||2==r&&cc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gc(e,5);break;case 4:gc(e,10);break;case 3:gc(e,6);break;default:gc(e,2)}}function mc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function gc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Go(e.pb,e);n||(n=new Zl("//www.google.com/images/cleardot.gif"),jo.location&&"http"==jo.location.protocol||tu(n,"https"),su(n)),function(e,t){const n=new pl;if(jo.Image){const r=new Image;r.onload=Qo(Nu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Qo(Nu,n,r,"TestLoadImage: error",!1,t),r.onabort=Qo(Nu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Qo(Nu,n,r,"TestLoadImage: timeout",!1,t),jo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sl(2);e.H=0,e.h&&e.h.za(t),vc(e),ic(e)}function vc(e){if(e.H=0,e.ma=[],e.h){const t=xu(e.i);0==t.length&&0==e.j.length||(Zo(e.ma,t),Zo(e.ma,e.j),e.i.i.length=0,Jo(e.j),e.j.length=0),e.h.ya()}}function yc(e,t,n){var r=n instanceof Zl?eu(n):new Zl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nu(r,r.m);else{var i=jo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Zl(null);r&&tu(s,r),t&&(s.g=t),i&&nu(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&iu(r,n,t),iu(r,"VER",e.ra),ac(e,r),r}function wc(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Bu(new Lu({ob:!0})):new Bu(e.va)).Oa(e.J),t}function bc(){}function Ec(){if(ua&&!(10<=Number(wa)))throw Error("Environmental error: no available transport.")}function Sc(e,t){Wa.call(this),this.g=new tc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!na(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!na(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _c(this)}function Tc(e){Dl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kc(){Nl.call(this),this.status=1}function _c(e){this.g=e}function Cc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ic(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function xc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Oo=Bu.prototype).Oa=function(e){this.M=e},Oo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pl.g(),this.C=this.u?xl(this.u):xl(Pl),this.g.onreadystatechange=Go(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Wu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=jo.FormData&&e instanceof jo.FormData,!(0<=$o(Hu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yu(this),0<this.B&&((this.L=function(e){return ua&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Go(this.ua,this)):this.A=al(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Wu(this,s)}},Oo.ua=function(){"undefined"!=typeof Uo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ka(this,"timeout"),this.abort(8))},Oo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ka(this,"complete"),Ka(this,"abort"),Qu(this))},Oo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qu(this,!0)),Bu.$.N.call(this)},Oo.La=function(){this.s||(this.G||this.v||this.l?Gu(this):this.kb())},Oo.kb=function(){Gu(this)},Oo.isActive=function(){return!!this.g},Oo.da=function(){try{return 2<Xu(this)?this.g.status:-1}catch(Au){return-1}},Oo.ja=function(){try{return this.g?this.g.responseText:""}catch(Au){return""}},Oo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ju(t)}},Oo.Ia=function(){return this.m},Oo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Oo=tc.prototype).ra=8,Oo.H=1,Oo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ml(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ia(s),Aa(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=lc(this,i,t),iu(n=eu(this.I),"RID",e),iu(n,"CVER",22),this.F&&iu(n,"X-HTTP-Session-Id",this.F),ac(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ju(s)))+"&"+t:this.o&&Zu(n,this.o,s)),Cu(this.i,i),this.bb&&iu(n,"TYPE","init"),this.P?(iu(n,"$req",t),iu(n,"SID","null"),i.aa=!0,jl(i,n,null)):jl(i,n,t),this.H=2}}else 3==this.H&&(e?oc(this,e):0==this.j.length||Tu(this.i)||oc(this))},Oo.Ma=function(){if(this.u=null,dc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=kl(Go(this.jb,this),e)}},Oo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sl(10),rc(this),dc(this))},Oo.ib=function(){null!=this.v&&(this.v=null,rc(this),cc(this),Sl(19))},Oo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Sl(2)):(this.l.info("Failed to ping google.com"),Sl(1))},Oo.isActive=function(){return!!this.h&&this.h.isActive(this)},(Oo=bc.prototype).Ba=function(){},Oo.Aa=function(){},Oo.za=function(){},Oo.ya=function(){},Oo.isActive=function(){return!0},Oo.Va=function(){},Ec.prototype.g=function(e,t){return new Sc(e,t)},Yo(Sc,Wa),Sc.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Sl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=yc(e,null,e.Y),sc(e)},Sc.prototype.close=function(){nc(this.g)},Sc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Qa(e),e=n);t.j.push(new bu(t.fb++,e)),3==t.H&&sc(t)},Sc.prototype.N=function(){this.g.h=null,delete this.j,nc(this.g),delete this.g,Sc.$.N.call(this)},Yo(Tc,Dl),Yo(kc,Nl),Yo(_c,bc),_c.prototype.Ba=function(){Ka(this.g,"a")},_c.prototype.Aa=function(e){Ka(this.g,new Tc(e))},_c.prototype.za=function(e){Ka(this.g,new kc)},_c.prototype.ya=function(){Ka(this.g,"b")},Yo(Cc,(function(){this.blockSize=-1})),Cc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Ic(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ic(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ic(this,r),i=0;break}}this.h=i,this.i+=t},Cc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ac={};function Pc(e){return-128<=e&&128>e?function(e,t){var n=Ac;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new xc([0|e],0>e?-1:0)})):new xc([0|e],0>e?-1:0)}function Rc(e){if(isNaN(e)||!isFinite(e))return Nc;if(0>e)return Vc(Rc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Dc;return new xc(t,0)}var Dc=4294967296,Nc=Pc(0),Lc=Pc(1),Mc=Pc(16777216);function Oc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fc(e){return-1==e.h}function Vc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new xc(n,~e.h).add(Lc)}function Uc(e,t){return e.add(Vc(t))}function jc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bc(e,t){this.g=e,this.h=t}function zc(e,t){if(Oc(t))throw Error("division by zero");if(Oc(e))return new Bc(Nc,Nc);if(Fc(e))return t=zc(Vc(e),t),new Bc(Vc(t.g),Vc(t.h));if(Fc(t))return t=zc(e,Vc(t)),new Bc(Vc(t.g),t.h);if(30<e.g.length){if(Fc(e)||Fc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Lc,r=t;0>=r.X(e);)n=qc(n),r=qc(r);var i=Hc(n,1),s=Hc(r,1);for(r=Hc(r,2),n=Hc(n,2);!Oc(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Hc(r,1),n=Hc(n,1)}return t=Uc(e,i.R(t)),new Bc(i,t)}for(i=Nc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Rc(n)).R(t);Fc(o)||0<o.X(e);)o=(s=Rc(n-=r)).R(t);Oc(s)&&(s=Lc),i=i.add(s),e=Uc(e,o)}return new Bc(i,e)}function qc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new xc(n,e.h)}function Hc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new xc(i,e.h)}(Oo=xc.prototype).ea=function(){if(Fc(this))return-Vc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Dc+r)*t,t*=Dc}return e},Oo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Oc(this))return"0";if(Fc(this))return"-"+Vc(this).toString(e);for(var t=Rc(Math.pow(e,6)),n=this,r="";;){var i=zc(n,t).g,s=((0<(n=Uc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Oc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Oo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Oo.X=function(e){return Fc(e=Uc(this,e))?-1:Oc(e)?0:1},Oo.abs=function(){return Fc(this)?Vc(this):this},Oo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new xc(n,-2147483648&n[n.length-1]?-1:0)},Oo.R=function(e){if(Oc(this)||Oc(e))return Nc;if(Fc(this))return Fc(e)?Vc(this).R(Vc(e)):Vc(Vc(this).R(e));if(Fc(e))return Vc(this.R(Vc(e)));if(0>this.X(Mc)&&0>e.X(Mc))return Rc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,jc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,jc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,jc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,jc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new xc(n,0)},Oo.gb=function(e){return zc(this,e).h},Oo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new xc(n,this.h&e.h)},Oo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new xc(n,this.h|e.h)},Oo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new xc(n,this.h^e.h)},Ec.prototype.createWebChannel=Ec.prototype.g,Sc.prototype.send=Sc.prototype.u,Sc.prototype.open=Sc.prototype.m,Sc.prototype.close=Sc.prototype.close,_l.NO_ERROR=0,_l.TIMEOUT=8,_l.HTTP_ERROR=6,Cl.COMPLETE="complete",Al.EventType=Rl,Rl.OPEN="a",Rl.CLOSE="b",Rl.ERROR="c",Rl.MESSAGE="d",Wa.prototype.listen=Wa.prototype.O,Bu.prototype.listenOnce=Bu.prototype.P,Bu.prototype.getLastError=Bu.prototype.Sa,Bu.prototype.getLastErrorCode=Bu.prototype.Ia,Bu.prototype.getStatus=Bu.prototype.da,Bu.prototype.getResponseJson=Bu.prototype.Wa,Bu.prototype.getResponseText=Bu.prototype.ja,Bu.prototype.send=Bu.prototype.ha,Bu.prototype.setWithCredentials=Bu.prototype.Oa,Cc.prototype.digest=Cc.prototype.l,Cc.prototype.reset=Cc.prototype.reset,Cc.prototype.update=Cc.prototype.j,xc.prototype.add=xc.prototype.add,xc.prototype.multiply=xc.prototype.R,xc.prototype.modulo=xc.prototype.gb,xc.prototype.compare=xc.prototype.X,xc.prototype.toNumber=xc.prototype.ea,xc.prototype.toString=xc.prototype.toString,xc.prototype.getBits=xc.prototype.D,xc.fromNumber=Rc,xc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Vc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rc(Math.pow(n,8)),i=Nc,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Rc(Math.pow(n,o)),i=i.R(o).add(Rc(a))):i=(i=i.R(r)).add(Rc(a))}return i};var Wc=Vo.createWebChannelTransport=function(){return new Ec},Kc=Vo.getStatEventTarget=function(){return yl()},Gc=Vo.ErrorCode=_l,Qc=Vo.EventType=Cl,Yc=Vo.Event=gl,Xc=Vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$c=Vo.FetchXmlHttpFactory=Lu,Jc=Vo.WebChannel=Al,Zc=Vo.XhrIo=Bu,eh=Vo.Md5=Cc,th=Vo.Integer=xc;const nh="@firebase/firestore";class rh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rh.UNAUTHENTICATED=new rh(null),rh.GOOGLE_CREDENTIALS=new rh("google-credentials-uid"),rh.FIRST_PARTY=new rh("first-party-uid"),rh.MOCK_USER=new rh("mock-user");let ih="9.23.0";const sh=new mn("@firebase/firestore");function oh(){return sh.logLevel}function ah(e){if(sh.logLevel<=cn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ch);sh.debug("Firestore (".concat(ih,"): ").concat(e),...i)}}function lh(e){if(sh.logLevel<=cn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ch);sh.error("Firestore (".concat(ih,"): ").concat(e),...i)}}function uh(e){if(sh.logLevel<=cn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(ch);sh.warn("Firestore (".concat(ih,"): ").concat(e),...i)}}function ch(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function hh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ih,") INTERNAL ASSERTION FAILED: ")+e;throw lh(t),new Error(t)}function dh(e,t){e||hh()}function fh(e,t){return e}const ph={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mh extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class gh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class vh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class yh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rh.UNAUTHENTICATED)))}shutdown(){}}class wh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bh{constructor(e){this.t=e,this.currentUser=rh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new gh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gh,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{ah("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ah("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gh)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ah("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(dh("string"==typeof t.accessToken),new vh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dh(null===e||"string"==typeof e),new rh(e)}}class Eh{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=rh.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Sh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Eh(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(rh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Th{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kh{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&ah("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,ah("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ah("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):ah("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(dh("string"==typeof e.token),this.T=e.token,new Th(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _h(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ch{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=_h(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ih(e,t){return e<t?-1:e>t?1:0}function xh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ah{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mh(ph.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mh(ph.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mh(ph.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mh(ph.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ah.fromMillis(Date.now())}static fromDate(e){return Ah.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ah(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ih(this.nanoseconds,e.nanoseconds):Ih(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ph{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ph(e)}static min(){return new Ph(new Ah(0,0))}static max(){return new Ph(new Ah(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rh{constructor(e,t,n){void 0===t?t=0:t>e.length&&hh(),void 0===n?n=e.length-t:n>e.length-t&&hh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Rh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dh extends Rh{construct(e,t,n){return new Dh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new mh(ph.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Dh(e)}static emptyPath(){return new Dh([])}}const Nh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lh extends Rh{construct(e,t,n){return new Lh(e,t,n)}static isValidIdentifier(e){return Nh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lh.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new mh(ph.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new mh(ph.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new mh(ph.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new mh(ph.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lh(t)}static emptyPath(){return new Lh([])}}class Mh{constructor(e){this.path=e}static fromPath(e){return new Mh(Dh.fromString(e))}static fromName(e){return new Mh(Dh.fromString(e).popFirst(5))}static empty(){return new Mh(Dh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mh(new Dh(e.slice()))}}class Oh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Oh.UNKNOWN_ID=-1;function Fh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ph.fromTimestamp(1e9===r?new Ah(n+1,0):new Ah(n,r));return new Uh(i,Mh.empty(),t)}function Vh(e){return new Uh(e.readTime,e.key,-1)}class Uh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Uh(Ph.min(),Mh.empty(),-1)}static max(){return new Uh(Ph.max(),Mh.empty(),-1)}}function jh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Mh.comparator(e.documentKey,t.documentKey),0!==n?n:Ih(e.largestBatchId,t.largestBatchId))}const Bh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qh(e){if(e.code!==ph.FAILED_PRECONDITION||e.message!==Bh)throw e;ah("LocalStore","Unexpectedly lost primary lease")}class Hh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Hh?t:Hh.resolve(t)}catch(e){return Hh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Hh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Hh.reject(t)}static resolve(e){return new Hh(((t,n)=>{t(e)}))}static reject(e){return new Hh(((t,n)=>{n(e)}))}static waitFor(e){return new Hh(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Hh.resolve(!1);for(const n of e)t=t.next((e=>e?Hh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Hh(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Hh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Wh(e){return"IndexedDbTransactionError"===e.name}class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Gh(e){return null==e}function Qh(e){return 0===e&&1/e==-1/0}function Yh(e){return"number"==typeof e&&Number.isInteger(e)&&!Qh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Kh.ct=-1;const Xh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$h=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jh=$h;function Zh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ed(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function td(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nd{constructor(e,t){this.comparator=e,this.root=t||id.EMPTY}insert(e,t){return new nd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,id.BLACK,null,null))}remove(e){return new nd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,id.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class id{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:id.RED,this.left=null!=r?r:id.EMPTY,this.right=null!=i?i:id.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new id(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return id.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return id.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,id.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,id.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hh();if(this.right.isRed())throw hh();const e=this.left.check();if(e!==this.right.check())throw hh();return e+(this.isRed()?0:1)}}id.EMPTY=null,id.RED=!0,id.BLACK=!1,id.EMPTY=new class{constructor(){this.size=0}get key(){throw hh()}get value(){throw hh()}get color(){throw hh()}get left(){throw hh()}get right(){throw hh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new id(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sd{constructor(e){this.comparator=e,this.data=new nd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new od(this.data.getIterator())}getIteratorFrom(e){return new od(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof sd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new sd(this.comparator);return t.data=e,t}}class od{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ad{constructor(e){this.fields=e,e.sort(Lh.comparator)}static empty(){return new ad([])}unionWith(e){let t=new sd(Lh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ad(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ld extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ud{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ld("Invalid base64 string: "+e):e}}(e);return new ud(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ud(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ih(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ud.EMPTY_BYTE_STRING=new ud("");const cd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hd(e){if(dh(!!e),"string"==typeof e){let t=0;const n=cd.exec(e);if(dh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dd(e.seconds),nanos:dd(e.nanos)}}function dd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function fd(e){return"string"==typeof e?ud.fromBase64String(e):ud.fromUint8Array(e)}function pd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function md(e){const t=e.mapValue.fields.__previous_value__;return pd(t)?md(t):t}function gd(e){const t=hd(e.mapValue.fields.__local_write_time__.timestampValue);return new Ah(t.seconds,t.nanos)}class vd{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class yd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yd&&e.projectId===this.projectId&&e.database===this.database}}const wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pd(e)?4:Ld(e)?9007199254740991:10:hh()}function Ed(e,t){if(e===t)return!0;const n=bd(e);if(n!==bd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gd(e).isEqual(gd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=hd(e.timestampValue),r=hd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return fd(e.bytesValue).isEqual(fd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dd(e.geoPointValue.latitude)===dd(t.geoPointValue.latitude)&&dd(e.geoPointValue.longitude)===dd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dd(e.integerValue)===dd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=dd(e.doubleValue),r=dd(t.doubleValue);return n===r?Qh(n)===Qh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xh(e.arrayValue.values||[],t.arrayValue.values||[],Ed);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zh(n)!==Zh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ed(n[i],r[i])))return!1;return!0}(e,t);default:return hh()}}function Sd(e,t){return void 0!==(e.values||[]).find((e=>Ed(e,t)))}function Td(e,t){if(e===t)return 0;const n=bd(e),r=bd(t);if(n!==r)return Ih(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ih(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=dd(e.integerValue||e.doubleValue),r=dd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kd(e.timestampValue,t.timestampValue);case 4:return kd(gd(e),gd(t));case 5:return Ih(e.stringValue,t.stringValue);case 6:return function(e,t){const n=fd(e),r=fd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ih(n[i],r[i]);if(0!==e)return e}return Ih(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ih(dd(e.latitude),dd(t.latitude));return 0!==n?n:Ih(dd(e.longitude),dd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Td(n[i],r[i]);if(e)return e}return Ih(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wd.mapValue&&t===wd.mapValue)return 0;if(e===wd.mapValue)return 1;if(t===wd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Ih(r[o],s[o]);if(0!==e)return e;const t=Td(n[r[o]],i[s[o]]);if(0!==t)return t}return Ih(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hh()}}function kd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ih(e,t);const n=hd(e),r=hd(t),i=Ih(n.seconds,r.seconds);return 0!==i?i:Ih(n.nanos,r.nanos)}function _d(e){return Cd(e)}function Cd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=hd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Cd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Cd(e.fields[i]));return n+"}"}(e.mapValue):hh();var t,n}function Id(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function xd(e){return!!e&&"integerValue"in e}function Ad(e){return!!e&&"arrayValue"in e}function Pd(e){return!!e&&"nullValue"in e}function Rd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Dd(e){return!!e&&"mapValue"in e}function Nd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ed(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Nd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ld(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Md{constructor(e){this.value=e}static empty(){return new Md({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Dd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nd(t)}setAll(e){let t=Lh.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Nd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Dd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ed(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Dd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ed(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Md(Nd(this.value))}}function Od(e){const t=[];return ed(e.fields,((e,n)=>{const r=new Lh([e]);if(Dd(n)){const e=Od(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ad(t)}class Fd{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Fd(e,0,Ph.min(),Ph.min(),Ph.min(),Md.empty(),0)}static newFoundDocument(e,t,n,r){return new Fd(e,1,t,Ph.min(),n,r,0)}static newNoDocument(e,t){return new Fd(e,2,t,Ph.min(),Ph.min(),Md.empty(),0)}static newUnknownDocument(e,t){return new Fd(e,3,t,Ph.min(),Ph.min(),Md.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ph.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Md.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Md.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ph.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Vd{constructor(e,t){this.position=e,this.inclusive=t}}function Ud(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Mh.comparator(Mh.fromName(o.referenceValue),n.key):Td(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function jd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ed(e.position[n],t.position[n]))return!1;return!0}class Bd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function zd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qd{}class Hd extends qd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Jd(e,t,n):"array-contains"===t?new nf(e,n):"in"===t?new rf(e,n):"not-in"===t?new sf(e,n):"array-contains-any"===t?new of(e,n):new Hd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zd(e,n):new ef(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Td(t,this.value)):null!==t&&bd(this.value)===bd(t)&&this.matchesComparison(Td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Wd extends qd{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Wd(e,t)}matches(e){return Kd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Kd(e){return"and"===e.op}function Gd(e){return Qd(e)&&Kd(e)}function Qd(e){for(const t of e.filters)if(t instanceof Wd)return!1;return!0}function Yd(e){if(e instanceof Hd)return e.field.canonicalString()+e.op.toString()+_d(e.value);if(Gd(e))return e.filters.map((e=>Yd(e))).join(",");{const t=e.filters.map((e=>Yd(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Xd(e,t){return e instanceof Hd?function(e,t){return t instanceof Hd&&e.op===t.op&&e.field.isEqual(t.field)&&Ed(e.value,t.value)}(e,t):e instanceof Wd?function(e,t){return t instanceof Wd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Xd(n,t.filters[r])),!0)}(e,t):void hh()}function $d(e){return e instanceof Hd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_d(e.value))}(e):e instanceof Wd?function(e){return e.op.toString()+" {"+e.getFilters().map($d).join(" ,")+"}"}(e):"Filter"}class Jd extends Hd{constructor(e,t,n){super(e,t,n),this.key=Mh.fromName(n.referenceValue)}matches(e){const t=Mh.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zd extends Hd{constructor(e,t){super(e,"in",t),this.keys=tf("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ef extends Hd{constructor(e,t){super(e,"not-in",t),this.keys=tf("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Mh.fromName(e.referenceValue)))}class nf extends Hd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ad(t)&&Sd(t.arrayValue,this.value)}}class rf extends Hd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sd(this.value.arrayValue,t)}}class sf extends Hd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sd(this.value.arrayValue,t)}}class of extends Hd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ad(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Sd(this.value.arrayValue,e)))}}class af{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function lf(e){return new af(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function uf(e){const t=fh(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Yd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Gh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>_d(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>_d(e))).join(",")),t.dt=e}return t.dt}function cf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jd(e.startAt,t.startAt)&&jd(e.endAt,t.endAt)}function hf(e){return Mh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class df{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function ff(e,t,n,r,i,s,o,a){return new df(e,t,n,r,i,s,o,a)}function pf(e){return new df(e)}function mf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vf(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function yf(e){return null!==e.collectionGroup}function wf(e){const t=fh(e);if(null===t.wt){t.wt=[];const e=vf(t),n=gf(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Bd(e)),t.wt.push(new Bd(Lh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Bd(Lh.keyField(),e))}}}return t.wt}function bf(e){const t=fh(e);if(!t._t)if("F"===t.limitType)t._t=lf(t.path,t.collectionGroup,wf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of wf(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Bd(i.field,t))}const n=t.endAt?new Vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vd(t.startAt.position,t.startAt.inclusive):null;t._t=lf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Ef(e,t){t.getFirstInequalityField(),vf(e);const n=e.filters.concat([t]);return new df(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Sf(e,t,n){return new df(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tf(e,t){return cf(bf(e),bf(t))&&e.limitType===t.limitType}function kf(e){return"".concat(uf(bf(e)),"|lt:").concat(e.limitType)}function _f(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>$d(e))).join(", "),"]")),Gh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>_d(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>_d(e))).join(",")),"Target(".concat(t,")")}(bf(e)),"; limitType=").concat(e.limitType,")")}function Cf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ud(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wf(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ud(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wf(e),t))}(e,t)}function If(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xf(e){return(t,n)=>{let r=!1;for(const i of wf(e)){const e=Af(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Af(e,t,n){const r=e.field.isKeyField()?Mh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Td(r,i):hh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hh()}}class Pf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ed(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return td(this.inner)}size(){return this.innerSize}}const Rf=new nd(Mh.comparator);function Df(){return Rf}const Nf=new nd(Mh.comparator);function Lf(){let e=Nf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Mf(e){let t=Nf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Of(){return Vf()}function Ff(){return Vf()}function Vf(){return new Pf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Uf=new nd(Mh.comparator),jf=new sd(Mh.comparator);function Bf(){let e=jf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const zf=new sd(Ih);function qf(){return zf}function Hf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function Wf(e){return{integerValue:""+e}}function Kf(e,t){return Yh(t)?Wf(t):Hf(e,t)}class Gf{constructor(){this._=void 0}}function Qf(e,t,n){return e instanceof $f?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pd(t)&&(t=md(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jf?Zf(e,t):e instanceof ep?tp(e,t):function(e,t){const n=Xf(e,t),r=rp(n)+rp(e.gt);return xd(n)&&xd(e.gt)?Wf(r):Hf(e.serializer,r)}(e,t)}function Yf(e,t,n){return e instanceof Jf?Zf(e,t):e instanceof ep?tp(e,t):n}function Xf(e,t){return e instanceof np?xd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class $f extends Gf{}class Jf extends Gf{constructor(e){super(),this.elements=e}}function Zf(e,t){const n=ip(t);for(const r of e.elements)n.some((e=>Ed(e,r)))||n.push(r);return{arrayValue:{values:n}}}class ep extends Gf{constructor(e){super(),this.elements=e}}function tp(e,t){let n=ip(t);for(const r of e.elements)n=n.filter((e=>!Ed(e,r)));return{arrayValue:{values:n}}}class np extends Gf{constructor(e,t){super(),this.serializer=e,this.gt=t}}function rp(e){return dd(e.integerValue||e.doubleValue)}function ip(e){return Ad(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sp{constructor(e,t){this.version=e,this.transformResults=t}}class op{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new op}static exists(e){return new op(void 0,e)}static updateTime(e){return new op(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ap(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lp{}function up(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wp(e.key,op.none()):new pp(e.key,e.data,op.none());{const n=e.data,r=Md.empty();let i=new sd(Lh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new mp(e.key,r,new ad(i.toArray()),op.none())}}function cp(e,t,n){e instanceof pp?function(e,t,n){const r=e.value.clone(),i=vp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mp?function(e,t,n){if(!ap(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=vp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hp(e,t,n,r){return e instanceof pp?function(e,t,n,r){if(!ap(e.precondition,t))return n;const i=e.value.clone(),s=yp(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof mp?function(e,t,n,r){if(!ap(e.precondition,t))return n;const i=yp(e.fieldTransforms,r,t),s=t.data;return s.setAll(gp(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ap(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Xf(r.transform,e||null);null!=i&&(null===n&&(n=Md.empty()),n.set(r.field,i))}return n||null}function fp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jf&&t instanceof Jf||e instanceof ep&&t instanceof ep?xh(e.elements,t.elements,Ed):e instanceof np&&t instanceof np?Ed(e.gt,t.gt):e instanceof $f&&t instanceof $f}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pp extends lp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mp extends lp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function vp(e,t,n){const r=new Map;dh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Yf(o,a,n[i]))}return r}function yp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Qf(e,s,t))}return r}class wp extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bp extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ep{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&cp(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ff();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=up(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Ph.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Bf())}isEqual(e){return this.batchId===e.batchId&&xh(this.mutations,e.mutations,((e,t)=>fp(e,t)))&&xh(this.baseMutations,e.baseMutations,((e,t)=>fp(e,t)))}}class Sp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){dh(e.mutations.length===n.length);let r=Uf;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Sp(e,t,n,r)}}class Tp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class kp{constructor(e,t){this.count=e,this.unchangedNames=t}}var _p,Cp;function Ip(e){switch(e){default:return hh();case ph.CANCELLED:case ph.UNKNOWN:case ph.DEADLINE_EXCEEDED:case ph.RESOURCE_EXHAUSTED:case ph.INTERNAL:case ph.UNAVAILABLE:case ph.UNAUTHENTICATED:return!1;case ph.INVALID_ARGUMENT:case ph.NOT_FOUND:case ph.ALREADY_EXISTS:case ph.PERMISSION_DENIED:case ph.FAILED_PRECONDITION:case ph.ABORTED:case ph.OUT_OF_RANGE:case ph.UNIMPLEMENTED:case ph.DATA_LOSS:return!0}}function xp(e){if(void 0===e)return lh("GRPC error has no .code"),ph.UNKNOWN;switch(e){case _p.OK:return ph.OK;case _p.CANCELLED:return ph.CANCELLED;case _p.UNKNOWN:return ph.UNKNOWN;case _p.DEADLINE_EXCEEDED:return ph.DEADLINE_EXCEEDED;case _p.RESOURCE_EXHAUSTED:return ph.RESOURCE_EXHAUSTED;case _p.INTERNAL:return ph.INTERNAL;case _p.UNAVAILABLE:return ph.UNAVAILABLE;case _p.UNAUTHENTICATED:return ph.UNAUTHENTICATED;case _p.INVALID_ARGUMENT:return ph.INVALID_ARGUMENT;case _p.NOT_FOUND:return ph.NOT_FOUND;case _p.ALREADY_EXISTS:return ph.ALREADY_EXISTS;case _p.PERMISSION_DENIED:return ph.PERMISSION_DENIED;case _p.FAILED_PRECONDITION:return ph.FAILED_PRECONDITION;case _p.ABORTED:return ph.ABORTED;case _p.OUT_OF_RANGE:return ph.OUT_OF_RANGE;case _p.UNIMPLEMENTED:return ph.UNIMPLEMENTED;case _p.DATA_LOSS:return ph.DATA_LOSS;default:return hh()}}(Cp=_p||(_p={}))[Cp.OK=0]="OK",Cp[Cp.CANCELLED=1]="CANCELLED",Cp[Cp.UNKNOWN=2]="UNKNOWN",Cp[Cp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cp[Cp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cp[Cp.NOT_FOUND=5]="NOT_FOUND",Cp[Cp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cp[Cp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cp[Cp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cp[Cp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cp[Cp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cp[Cp.ABORTED=10]="ABORTED",Cp[Cp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cp[Cp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cp[Cp.INTERNAL=13]="INTERNAL",Cp[Cp.UNAVAILABLE=14]="UNAVAILABLE",Cp[Cp.DATA_LOSS=15]="DATA_LOSS";class Ap{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pp}static getOrCreateInstance(){return null===Pp&&(Pp=new Ap),Pp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Pp=null;function Rp(){return new TextEncoder}const Dp=new th([4294967295,4294967295],0);function Np(e){const t=Rp().encode(e),n=new eh;return n.update(t),new Uint8Array(n.digest())}function Lp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new th([n,r],0),new th([i,s],0)]}class Mp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Op("Invalid padding: ".concat(t));if(n<0)throw new Op("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Op("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Op("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=th.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(th.fromNumber(n)));return 1===r.compare(Dp)&&(r=new th([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Np(e),[n,r]=Lp(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Mp(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Np(e),[n,r]=Lp(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Op extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fp(Ph.min(),r,new nd(Ih),Df(),Bf())}}class Vp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vp(n,t,Bf(),Bf(),Bf())}}class Up{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class jp{constructor(e,t){this.targetId=e,this.Vt=t}}class Bp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ud.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zp{constructor(){this.St=0,this.Dt=Wp(),this.Ct=ud.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Bf(),t=Bf(),n=Bf();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hh()}})),new Vp(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Wp()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qp{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Df(),this.zt=Hp(),this.Wt=new nd(Ih)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:hh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(hf(s))if(0===r){const e=new Mh(s.path);this.Yt(n,e,Fd.newNoDocument(e,Ph.min()))}else dh(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Ap.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=fd(i).toUint8Array()}catch(e){if(e instanceof ld)return uh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Mp(a,s,o)}catch(e){return uh(e instanceof Op?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&hf(i.target)){const t=new Mh(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Fd.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Bf();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Fp(e,t,this.Wt,this.jt,n);return this.jt=Df(),this.zt=Hp(),this.Wt=new nd(Ih),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new zp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new sd(Ih),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ah("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new zp),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Hp(){return new nd(Mh.comparator)}function Wp(){return new nd(Mh.comparator)}const Kp={asc:"ASCENDING",desc:"DESCENDING"},Gp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qp={and:"AND",or:"OR"};class Yp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xp(e,t){return e.useProto3Json||Gh(t)?t:{value:t}}function $p(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zp(e,t){return $p(e,t.toTimestamp())}function em(e){return dh(!!e),Ph.fromTimestamp(function(e){const t=hd(e);return new Ah(t.seconds,t.nanos)}(e))}function tm(e,t){return function(e){return new Dh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nm(e){const t=Dh.fromString(e);return dh(Sm(t)),t}function rm(e,t){return tm(e.databaseId,t.path)}function im(e,t){const n=nm(t);if(n.get(1)!==e.databaseId.projectId)throw new mh(ph.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mh(ph.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mh(lm(n))}function sm(e,t){return tm(e.databaseId,t)}function om(e){const t=nm(e);return 4===t.length?Dh.emptyPath():lm(t)}function am(e){return new Dh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lm(e){return dh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function um(e,t,n){return{name:rm(e,t),fields:n.value.mapValue.fields}}function cm(e,t){let n;if(t instanceof pp)n={update:um(e,t.key,t.value)};else if(t instanceof wp)n={delete:rm(e,t.key)};else if(t instanceof mp)n={update:um(e,t.key,t.data),updateMask:Em(t.fieldMask)};else{if(!(t instanceof bp))return hh();n={verify:rm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof $f)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ep)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof np)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw hh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hh()}(e,t.precondition)),n}function hm(e,t){return{documents:[sm(e,t.path)]}}function dm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return bm(Wd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ym(e.field),direction:mm(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Xp(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function fm(e){let t=om(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=pm(e);return t instanceof Wd&&Gd(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Bd(wm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Gh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Vd(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Vd(n,t)}(n.endAt)),ff(t,i,o,s,a,"F",l,u)}function pm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wm(e.unaryFilter.field);return Hd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wm(e.unaryFilter.field);return Hd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wm(e.unaryFilter.field);return Hd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=wm(e.unaryFilter.field);return Hd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hh()}}(e):void 0!==e.fieldFilter?function(e){return Hd.create(wm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Wd.create(e.compositeFilter.filters.map((e=>pm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hh()}}(e.compositeFilter.op))}(e):hh()}function mm(e){return Kp[e]}function gm(e){return Gp[e]}function vm(e){return Qp[e]}function ym(e){return{fieldPath:e.canonicalString()}}function wm(e){return Lh.fromServerFormat(e.fieldPath)}function bm(e){return e instanceof Hd?function(e){if("=="===e.op){if(Rd(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NAN"}};if(Pd(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rd(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NOT_NAN"}};if(Pd(e.value))return{unaryFilter:{field:ym(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ym(e.field),op:gm(e.op),value:e.value}}}(e):e instanceof Wd?function(e){const t=e.getFilters().map((e=>bm(e)));return 1===t.length?t[0]:{compositeFilter:{op:vm(e.op),filters:t}}}(e):hh()}function Em(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Sm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Tm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ph.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ph.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ud.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Tm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class km{constructor(e){this.fe=e}}function _m(e){const t=fm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Sf(t,t.limit,"L"):t}class Cm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(dd(e.integerValue));else if("doubleValue"in e){const n=dd(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Qh(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(fd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ld(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):hh()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Mh.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Cm.Ve=new Cm;class Im{constructor(){this.rn=new xm}addToCollectionParentIndex(e,t){return this.rn.add(t),Hh.resolve()}getCollectionParents(e,t){return Hh.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Hh.resolve()}deleteFieldIndex(e,t){return Hh.resolve()}getDocumentsMatchingTarget(e,t){return Hh.resolve(null)}getIndexType(e,t){return Hh.resolve(0)}getFieldIndexes(e,t){return Hh.resolve([])}getNextCollectionGroupToUpdate(e){return Hh.resolve(null)}getMinOffset(e,t){return Hh.resolve(Uh.min())}getMinOffsetFromCollectionGroup(e,t){return Hh.resolve(Uh.min())}updateCollectionGroup(e,t,n){return Hh.resolve()}updateIndexEntries(e,t){return Hh.resolve()}}class xm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sd(Dh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sd(Dh.comparator)).toArray()}}new Uint8Array(0);class Am{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Am(e,Am.DEFAULT_COLLECTION_PERCENTILE,Am.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Am.DEFAULT_COLLECTION_PERCENTILE=10,Am.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Am.DEFAULT=new Am(41943040,Am.DEFAULT_COLLECTION_PERCENTILE,Am.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Am.DISABLED=new Am(-1,0,0);class Pm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pm(0)}static Mn(){return new Pm(-1)}}class Rm{constructor(){this.changes=new Pf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nm{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&hp(n.mutation,e,ad.empty(),Ah.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Bf()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bf();const r=Of();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Lf();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Of();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Bf())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Df();const s=Vf(),o=Vf();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof mp)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),hp(o.mutation,t,o.mutation.getFieldMask(),Ah.now())):s.set(t.key,ad.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Dm(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Vf();let r=new nd(((e,t)=>e-t)),i=Bf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||ad.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Bf()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Ff();l.forEach((e=>{if(!i.has(e)){const r=up(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Hh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Mh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Hh.resolve(Of());let o=-1,a=i;return s.next((t=>Hh.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Hh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Bf()))).next((e=>({batchId:o,changes:Mf(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mh(t)).next((e=>{let t=Lf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Lf();return this.indexManager.getCollectionParents(e,r).next((s=>Hh.forEach(s,(s=>{const o=function(e,t){return new df(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fd.newInvalidDocument(r)))}));let n=Lf();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&hp(s.mutation,i,ad.empty(),Ah.now()),Cf(t,i)&&(n=n.insert(e,i))})),n}))}}class Lm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Hh.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:em(n.createTime)}),Hh.resolve()}getNamedQuery(e,t){return Hh.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:_m(e.bundledQuery),readTime:em(e.readTime)}}(t)),Hh.resolve()}}class Mm{constructor(){this.overlays=new nd(Mh.comparator),this.ls=new Map}getOverlay(e,t){return Hh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Of();return Hh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Hh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Hh.resolve()}getOverlaysForCollection(e,t,n){const r=Of(),i=t.length+1,s=new Mh(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nd(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Of(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Of(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Hh.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Tp(t,n));let i=this.ls.get(t);void 0===i&&(i=Bf(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Om{constructor(){this.fs=new sd(Fm.ds),this.ws=new sd(Fm._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Fm(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Fm(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Mh(new Dh([])),n=new Fm(t,e),r=new Fm(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Mh(new Dh([])),n=new Fm(t,e),r=new Fm(t,e+1);let i=Bf();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Fm(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Fm{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Mh.comparator(e.key,t.key)||Ih(e.As,t.As)}static _s(e,t){return Ih(e.As,t.As)||Mh.comparator(e.key,t.key)}}class Vm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new sd(Fm.ds)}checkEmpty(e){return Hh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ep(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new Fm(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Hh.resolve(s)}lookupMutationBatch(e,t){return Hh.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Hh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Hh.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Hh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Fm(t,0),r=new Fm(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Hh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sd(Ih);return t.forEach((e=>{const t=new Fm(e,0),r=new Fm(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Hh.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Mh.isDocumentKey(i)||(i=i.child(""));const s=new Fm(new Mh(i),0);let o=new sd(Ih);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),s),Hh.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){dh(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Hh.forEach(t.mutations,(r=>{const i=new Fm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Fm(t,0),r=this.Rs.firstAfterOrEqual(n);return Hh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Hh.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Um{constructor(e){this.Ds=e,this.docs=new nd(Mh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hh.resolve(n?n.document.mutableCopy():Fd.newInvalidDocument(t))}getEntries(e,t){let n=Df();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fd.newInvalidDocument(e))})),Hh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Df();const s=t.path,o=new Mh(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||jh(Vh(o),n)<=0||(r.has(o.key)||Cf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Hh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hh()}Cs(e,t){return Hh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new jm(this)}getSize(e){return Hh.resolve(this.size)}}class jm extends Rm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Hh.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Bm{constructor(e){this.persistence=e,this.xs=new Pf((e=>uf(e)),cf),this.lastRemoteSnapshotVersion=Ph.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Om,this.targetCount=0,this.Ms=Pm.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Hh.resolve()}getLastRemoteSnapshotVersion(e){return Hh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hh.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Hh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Hh.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Hh.resolve()}updateTargetData(e,t){return this.Fn(t),Hh.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Hh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Hh.waitFor(i).next((()=>r))}getTargetCount(e){return Hh.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Hh.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Hh.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Hh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Hh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Hh.resolve(n)}containsKey(e,t){return Hh.resolve(this.ks.containsKey(t))}}class zm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Kh(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Bm(this),this.indexManager=new Im,this.remoteDocumentCache=function(e){return new Um(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new km(t),this.qs=new Lm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Vm(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){ah("MemoryPersistence","Starting transaction:",e);const r=new qm(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Hh.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class qm extends zh{constructor(e){super(),this.currentSequenceNumber=e}}class Hm{constructor(e){this.persistence=e,this.Qs=new Om,this.js=null}static zs(e){return new Hm(e)}get Ws(){if(this.js)return this.js;throw hh()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Hh.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Hh.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Hh.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hh.forEach(this.Ws,(n=>{const r=Mh.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Ph.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Hh.or([()=>Hh.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Wm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Bf(),r=Bf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Wm(e,t.fromCache,n,r)}}class Km{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(mf(t))return Hh.resolve(null);let n=bf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Sf(t,null,"F"),n=bf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Bf(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Sf(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return mf(t)||r.isEqual(Ph.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(oh()<=cn.DEBUG&&ah("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_f(t)),this.Wi(e,s,t,Fh(r,-1)))}))}ji(e,t){let n=new sd(xf(e));return t.forEach(((t,r)=>{Cf(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return oh()<=cn.DEBUG&&ah("QueryEngine","Using full collection scan to execute query:",_f(t)),this.Ui.getDocumentsMatchingQuery(e,t,Uh.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Gm{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new nd(Ih),this.Yi=new Pf((e=>uf(e)),cf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Qm(e,t,n,r){return new Gm(e,t,n,r)}async function Ym(e,t){const n=fh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Bf();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Xm(e){const t=fh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function $m(e,t,n){let r=Bf(),i=Bf();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Df();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ph.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ah("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function Jm(e,t){const n=fh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Zm(e,t){const n=fh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Hh.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Tm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function eg(e,t,n){const r=fh(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Wh(e))throw e;ah("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function tg(e,t,n){const r=fh(e);let i=Ph.min(),s=Bf();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=fh(e),i=r.Yi.get(n);return void 0!==i?Hh.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,bf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Ph.min(),n?s:Bf()))).next((e=>(ng(r,If(t),e),{documents:e,ir:s})))))}function ng(e,t,n){let r=e.Xi.get(t)||Ph.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class rg{constructor(){this.activeTargetIds=qf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ig{constructor(){this.Hr=new rg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sg{Yr(e){}shutdown(){}}class og{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ah("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ah("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ag=null;function lg(){return null===ag?ag=268435456+Math.round(2147483648*Math.random()):ag++,"0x"+ag.toString(16)}const ug={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const hg="WebChannelConnection";class dg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=lg(),o=this.To(e,t);ah("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then((t=>(ah("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw uh("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ih,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=ug[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=lg();return new Promise(((s,o)=>{const a=new Zc;a.setWithCredentials(!0),a.listenOnce(Qc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Gc.NO_ERROR:const t=a.getResponseJson();ah(hg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Gc.TIMEOUT:ah(hg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new mh(ph.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const n=a.getStatus();if(ah(hg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ph).indexOf(t)>=0?t:ph.UNKNOWN}(t.status);o(new mh(e,t.message))}else o(new mh(ph.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new mh(ph.UNAVAILABLE,"Connection failed."));break;default:hh()}}finally{ah(hg,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ah(hg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=lg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Wc(),o=Kc(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new $c({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");ah(hg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new cg({ro:t=>{d?ah(hg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(ah(hg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),ah(hg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Jc.EventType.OPEN,(()=>{d||ah(hg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Jc.EventType.CLOSE,(()=>{d||(d=!0,ah(hg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(c,Jc.EventType.ERROR,(t=>{d||(d=!0,uh(hg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new mh(ph.UNAVAILABLE,"The operation could not be completed")))})),p(c,Jc.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];dh(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){ah(hg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=_p[e];if(void 0!==t)return xp(t)}(t),i=o.message;void 0===n&&(n=ph.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new mh(n,i)),c.close()}else ah(hg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(o,Yc.STAT_EVENT,(t=>{t.stat===Xc.PROXY?ah(hg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xc.NOPROXY&&ah(hg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function fg(){return"undefined"!=typeof document?document:null}function pg(e){return new Yp(e,!0)}class mg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&ah("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class gg{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===ph.RESOURCE_EXHAUSTED?(lh(t.toString()),lh("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===ph.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new mh(ph.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return ah("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(ah("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vg extends gg{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(dh(void 0===t||"string"==typeof t),ud.fromBase64String(t||"")):(dh(void 0===t||t instanceof Uint8Array),ud.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ph.UNKNOWN:xp(e.code);return new mh(t,e.message||"")}(o);n=new Bp(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=im(e,r.document.name),s=em(r.document.updateTime),o=r.document.createTime?em(r.document.createTime):Ph.min(),a=new Md({mapValue:{fields:r.document.fields}}),l=Fd.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Up(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=im(e,r.document),s=r.readTime?em(r.readTime):Ph.min(),o=Fd.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Up([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=im(e,r.document),s=r.removedTargetIds||[];n=new Up([],s,i,null)}else{if(!("filter"in t))return hh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new kp(r,i),o=e.targetId;n=new jp(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ph.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ph.min():t.readTime?em(t.readTime):Ph.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=am(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=hf(r)?{documents:hm(e,r)}:{query:dm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Jp(e,t.resumeToken);const r=Xp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ph.min())>0){n.readTime=$p(e,t.snapshotVersion.toTimestamp());const r=Xp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=am(this.serializer),t.removeTarget=e,this.Wo(t)}}class yg extends gg{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(dh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(dh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?em(e.updateTime):em(t);return n.isEqual(Ph.min())&&(n=em(t)),new sp(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=em(e.commitTime);return this.listener.cu(n,t)}return dh(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=am(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>cm(this.serializer,e)))};this.Wo(t)}}class wg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new mh(ph.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ph.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mh(ph.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ph.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mh(ph.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class bg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(lh(t),this.mu=!1):ah("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Eg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Pg(this)&&(ah("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=fh(e);t.vu.add(4),await Tg(t),t.bu.set("Unknown"),t.vu.delete(4),await Sg(t)}(this))}))})),this.bu=new bg(n,r)}}async function Sg(e){if(Pg(e))for(const t of e.Ru)await t(!0)}async function Tg(e){for(const t of e.Ru)await t(!1)}function kg(e,t){const n=fh(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Ag(n)?xg(n):Qg(n).Ko()&&Cg(n,t))}function _g(e,t){const n=fh(e),r=Qg(n);n.Au.delete(t),r.Ko()&&Ig(n,t),0===n.Au.size&&(r.Ko()?r.jo():Pg(n)&&n.bu.set("Unknown"))}function Cg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ph.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qg(e).su(t)}function Ig(e,t){e.Vu.qt(t),Qg(e).iu(t)}function xg(e){e.Vu=new qp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Qg(e).start(),e.bu.gu()}function Ag(e){return Pg(e)&&!Qg(e).Uo()&&e.Au.size>0}function Pg(e){return 0===fh(e).vu.size}function Rg(e){e.Vu=void 0}async function Dg(e){e.Au.forEach(((t,n)=>{Cg(e,t)}))}async function Ng(e,t){Rg(e),Ag(e)?(e.bu.Iu(t),xg(e)):e.bu.set("Unknown")}async function Lg(e,t,n){if(e.bu.set("Online"),t instanceof Bp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){ah("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mg(e,n)}else if(t instanceof Up?e.Vu.Ht(t):t instanceof jp?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Ph.min()))try{const t=await Xm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(ud.EMPTY_BYTE_STRING,r.snapshotVersion)),Ig(e,t);const i=new Tm(r.target,t,n,r.sequenceNumber);Cg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ah("RemoteStore","Failed to raise snapshot:",t),await Mg(e,t)}}async function Mg(e,t,n){if(!Wh(t))throw t;e.vu.add(1),await Tg(e),e.bu.set("Offline"),n||(n=()=>Xm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ah("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Sg(e)}))}function Og(e,t){return t().catch((n=>Mg(e,n,t)))}async function Fg(e){const t=fh(e),n=Yg(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Vg(t);)try{const e=await Jm(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Ug(t,e)}catch(e){await Mg(t,e)}jg(t)&&Bg(t)}function Vg(e){return Pg(e)&&e.Eu.length<10}function Ug(e,t){e.Eu.push(t);const n=Yg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function jg(e){return Pg(e)&&!Yg(e).Uo()&&e.Eu.length>0}function Bg(e){Yg(e).start()}async function zg(e){Yg(e).hu()}async function qg(e){const t=Yg(e);for(const n of e.Eu)t.uu(n.mutations)}async function Hg(e,t,n){const r=e.Eu.shift(),i=Sp.from(r,t,n);await Og(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Fg(e)}async function Wg(e,t){t&&Yg(e).ou&&await async function(e,t){if(Ip(n=t.code)&&n!==ph.ABORTED){const n=e.Eu.shift();Yg(e).Qo(),await Og(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Fg(e)}var n}(e,t),jg(e)&&Bg(e)}async function Kg(e,t){const n=fh(e);n.asyncQueue.verifyOperationInProgress(),ah("RemoteStore","RemoteStore received new credentials");const r=Pg(n);n.vu.add(3),await Tg(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Sg(n)}async function Gg(e,t){const n=fh(e);t?(n.vu.delete(2),await Sg(n)):t||(n.vu.add(2),await Tg(n),n.bu.set("Unknown"))}function Qg(e){return e.Su||(e.Su=function(e,t,n){const r=fh(e);return r.fu(),new vg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Dg.bind(null,e),ao:Ng.bind(null,e),nu:Lg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Ag(e)?xg(e):e.bu.set("Unknown")):(await e.Su.stop(),Rg(e))}))),e.Su}function Yg(e){return e.Du||(e.Du=function(e,t,n){const r=fh(e);return r.fu(),new yg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:zg.bind(null,e),ao:Wg.bind(null,e),au:qg.bind(null,e),cu:Hg.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Fg(e)):(await e.Du.stop(),e.Eu.length>0&&(ah("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class Xg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Xg(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mh(ph.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(e,t){if(lh("AsyncQueue","".concat(t,": ").concat(e)),Wh(e))return new mh(ph.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Jg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Mh.comparator(t.key,n.key):(e,t)=>Mh.comparator(e.key,t.key),this.keyedMap=Lf(),this.sortedSet=new nd(this.comparator)}static emptySet(e){return new Jg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Zg{constructor(){this.Cu=new nd(Mh.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):hh():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ev{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new ev(e,t,Jg.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class tv{constructor(){this.Nu=void 0,this.listeners=[]}}class nv{constructor(){this.queries=new Pf((e=>kf(e)),Tf),this.onlineState="Unknown",this.ku=new Set}}async function rv(e,t){const n=fh(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new tv),i)try{s.Nu=await n.onListen(r)}catch(e){const n=$g(e,"Initialization of query '".concat(_f(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&av(n)}async function iv(e,t){const n=fh(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sv(e,t){const n=fh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&av(n)}function ov(e,t,n){const r=fh(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function av(e){e.ku.forEach((e=>{e.next()}))}class lv{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ev(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=ev.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class uv{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class hv{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Bf(),this.mutatedKeys=Bf(),this.tc=xf(e),this.ec=new Jg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Zg,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Cf(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.rc(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hh()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new ev(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Zg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Bf(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new cv(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new uv(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Bf();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ev.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class dv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fv{constructor(e){this.key=e,this.fc=!1}}class pv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Pf((e=>kf(e)),Tf),this._c=new Map,this.mc=new Set,this.gc=new nd(Mh.comparator),this.yc=new Map,this.Ic=new Om,this.Tc={},this.Ec=new Map,this.Ac=Pm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function mv(e,t){const n=Nv(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await Zm(n.localStore,bf(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await gv(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&kg(n.remoteStore,e)}return i}async function gv(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await tg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Iv(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await tg(e.localStore,t,!0),o=new hv(t,s.ir),a=o.sc(s.documents),l=Vp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Iv(e,n,u.cc);const c=new dv(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function vv(e,t){const n=fh(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Tf(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await eg(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),_g(n.remoteStore,r.targetId),_v(n,r.targetId)})).catch(qh)):(_v(n,r.targetId),await eg(n.localStore,r.targetId,!0))}async function yv(e,t){const n=fh(e);try{const e=await function(e,t){const n=fh(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(ud.EMPTY_BYTE_STRING,Ph.min()).withLastLimboFreeSnapshotVersion(Ph.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Bs.updateTargetData(e,u))}));let a=Df(),l=Bf();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($m(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(Ph.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Hh.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(dh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?dh(r.fc):e.removedDocuments.size>0&&(dh(r.fc),r.fc=!1))})),await Pv(n,e,t)}catch(e){await qh(e)}}function wv(e,t,n){const r=fh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=fh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&av(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bv(e,t,n){const r=fh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new nd(Mh.comparator);e=e.insert(s,Fd.newNoDocument(s,Ph.min()));const n=Bf().add(s),i=new Fp(Ph.min(),new Map,new nd(Ih),e,n);await yv(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),Av(r)}else await eg(r.localStore,t,!1).then((()=>_v(r,t,n))).catch(qh)}async function Ev(e,t){const n=fh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Hh.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);dh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Bf();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);kv(n,r,null),Tv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pv(n,e)}catch(e){await qh(e)}}async function Sv(e,t,n){const r=fh(e);try{const e=await function(e,t){const n=fh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(dh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);kv(r,t,n),Tv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pv(r,e)}catch(n){await qh(n)}}function Tv(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function kv(e,t,n){const r=fh(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function _v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Cv(e,t)}))}function Cv(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(_g(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Av(e))}function Iv(e,t,n){for(const r of n)r instanceof uv?(e.Ic.addReference(r.key,t),xv(e,r)):r instanceof cv?(ah("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Cv(e,r.key)):hh()}function xv(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ah("SyncEngine","New document in limbo: "+n),e.mc.add(r),Av(e))}function Av(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Mh(Dh.fromString(t)),r=e.Ac.next();e.yc.set(r,new fv(n)),e.gc=e.gc.insert(n,r),kg(e.remoteStore,new Tm(bf(pf(n.path)),r,"TargetPurposeLimboResolution",Kh.ct))}}async function Pv(e,t,n){const r=fh(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Wm.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=fh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Hh.forEach(t,(t=>Hh.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Hh.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Wh(e))throw e;ah("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Rv(e,t){const n=fh(e);if(!n.currentUser.isEqual(t)){ah("SyncEngine","User change. New user:",t.toKey());const e=await Ym(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new mh(ph.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pv(n,e.er)}}function Dv(e,t){const n=fh(e),r=n.yc.get(t);if(r&&r.fc)return Bf().add(r.key);{let e=Bf();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Nv(e){const t=fh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bv.bind(null,t),t.dc.nu=sv.bind(null,t.eventManager),t.dc.Pc=ov.bind(null,t.eventManager),t}function Lv(e){const t=fh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ev.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,t),t}class Mv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Qm(this.persistence,new Km,e.initialUser,this.serializer)}createPersistence(e){return new zm(Hm.zs,this.serializer)}createSharedClientState(e){return new ig}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ov{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>wv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rv.bind(null,this.syncEngine),await Gg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new nv}createDatastore(e){const t=pg(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new dg(r));var r;return function(e,t,n,r){return new wg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>wv(this.syncEngine,e,0),s=og.D()?new og:new sg,new Eg(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new pv(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=fh(e);ah("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Tg(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lh("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Vv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=rh.UNAUTHENTICATED,this.clientId=Ch.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ah("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ah("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new mh(ph.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(UC){const n=$g(UC,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Uv(e,t){e.asyncQueue.verifyOperationInProgress(),ah("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ym(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function jv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zv(e);ah("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Kg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Kg(t.remoteStore,n))),e._onlineComponents=t}function Bv(e){return"FirebaseError"===e.name?e.code===ph.FAILED_PRECONDITION||e.code===ph.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function zv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ah("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uv(e,e._uninitializedComponentsProvider._offline)}catch(UC){const n=UC;if(!Bv(n))throw n;uh("Error using user provided cache. Falling back to memory cache: "+n),await Uv(e,new Mv)}}else ah("FirestoreClient","Using default OfflineComponentProvider"),await Uv(e,new Mv);return e._offlineComponents}async function qv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ah("FirestoreClient","Using user provided OnlineComponentProvider"),await jv(e,e._uninitializedComponentsProvider._online)):(ah("FirestoreClient","Using default OnlineComponentProvider"),await jv(e,new Ov))),e._onlineComponents}function Hv(e){return qv(e).then((e=>e.syncEngine))}async function Wv(e){const t=await qv(e),n=t.eventManager;return n.onListen=mv.bind(null,t.syncEngine),n.onUnlisten=vv.bind(null,t.syncEngine),n}function Kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Fv({next:s=>{t.enqueueAndForget((()=>iv(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new mh(ph.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new mh(ph.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new lv(pf(n.path),s,{includeMetadataChanges:!0,Ku:!0});return rv(e,o)}(await Wv(e),e.asyncQueue,t,n,r))),r.promise}function Gv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Fv({next:n=>{t.enqueueAndForget((()=>iv(e,o))),n.fromCache&&"server"===r.source?i.reject(new mh(ph.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new lv(n,s,{includeMetadataChanges:!0,Ku:!0});return rv(e,o)}(await Wv(e),e.asyncQueue,t,n,r))),r.promise}function Qv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yv=new Map;function Xv(e,t,n){if(!n)throw new mh(ph.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $v(e){if(!Mh.isDocumentKey(e))throw new mh(ph.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jv(e){if(Mh.isDocumentKey(e))throw new mh(ph.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hh()}function ey(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mh(ph.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zv(e);throw new mh(ph.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ty(e,t){if(t<=0)throw new mh(ph.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class ny{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new mh(ph.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mh(ph.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new mh(ph.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mh(ph.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new mh(ph.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new mh(ph.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ry{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ny({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new mh(ph.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mh(ph.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ny(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yh;switch(e.type){case"firstParty":return new Sh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mh(ph.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yv.get(e);t&&(ah("ComponentProvider","Removing Datastore"),Yv.delete(e),t.terminate())}(this),Promise.resolve()}}function iy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ey(e,ry))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=rh.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ft(JSON.stringify({alg:"none",type:"JWT"})),Ft(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new mh(ph.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new rh(s)}e._authCredentials=new wh(new vh(t,n))}}class sy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ay(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sy(this.firestore,e,this._key)}}class oy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oy(this.firestore,e,this._query)}}class ay extends oy{constructor(e,t,n){super(e,t,pf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sy(this.firestore,null,new Mh(e))}withConverter(e){return new ay(this.firestore,e,this._path)}}function ly(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rn(e),Xv("collection","path",t),e instanceof ry){const n=Dh.fromString(t,...r);return Jv(n),new ay(e,null,n)}{if(!(e instanceof sy||e instanceof ay))throw new mh(ph.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Dh.fromString(t,...r));return Jv(n),new ay(e.firestore,null,n)}}function uy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=rn(e),1===arguments.length&&(t=Ch.A()),Xv("doc","path",t),e instanceof ry){const n=Dh.fromString(t,...r);return $v(n),new sy(e,null,new Mh(n))}{if(!(e instanceof sy||e instanceof ay))throw new mh(ph.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Dh.fromString(t,...r));return $v(n),new sy(e.firestore,e instanceof ay?e.converter:null,new Mh(n))}}class cy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mg(this,"async_queue_retry"),this.Xc=()=>{const e=fg();e&&ah("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=fg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new gh;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Wh(e))throw e;ah("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Xg.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&hh()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class hy extends ry{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fy(this),this._firestoreClient.terminate()}}function dy(e){return e._firestoreClient||fy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fy(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new vd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Qv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Vv(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class py{constructor(e){this._byteString=e}static fromBase64String(e){try{return new py(ud.fromBase64String(e))}catch(e){throw new mh(ph.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new py(ud.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class my{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new mh(ph.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gy{constructor(e){this._methodName=e}}class vy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mh(ph.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mh(ph.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ih(this._lat,e._lat)||Ih(this._long,e._long)}}const yy=/^__.*__$/;class wy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new mp(e,this.data,this.fieldMask,t,this.fieldTransforms):new pp(e,this.data,t,this.fieldTransforms)}}class by{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new mp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ey(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hh()}}class Sy{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Fy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ey(this.ca)&&yy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ty{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||pg(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sy({ca:e,methodName:t,ga:n,path:Lh.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(e){const t=e._freezeSettings(),n=pg(e._databaseId);return new Ty(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _y(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Ny("Data must be an object, but it was:",o,r);const a=Ry(r,o);let l,u;if(s.merge)l=new ad(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ly(t,r,n);if(!o.contains(i))throw new mh(ph.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Vy(e,i)||e.push(i)}l=new ad(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new wy(new Md(a),l,u)}class Cy extends gy{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cy}}function Iy(e,t,n,r){const i=e.ya(1,t,n);Ny("Data must be an object, but it was:",i,r);const s=[],o=Md.empty();ed(r,((e,r)=>{const a=Oy(t,e,n);r=rn(r);const l=i.da(a);if(r instanceof Cy)s.push(a);else{const e=Py(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new ad(s);return new by(o,a,i.fieldTransforms)}function xy(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[Ly(t,r,n)],l=[i];if(s.length%2!=0)throw new mh(ph.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Ly(t,s[d])),l.push(s[d+1]);const u=[],c=Md.empty();for(let d=a.length-1;d>=0;--d)if(!Vy(u,a[d])){const e=a[d];let t=l[d];t=rn(t);const n=o.da(e);if(t instanceof Cy)u.push(e);else{const r=Py(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new ad(u);return new by(c,h,o.fieldTransforms)}function Ay(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Py(n,e.ya(r?4:3,t))}function Py(e,t){if(Dy(e=rn(e)))return Ny("Unsupported field value:",t,e),Ry(e,t);if(e instanceof gy)return function(e,t){if(!Ey(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Py(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=rn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ah.fromDate(e);return{timestampValue:$p(t.serializer,n)}}if(e instanceof Ah){const n=new Ah(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$p(t.serializer,n)}}if(e instanceof vy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof py)return{bytesValue:Jp(t.serializer,e._byteString)};if(e instanceof sy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:tm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Zv(e)))}(e,t)}function Ry(e,t){const n={};return td(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ed(e,((e,r)=>{const i=Py(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Dy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ah||e instanceof vy||e instanceof py||e instanceof sy||e instanceof gy)}function Ny(e,t,n){if(!Dy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Zv(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Ly(e,t,n){if((t=rn(t))instanceof my)return t._internalPath;if("string"==typeof t)return Oy(e,t);throw Fy("Field path arguments must be of type string or ",e,!1,void 0,n)}const My=new RegExp("[~\\*/\\[\\]]");function Oy(e,t,n){if(t.search(My)>=0)throw Fy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new my(...t.split("."))._internalPath}catch(r){throw Fy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Fy(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new mh(ph.INVALID_ARGUMENT,a+e+l)}function Vy(e,t){return e.some((e=>e.isEqual(t)))}class Uy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(By("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jy extends Uy{data(){return super.data()}}function By(e,t){return"string"==typeof t?Oy(e,t):t instanceof my?t._internalPath:t._delegate._internalPath}function zy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mh(ph.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qy{}class Hy extends qy{}function Wy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof qy&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Qy)).length,n=e.filter((e=>e instanceof Ky)).length;if(t>1||t>0&&n>0)throw new mh(ph.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Ky extends Hy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ky(e,t,n)}_apply(e){const t=this._parse(e);return Zy(e._query,t),new oy(e.firestore,e.converter,Ef(e._query,t))}_parse(e){const t=ky(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new mh(ph.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Jy(o,s);const t=[];for(const n of o)t.push($y(r,e,n));a={arrayValue:{values:t}}}else a=$y(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Jy(o,s),a=Ay(n,"where",o,"in"===s||"not-in"===s);return Hd.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Gy(e,t,n){const r=t,i=By("where",e);return Ky._create(i,r,n)}class Qy extends qy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qy(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Wd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Zy(n,i),n=Ef(n,i)}(e._query,t),new oy(e.firestore,e.converter,Ef(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yy extends Hy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new mh(ph.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mh(ph.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Bd(t,n);return function(e,t){if(null===gf(e)){const n=vf(e);null!==n&&ew(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new oy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new df(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Xy extends Hy{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Xy(e,t,n)}_apply(e){return new oy(e.firestore,e.converter,Sf(e._query,this._limit,this._limitType))}}function $y(e,t,n){if("string"==typeof(n=rn(n))){if(""===n)throw new mh(ph.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yf(t)&&-1!==n.indexOf("/"))throw new mh(ph.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Dh.fromString(n));if(!Mh.isDocumentKey(r))throw new mh(ph.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Id(e,new Mh(r))}if(n instanceof sy)return Id(e,n._key);throw new mh(ph.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Zv(n),"."))}function Jy(e,t){if(!Array.isArray(e)||0===e.length)throw new mh(ph.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Zy(e,t){if(t.isInequality()){const n=vf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new mh(ph.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=gf(e);null!==i&&ew(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new mh(ph.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new mh(ph.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function ew(e,t,n){if(!n.isEqual(t))throw new mh(ph.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class tw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(bd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ed(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new vy(dd(e.latitude),dd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=md(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gd(e));default:return null}}convertTimestamp(e){const t=hd(e);return new Ah(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Dh.fromString(e);dh(Sm(n));const r=new yd(n.get(1),n.get(3)),i=new Mh(n.popFirst(5));return r.isEqual(t)||lh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function nw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class rw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iw extends Uy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(By("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class sw extends iw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ow{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new rw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new sw(this._firestore,this._userDataWriter,n.key,n,new rw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mh(ph.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new sw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new rw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new sw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new rw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:aw(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function aw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hh()}}class lw extends tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new py(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sy(this.firestore,null,t)}}function uw(e){e=ey(e,oy);const t=ey(e.firestore,hy),n=dy(t),r=new lw(t);return zy(e._query),Gv(n,e._query).then((n=>new ow(t,r,e,n)))}function cw(e,t,n){e=ey(e,sy);const r=ey(e.firestore,hy),i=ky(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=rn(t))||t instanceof my?xy(i,"updateDoc",e._key,t,n,a):Iy(i,"updateDoc",e._key,t),hw(r,[s.toMutation(e._key,op.exists(!0))])}function hw(e,t){return function(e,t){const n=new gh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Lv(e);try{const e=await function(e,t){const n=fh(e),r=Ah.now(),i=t.reduce(((e,t)=>e.add(t.key)),Bf());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Df(),l=Bf();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=dp(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new mp(e.key,t,Od(t.value.mapValue),op.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Mf(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new nd(Ih)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pv(r,e.changes),await Fg(r.remoteStore)}catch(e){const t=$g(e,"Failed to persist write");n.reject(t)}}(await Hv(e),t,n))),n.promise}(dy(e),t)}function dw(e,t,n){const r=n.docs.get(t._key),i=new lw(e);return new iw(e,i,t._key,r,new rw(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ih=e}(gr),dr(new sn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new hy(new bh(e.getProvider("auth-internal")),new kh(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mh(ph.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),wr(nh,"3.13.0",e),wr(nh,"3.13.0","esm2017")}();wr("firebase","9.23.0","app");const fw=vr({apiKey:"AIzaSyCMRjNuMS6IZhIhsmzAG2LbXRMXf6UR-eI",authDomain:"keyng-cart.firebaseapp.com",projectId:"keyng-cart",storageBucket:"keyng-cart.appspot.com",messagingSenderId:"603615696618",appId:"1:603615696618:web:9d7873054e88b2e241e993",measurementId:"G-6383ZKYG7J"}),pw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();const t=fr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=fr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Xt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Vr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ao,persistence:[Vs,Es,Ts]}),r=qt("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>No)return;const r=null===t||void 0===t?void 0:t.token;Lo!==r&&(Lo=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){rn(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){rn(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const s=Bt("auth");return s&&Ki(n,"http://".concat(s)),n}(fw),mw=function(e,t){const n="string"==typeof e?e:t||"(default)",r=fr("object"==typeof e?e:yr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Bt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&iy(r,...e)}return r}(fw);var gw=n(579);const vw=function(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(!0),s=rt();return(0,i.useEffect)((()=>{const e=function(e,t,n,r){return rn(e).onAuthStateChanged(t,n,r)}(pw,(async e=>{if(r(!0),e)try{const n=uy(mw,"users",e.uid),r=await function(e){e=ey(e,sy);const t=ey(e.firestore,hy);return Kv(dy(t),e._key).then((n=>dw(t,e,n)))}(n);if(r.exists())t({id:e.uid,...r.data()});else{const r={id:e.uid,coins:0,energy:100,level:1};await function(e,t,n){e=ey(e,sy);const r=ey(e.firestore,hy),i=nw(e.converter,t,n);return hw(r,[_y(ky(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,op.none())])}(n,r),t(r)}}catch(n){console.error("Error fetching user data:",n),t(null)}else t(null),s("/");r(!1)}));return()=>e()}),[s]),n?(0,gw.jsx)("div",{children:"Loading..."}):e?(0,gw.jsxs)("div",{className:"app",children:[(0,gw.jsx)("header",{className:"bg-blue-500 text-white p-4",children:(0,gw.jsx)("h1",{className:"text-2xl font-bold",children:"Telegram Web App"})}),(0,gw.jsx)("main",{className:"p-4",children:(0,gw.jsx)(yt,{context:{user:e,setUser:t}})}),(0,gw.jsx)("nav",{className:"fixed bottom-0 w-full bg-gray-200 p-4"})]}):(0,gw.jsx)("div",{children:"Please log in to access this application."})},yw=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ww=(0,i.createContext)({}),bw=(0,i.createContext)(null),Ew="undefined"!==typeof document,Sw=Ew?i.useLayoutEffect:i.useEffect,Tw=(0,i.createContext)({strict:!1}),kw=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),_w="data-"+kw("framerAppearId");function Cw(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Iw(e){return"string"===typeof e||Array.isArray(e)}function xw(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Aw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pw=["initial",...Aw];function Rw(e){return xw(e.animate)||Pw.some((t=>Iw(e[t])))}function Dw(e){return Boolean(Rw(e)||e.variants)}function Nw(e){const{initial:t,animate:n}=function(e,t){if(Rw(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Iw(t)?t:void 0,animate:Iw(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(ww));return(0,i.useMemo)((()=>({initial:t,animate:n})),[Lw(t),Lw(n)])}function Lw(e){return Array.isArray(e)?e.join(" "):e}const Mw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ow={};for(const BC in Mw)Ow[BC]={isEnabled:e=>Mw[BC].some((t=>!!e[t]))};const Fw=(0,i.createContext)({}),Vw=(0,i.createContext)({}),Uw=Symbol.for("motionComponentSymbol");function jw(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:s,Component:o}=e;t&&function(e){for(const t in e)Ow[t]={...Ow[t],...e[t]}}(t);const a=(0,i.forwardRef)((function(e,a){let l;const u={...(0,i.useContext)(yw),...e,layoutId:Bw(e)},{isStatic:c}=u,h=Nw(e),d=s(e,c);if(!c&&Ew){h.visualElement=function(e,t,n,r){const{visualElement:s}=(0,i.useContext)(ww),o=(0,i.useContext)(Tw),a=(0,i.useContext)(bw),l=(0,i.useContext)(yw).reducedMotion,u=(0,i.useRef)();r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const c=u.current;(0,i.useInsertionEffect)((()=>{c&&c.update(n,a)}));const h=(0,i.useRef)(Boolean(n[_w]&&!window.HandoffComplete));return Sw((()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())})),(0,i.useEffect)((()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))})),c}(o,d,u,n);const e=(0,i.useContext)(Vw),r=(0,i.useContext)(Tw).strict;h.visualElement&&(l=h.visualElement.loadFeatures(u,r,t,e))}return i.createElement(ww.Provider,{value:h},l&&h.visualElement?i.createElement(l,{visualElement:h.visualElement,...u}):null,r(o,e,function(e,t,n){return(0,i.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Cw(n)&&(n.current=r))}),[t])}(d,h.visualElement,a),d,c,h.visualElement))}));return a[Uw]=o,a}function Bw(e){let{layoutId:t}=e;const n=(0,i.useContext)(Fw).id;return n&&void 0!==t?n+"-"+t:t}function zw(e){function t(t){return jw(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const qw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hw(e){return"string"===typeof e&&!e.includes("-")&&!!(qw.indexOf(e)>-1||/[A-Z]/.test(e))}const Ww={};const Kw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gw=new Set(Kw);function Qw(e,t){let{layout:n,layoutId:r}=t;return Gw.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Ww[e]||"opacity"===e)}const Yw=e=>Boolean(e&&e.getVelocity),Xw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$w=Kw.length;const Jw=e=>t=>"string"===typeof t&&t.startsWith(e),Zw=Jw("--"),eb=Jw("var(--"),tb=(e,t)=>t&&"number"===typeof e?t.transform(e):e,nb=(e,t,n)=>Math.min(Math.max(n,e),t),rb={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ib={...rb,transform:e=>nb(0,1,e)},sb={...rb,default:1},ob=e=>Math.round(1e5*e)/1e5,ab=/(-)?([\d]*\.?[\d])+/g,lb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ub=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cb(e){return"string"===typeof e}const hb=e=>({test:t=>cb(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),db=hb("deg"),fb=hb("%"),pb=hb("px"),mb=hb("vh"),gb=hb("vw"),vb={...fb,parse:e=>fb.parse(e)/100,transform:e=>fb.transform(100*e)},yb={...rb,transform:Math.round},wb={borderWidth:pb,borderTopWidth:pb,borderRightWidth:pb,borderBottomWidth:pb,borderLeftWidth:pb,borderRadius:pb,radius:pb,borderTopLeftRadius:pb,borderTopRightRadius:pb,borderBottomRightRadius:pb,borderBottomLeftRadius:pb,width:pb,maxWidth:pb,height:pb,maxHeight:pb,size:pb,top:pb,right:pb,bottom:pb,left:pb,padding:pb,paddingTop:pb,paddingRight:pb,paddingBottom:pb,paddingLeft:pb,margin:pb,marginTop:pb,marginRight:pb,marginBottom:pb,marginLeft:pb,rotate:db,rotateX:db,rotateY:db,rotateZ:db,scale:sb,scaleX:sb,scaleY:sb,scaleZ:sb,skew:db,skewX:db,skewY:db,distance:pb,translateX:pb,translateY:pb,translateZ:pb,x:pb,y:pb,z:pb,perspective:pb,transformPerspective:pb,opacity:ib,originX:vb,originY:vb,originZ:pb,zIndex:yb,fillOpacity:ib,strokeOpacity:ib,numOctaves:yb};function bb(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const h in t){const e=t[h];if(Zw(h)){s[h]=e;continue}const n=wb[h],r=tb(e,n);if(Gw.has(h)){if(l=!0,o[h]=r,!c)continue;e!==(n.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:s=!0}=t,o="";for(let a=0;a<$w;a++){const t=Kw[a];if(void 0!==e[t]){const n=Xw[t]||t;o+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(o+="translateZ(0)"),o=o.trim(),r?o=r(e,n?"":o):s&&n&&(o="none"),o}(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Eb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sb(e,t,n){for(const r in t)Yw(t[r])||Qw(r,n)||(e[r]=t[r])}function Tb(e,t,n){const r={};return Sb(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,i.useMemo)((()=>{const e=Eb();return bb(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function kb(e,t,n){const r={},i=Tb(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const _b=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cb(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_b.has(e)}let Ib=e=>!Cb(e);try{(xb=require("@emotion/is-prop-valid").default)&&(Ib=e=>e.startsWith("on")?!Cb(e):xb(e))}catch(jC){}var xb;function Ab(e,t,n){return"string"===typeof e?e:pb.transform(t+n*e)}const Pb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rb={offset:"strokeDashoffset",array:"strokeDasharray"};function Db(e,t,n,r,i){let{attrX:s,attrY:o,attrScale:a,originX:l,originY:u,pathLength:c,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(bb(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==u||m.transform)&&(m.transformOrigin=function(e,t,n){const r=Ab(t,e.x,e.width),i=Ab(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==l?l:.5,void 0!==u?u:.5)),void 0!==s&&(p.x=s),void 0!==o&&(p.y=o),void 0!==a&&(p.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const s=i?Pb:Rb;e[s.offset]=pb.transform(-r);const o=pb.transform(t),a=pb.transform(n);e[s.array]="".concat(o," ").concat(a)}(p,c,h,d,!1)}const Nb=()=>({...Eb(),attrs:{}}),Lb=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Mb(e,t,n,r){const s=(0,i.useMemo)((()=>{const n=Nb();return Db(n,t,{enableHardwareAcceleration:!1},Lb(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Sb(t,e.style,e),s.style={...t,...s.style}}return s}function Ob(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,s,o)=>{let{latestValues:a}=s;const l=(Hw(t)?Mb:kb)(n,a,o,t),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Ib(i)||!0===n&&Cb(i)||!t&&!Cb(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),c={...u,...l,ref:r},{children:h}=n,d=(0,i.useMemo)((()=>Yw(h)?h.get():h),[h]);return(0,i.createElement)(t,{...c,children:d})}}function Fb(e,t,n,r){let{style:i,vars:s}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const o in s)e.style.setProperty(o,s[o])}const Vb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ub(e,t,n,r){Fb(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Vb.has(i)?i:kw(i),t.attrs[i])}function jb(e,t){const{style:n}=e,r={};for(const i in n)(Yw(n[i])||t.style&&Yw(t.style[i])||Qw(i,e))&&(r[i]=n[i]);return r}function Bb(e,t){const n=jb(e,t);for(const r in e)if(Yw(e[r])||Yw(t[r])){n[-1!==Kw.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function zb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const qb=e=>Array.isArray(e),Hb=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),Wb=e=>qb(e)?e[e.length-1]||0:e;function Kb(e){const t=Yw(e)?e.get():e;return Hb(t)?t.toValue():t}const Gb=e=>(t,n)=>{const r=(0,i.useContext)(ww),s=(0,i.useContext)(bw),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:s,onMount:o}=e;const a={latestValues:Qb(t,n,r,i),renderState:s()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,r,s);return n?o():function(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}(o)};function Qb(e,t,n,r){const i={},s=r(e,{});for(const d in s)i[d]=Kb(s[d]);let{initial:o,animate:a}=e;const l=Rw(e),u=Dw(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const h=c?a:o;if(h&&"boolean"!==typeof h&&!xw(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=zb(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[c?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const Yb=e=>e;class Xb{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const $b=["prepare","read","update","preRender","render","postRender"];const{schedule:Jb,cancel:Zb,state:eE,steps:tE}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=$b.reduce(((e,t)=>(e[t]=function(e){let t=new Xb,n=new Xb,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=s?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),a.add(e)&&s&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),o.has(r)&&(a.schedule(r),e())}i=!1,s&&(s=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),o=e=>s[e].process(i),a=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,$b.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=$b.reduce(((t,o)=>{const l=s[o];return t[o]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,s,o)},t}),{});return{schedule:l,cancel:e=>$b.forEach((t=>s[t].cancel(e))),state:i,steps:s}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Yb,!0),nE={useVisualState:Gb({scrapeMotionValuesFromProps:Bb,createRenderState:Nb,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Jb.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(UC){r.dimensions={x:0,y:0,width:0,height:0}}})),Jb.render((()=>{Db(r,i,{enableHardwareAcceleration:!1},Lb(t.tagName),e.transformTemplate),Ub(t,r)}))}})},rE={useVisualState:Gb({scrapeMotionValuesFromProps:jb,createRenderState:Eb})};function iE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const sE=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function oE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const aE=e=>t=>sE(t)&&e(t,oE(t));function lE(e,t,n,r){return iE(e,t,aE(n),r)}const uE=(e,t)=>n=>t(e(n)),cE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(uE)};function hE(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const dE=hE("dragHorizontal"),fE=hE("dragVertical");function pE(e){let t=!1;if("y"===e)t=fE();else if("x"===e)t=dE();else{const e=dE(),n=fE();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function mE(){const e=pE(!0);return!e||(e(),!1)}class gE{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return lE(e.current,n,((n,i)=>{if("touch"===n.pointerType||mE())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Jb.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const yE=(e,t)=>!!t&&(e===t||yE(e,t.parentElement));function wE(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,oE(n))}const bE=new WeakMap,EE=new WeakMap,SE=e=>{const t=bE.get(e.target);t&&t(e)},TE=e=>{e.forEach(SE)};function kE(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;EE.has(r)||EE.set(r,{});const i=EE.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(TE,{root:t,...n})),i[s]}(t);return bE.set(e,n),r.observe(e),()=>{bE.delete(e),r.unobserve(e)}}const _E={some:0,all:1};const CE={inView:{Feature:class extends gE{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:_E[r]};return kE(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends gE{constructor(){super(...arguments),this.removeStartListeners=Yb,this.removeEndListeners=Yb,this.removeAccessibleListeners=Yb,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=lE(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Jb.update((()=>{i||yE(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=lE(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=cE(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=iE(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=iE(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&wE("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Jb.update((()=>n(e,t)))}))})),wE("down",((e,t)=>{this.startPress(e,t)}))})),t=iE(this.node.current,"blur",(()=>{this.isPressing&&wE("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=cE(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Jb.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!mE()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Jb.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=lE(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=iE(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=cE(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends gE{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(UC){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cE(iE(this.node.current,"focus",(()=>this.onFocus())),iE(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends gE{mount(){this.unmount=cE(vE(this.node,!0),vE(this.node,!1))}unmount(){}}}};function IE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function xE(e,t,n){const r=e.getProps();return zb(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let AE=Yb,PE=Yb;const RE=e=>1e3*e,DE=e=>e/1e3,NE=!1,LE=e=>Array.isArray(e)&&"number"===typeof e[0];function ME(e){return Boolean(!e||"string"===typeof e&&FE[e]||LE(e)||Array.isArray(e)&&e.every(ME))}const OE=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},FE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:OE([0,.65,.55,1]),circOut:OE([.55,0,1,.45]),backIn:OE([.31,.01,.66,-.59]),backOut:OE([.33,1.53,.69,.99])};function VE(e){if(e)return LE(e)?OE(e):Array.isArray(e)?e.map(VE):FE[e]}const UE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,jE=1e-7,BE=12;function zE(e,t,n,r){if(e===t&&n===r)return Yb;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=UE(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>jE&&++a<BE);return o}(t,0,1,e,n);return e=>0===e||1===e?e:UE(i(e),t,r)}const qE=zE(.42,0,1,1),HE=zE(0,0,.58,1),WE=zE(.42,0,.58,1),KE=e=>Array.isArray(e)&&"number"!==typeof e[0],GE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,QE=e=>t=>1-e(1-t),YE=e=>1-Math.sin(Math.acos(e)),XE=QE(YE),$E=GE(YE),JE=zE(.33,1.53,.69,.99),ZE=QE(JE),eS=GE(ZE),tS={linear:Yb,easeIn:qE,easeInOut:WE,easeOut:HE,circIn:YE,circInOut:$E,circOut:XE,backIn:ZE,backInOut:eS,backOut:JE,anticipate:e=>(e*=2)<1?.5*ZE(e):.5*(2-Math.pow(2,-10*(e-1)))},nS=e=>{if(Array.isArray(e)){PE(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return zE(t,n,r,i)}return"string"===typeof e?(PE(void 0!==tS[e],"Invalid easing type '".concat(e,"'")),tS[e]):e},rS=(e,t)=>n=>Boolean(cb(n)&&ub.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),iS=(e,t,n)=>r=>{if(!cb(r))return r;const[i,s,o,a]=r.match(ab);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},sS={...rb,transform:e=>Math.round((e=>nb(0,255,e))(e))},oS={test:rS("rgb","red"),parse:iS("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+sS.transform(t)+", "+sS.transform(n)+", "+sS.transform(r)+", "+ob(ib.transform(i))+")"}};const aS={test:rS("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:oS.transform},lS={test:rS("hsl","hue"),parse:iS("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+fb.transform(ob(n))+", "+fb.transform(ob(r))+", "+ob(ib.transform(i))+")"}},uS={test:e=>oS.test(e)||aS.test(e)||lS.test(e),parse:e=>oS.test(e)?oS.parse(e):lS.test(e)?lS.parse(e):aS.parse(e),transform:e=>cb(e)?e:e.hasOwnProperty("red")?oS.transform(e):lS.transform(e)},cS=(e,t,n)=>-n*e+n*t+e;function hS(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const dS=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},fS=[aS,oS,lS];function pS(e){const t=(e=>fS.find((t=>t.test(e))))(e);PE(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===lS&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let s=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;s=hS(i,e,t+1/3),o=hS(i,e,t),a=hS(i,e,t-1/3)}else s=o=a=r;return{red:Math.round(255*s),green:Math.round(255*o),blue:Math.round(255*a),alpha:i}}(n)),n}const mS=(e,t)=>{const n=pS(e),r=pS(t),i={...n};return e=>(i.red=dS(n.red,r.red,e),i.green=dS(n.green,r.green,e),i.blue=dS(n.blue,r.blue,e),i.alpha=cS(n.alpha,r.alpha,e),oS.transform(i))};const gS={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Yb},vS={regex:lb,countKey:"Colors",token:"${c}",parse:uS.parse},yS={regex:ab,countKey:"Numbers",token:"${n}",parse:rb.parse};function wS(e,t){let{regex:n,countKey:r,token:i,parse:s}=t;const o=e.tokenised.match(n);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(n,i),e.values.push(...o.map(s)))}function bS(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&wS(n,gS),wS(n,vS),wS(n,yS),n}function ES(e){return bS(e).values}function SS(e){const{values:t,numColors:n,numVars:r,tokenised:i}=bS(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(gS.token,e[i]):i<r+n?t.replace(vS.token,uS.transform(e[i])):t.replace(yS.token,ob(e[i]));return t}}const TS=e=>"number"===typeof e?0:e;const kS={test:function(e){var t,n;return isNaN(e)&&cb(e)&&((null===(t=e.match(ab))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(lb))||void 0===n?void 0:n.length)||0)>0},parse:ES,createTransformer:SS,getAnimatableNone:function(e){const t=ES(e);return SS(e)(t.map(TS))}},_S=(e,t)=>n=>"".concat(n>0?t:e);function CS(e,t){return"number"===typeof e?n=>cS(e,t,n):uS.test(e)?mS(e,t):e.startsWith("var(")?_S(e,t):AS(e,t)}const IS=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>CS(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},xS=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=CS(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},AS=(e,t)=>{const n=kS.createTransformer(t),r=bS(e),i=bS(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?cE(IS(r.values,i.values),n):(AE(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),_S(e,t))},PS=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},RS=(e,t)=>n=>cS(e,t,n);function DS(e,t,n){const r=[],i=n||function(e){return"number"===typeof e?RS:"string"===typeof e?uS.test(e)?mS:AS:Array.isArray(e)?IS:"object"===typeof e?xS:RS}(e[0]),s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Yb:t;n=cE(e,n)}r.push(n)}return r}function NS(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length;if(PE(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=DS(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=PS(e[n],e[n+1],t);return o[n](r)};return n?t=>l(nb(e[0],e[s-1],t)):l}function LS(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=PS(0,t,r);e.push(cS(n,1,i))}}(t,e.length-1),t}function MS(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const s=KE(i)?i.map(nS):nS(i),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:LS(n),t),l=NS(a,n,{ease:Array.isArray(s)?s:(u=n,c=s,u.map((()=>c||WE)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}function OS(e,t){return t?e*(1e3/t):0}const FS=5;function VS(e,t,n){const r=Math.max(t-FS,0);return OS(n-e(r),t-r)}const US=.001,jS=.01,BS=10,zS=.05,qS=1;function HS(e){let t,n,{duration:r=800,bounce:i=.25,velocity:s=0,mass:o=1}=e;AE(r<=RE(BS),"Spring duration must be 10 seconds or less");let a=1-i;a=nb(zS,qS,a),r=nb(jS,BS,DE(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-s,o=KS(e,a),l=Math.exp(-n);return US-i/o*l},n=e=>{const n=e*a*r,i=n*s+s,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=KS(Math.pow(e,2),a);return(-t(e)+US>0?-1:1)*((i-o)*l)/u}):(t=e=>Math.exp(-e*r)*((e-s)*r+1)-US,n=e=>Math.exp(-e*r)*(r*r*(s-e)));const l=function(e,t,n){let r=n;for(let i=1;i<WS;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=RE(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const WS=12;function KS(e,t){return e*Math.sqrt(1-t*t)}const GS=["duration","bounce"],QS=["stiffness","damping","mass"];function YS(e,t){return t.some((t=>void 0!==e[t]))}function XS(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!YS(e,QS)&&YS(e,GS)){const n=HS(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-DE(i.velocity||0)}),p=d||0,m=u/(2*Math.sqrt(l*c)),g=o-s,v=DE(Math.sqrt(l/c)),y=Math.abs(g)<5;let w;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=KS(v,m);w=t=>{const n=Math.exp(-m*v*t);return o-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>o-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return o-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=w(e);if(f)a.done=e>=h;else{let i=p;0!==e&&(i=m<1?VS(w,e,t):0);const s=Math.abs(i)<=r,l=Math.abs(o-t)<=n;a.done=s&&l}return a.value=a.done?o:t,a}}}function $S(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),w=e=>v+y(e),b=e=>{const t=y(e),n=w(e);f.done=Math.abs(t)<=c,f.value=f.done?v:n};let E,S;const T=e=>{(e=>void 0!==l&&e<l||void 0!==u&&e>u)(f.value)&&(E=e,S=XS({keyframes:[f.value,p(f.value)],velocity:VS(w,e,f.value),damping:s,stiffness:o,restDelta:c,restSpeed:h}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==E||(t=!0,b(e),T(e)),void 0!==E&&e>E?S.next(e-E):(!t&&b(e),f)}}}const JS=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Jb.update(t,!0),stop:()=>Zb(t),now:()=>eE.isProcessing?eE.timestamp:performance.now()}},ZS=2e4;function eT(e){let t=0;let n=e.next(t);for(;!n.done&&t<ZS;)t+=50,n=e.next(t);return t>=ZS?1/0:t}const tT={decay:$S,inertia:$S,tween:MS,keyframes:MS,spring:XS};function nT(e){let t,n,{autoplay:r=!0,delay:i=0,driver:s=JS,keyframes:o,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",onPlay:h,onStop:d,onComplete:f,onUpdate:p,...m}=e,g=1,v=!1;const y=()=>{n=new Promise((e=>{t=e}))};let w;y();const b=tT[a]||MS;let E;b!==MS&&"number"!==typeof o[0]&&(E=NS([0,100],o,{clamp:!1}),o=[0,100]);const S=b({...m,keyframes:o});let T;"mirror"===c&&(T=b({...m,keyframes:[...o].reverse(),velocity:-(m.velocity||0)}));let k="idle",_=null,C=null,I=null;null===S.calculatedDuration&&l&&(S.calculatedDuration=eT(S));const{calculatedDuration:x}=S;let A=1/0,P=1/0;null!==x&&(A=x+u,P=A*(l+1)-u);let R=0;const D=e=>{if(null===C)return;g>0&&(C=Math.min(C,e)),g<0&&(C=Math.min(e-P/g,C)),R=null!==_?_:Math.round(e-C)*g;const t=R-i*(g>=0?1:-1),n=g>=0?t<0:t>P;R=Math.max(t,0),"finished"===k&&null===_&&(R=P);let r=R,s=S;if(l){const e=Math.min(R,P)/A;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===c?(n=1-n,u&&(n-=u/A)):"mirror"===c&&(s=T)),r=nb(0,1,n)*A}const a=n?{done:!1,value:o[0]}:s.next(r);E&&(a.value=E(a.value));let{done:h}=a;n||null===x||(h=g>=0?R>=P:R<=0);const d=null===_&&("finished"===k||"running"===k&&h);return p&&p(a.value),d&&M(),a},N=()=>{w&&w.stop(),w=void 0},L=()=>{k="idle",N(),t(),y(),C=I=null},M=()=>{k="finished",f&&f(),N(),t()},O=()=>{if(v)return;w||(w=s(D));const e=w.now();h&&h(),null!==_?C=e-_:C&&"finished"!==k||(C=e),"finished"===k&&y(),I=C,_=null,k="running",w.start()};r&&O();const F={then:(e,t)=>n.then(e,t),get time(){return DE(R)},set time(e){e=RE(e),R=e,null===_&&w&&0!==g?C=w.now()-e/g:_=e},get duration(){const e=null===S.calculatedDuration?eT(S):S.calculatedDuration;return DE(e)},get speed(){return g},set speed(e){e!==g&&w&&(g=e,F.time=DE(R))},get state(){return k},play:O,pause:()=>{k="paused",_=R},stop:()=>{v=!0,"idle"!==k&&(k="idle",d&&d(),L())},cancel:()=>{null!==I&&D(I),L()},complete:()=>{k="finished"},sample:e=>(C=0,D(e))};return F}const rT=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),iT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function sT(e,t,n){let{onUpdate:r,onComplete:i,...s}=n;if(!(rT()&&iT.has(t)&&!s.repeatDelay&&"mirror"!==s.repeatType&&0!==s.damping&&"inertia"!==s.type))return!1;let o,a,l=!1,u=!1;const c=()=>{a=new Promise((e=>{o=e}))};c();let{keyframes:h,duration:d=300,ease:f,times:p}=s;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!ME(t.ease))(t,s)){const e=nT({...s,repeat:0,delay:0});let t={done:!1,value:h[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,h=n,d=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u={[t]:n};l&&(u.offset=l);const c=VE(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,h,{...s,duration:d,ease:f,times:p}),g=()=>{u=!1,m.cancel()},v=()=>{u=!0,Jb.update(g),o(),c()};m.onfinish=()=>{u||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(h,s)),i&&i(),v())};return{then:(e,t)=>a.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,Yb),get time(){return DE(m.currentTime||0)},set time(e){m.currentTime=RE(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return DE(d)},play:()=>{l||(m.play(),Zb(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=nT({...s,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}v()},complete:()=>{u||m.finish()},cancel:v}}const oT={type:"spring",stiffness:500,damping:25,restSpeed:10},aT={type:"keyframes",duration:.8},lT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uT=(e,t)=>{let{keyframes:n}=t;return n.length>2?aT:Gw.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:oT:lT},cT=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!kS.test(t)&&"0"!==t||t.startsWith("url("))),hT=new Set(["brightness","contrast","saturate","opacity"]);function dT(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(ab)||[];if(!r)return e;const i=n.replace(r,"");let s=hT.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const fT=/([a-z-]*)\(.*?\)/g,pT={...kS,getAnimatableNone:e=>{const t=e.match(fT);return t?t.map(dT).join(" "):e}},mT={...wb,color:uS,backgroundColor:uS,outlineColor:uS,fill:uS,stroke:uS,borderColor:uS,borderTopColor:uS,borderRightColor:uS,borderBottomColor:uS,borderLeftColor:uS,filter:pT,WebkitFilter:pT},gT=e=>mT[e];function vT(e,t){let n=gT(e);return n!==pT&&(n=kS),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yT=e=>/^0[^.\s]+$/.test(e);function wT(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||yT(e):void 0}function bT(e,t){return e[t]||e.default||e}const ET=!1,ST=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i=>{const s=bT(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=RE(o);const l=function(e,t,n,r){const i=cT(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)null===s[u]&&(s[u]=0===u?o:s[u-1]),wT(s[u])&&l.push(u),"string"===typeof s[u]&&"none"!==s[u]&&"0"!==s[u]&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++)s[l[u]]=vT(t,a);return s}(t,e,n,s),u=l[0],c=l[l.length-1],h=cT(e,u),d=cT(e,c);AE(h===d,"You are trying to animate ".concat(e,' from "').concat(u,'" to "').concat(c,'". ').concat(u," is not an animatable value - to enable this animation set ").concat(u," to a value animatable to ").concat(c," via the `style` property."));let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:u,elapsed:c,...h}=e;return!!Object.keys(h).length}(s)||(f={...f,...uT(e,f)}),f.duration&&(f.duration=RE(f.duration)),f.repeatDelay&&(f.repeatDelay=RE(f.repeatDelay)),!h||!d||NE||!1===s.type||ET)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:i}=e;const s=()=>(r&&r(t[t.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Yb,pause:Yb,stop:Yb,then:e=>(e(),Promise.resolve()),cancel:Yb,complete:Yb});return n?nT({keyframes:[0,1],duration:0,delay:n,onComplete:s}):s()}(NE?{...f,delay:0}:f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=sT(t,e,f);if(n)return n}return nT(f)}};function TT(e){return Boolean(Yw(e)&&e.add)}const kT=e=>/^\-?\d*\.?\d+$/.test(e);function _T(e,t){-1===e.indexOf(t)&&e.push(t)}function CT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class IT{constructor(){this.subscriptions=[]}add(e){return _T(this.subscriptions,e),()=>CT(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xT={current:void 0};class AT{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:i}=eE;t.lastUpdated!==i&&(t.timeDelta=r,t.lastUpdated=i,Jb.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>Jb.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new IT);const n=this.events[e].add(t);return"change"===e?()=>{n(),Jb.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return xT.current&&xT.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function PT(e,t){return new AT(e,t)}const RT=e=>t=>t.test(e),DT=[rb,pb,fb,db,gb,mb,{test:e=>"auto"===e,parse:e=>e}],NT=e=>DT.find(RT(e)),LT=[...DT,uS,kS],MT=e=>LT.find(RT(e));function OT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,PT(n))}function FT(e,t){const n=xE(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){OT(e,o,Wb(s[o]))}}function VT(e,t){if(!t)return;return(t[e]||t.default||t).from}function UT(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function jT(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function BT(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const h in a){const t=e.getValue(h),r=a[h];if(!t||void 0===r||c&&UT(c,h))continue;const i={delay:n,elapsed:0,...bT(s||{},h)};if(window.HandoffAppearAnimations){const n=e.getProps()[_w];if(n){const e=window.HandoffAppearAnimations(n,h,t,Jb);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!jT(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(ST(h,t,r,e.shouldReduceMotion&&Gw.has(h)?{type:!1}:i));const d=t.animation;TT(l)&&(l.add(h),d.then((()=>l.remove(h)))),u.push(d)}return o&&Promise.all(u).then((()=>{o&&FT(e,o)})),u}function zT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=xE(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(BT(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(qT).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(zT(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function qT(e,t){return e.sortNodePosition(t)}const HT=[...Aw].reverse(),WT=Aw.length;function KT(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>zT(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=zT(e,t,r);else{const i="function"===typeof t?xE(e,t,r.custom):t;n=Promise.all(BT(e,i,r))}return n.then((()=>e.notify("AnimationComplete",t)))}(e,n,r)})))}function GT(e){let t=KT(e);const n={animate:YT(!0),whileInView:YT(),whileHover:YT(),whileTap:YT(),whileDrag:YT(),whileFocus:YT(),exit:YT()};let r=!0;const i=(t,n)=>{const r=xE(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set;let h={},d=1/0;for(let t=0;t<WT;t++){const f=HT[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=Iw(m),v=f===o?p.isActive:null;!1===v&&(d=t);let y=m===l[f]&&m!==a[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...h},!p.isActive&&null===v||!m&&!p.prevProp||xw(m)||"boolean"===typeof m)continue;let w=QT(p.prevProp,m)||f===o&&p.isActive&&!y&&g||t>d&&g,b=!1;const E=Array.isArray(m)?m:[m];let S=E.reduce(i,{});!1===v&&(S={});const{prevResolvedValues:T={}}=p,k={...T,...S},_=e=>{w=!0,c.has(e)&&(b=!0,c.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=S[e],n=T[e];if(h.hasOwnProperty(e))continue;let r=!1;r=qb(t)&&qb(n)?!IE(t,n):t!==n,r?void 0!==t?_(e):c.add(e):void 0!==t&&c.has(e)?_(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(h={...h,...S}),r&&e.blockInitialAnimation&&(w=!1),!w||y&&!b||u.push(...E.map((e=>({animation:e,options:{type:f,...s}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),u.push({animation:t})}let f=Boolean(u.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(u):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function QT(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!IE(t,e)}function YT(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let XT=0;const $T={animation:{Feature:class extends gE{constructor(e){super(e),e.animationState||(e.animationState=GT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xw(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends gE{constructor(){super(...arguments),this.id=XT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},JT=(e,t)=>Math.abs(e-t);class ZT{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=nk(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=JT(e.x,t.x),r=JT(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=eE;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ek(t,this.transformPagePoint),Jb.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=nk("pointercancel"===e.type?this.lastMoveEventInfo:ek(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!sE(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=ek(oE(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=eE;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,nk(s,this.history)),this.removeListeners=cE(lE(this.contextWindow,"pointermove",this.handlePointerMove),lE(this.contextWindow,"pointerup",this.handlePointerUp),lE(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zb(this.updatePoint)}}function ek(e,t){return t?{point:t(e.point)}:e}function tk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nk(e,t){let{point:n}=e;return{point:n,delta:tk(n,ik(t)),offset:tk(n,rk(t)),velocity:sk(t,.1)}}function rk(e){return e[0]}function ik(e){return e[e.length-1]}function sk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=ik(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>RE(t)));)n--;if(!r)return{x:0,y:0};const s=DE(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ok(e){return e.max-e.min}function ak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function lk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=cS(t.min,t.max,e.origin),e.scale=ok(n)/ok(t),(ak(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=cS(n.min,n.max,e.origin)-e.originPoint,(ak(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uk(e,t,n,r){lk(e.x,t.x,n.x,r?r.originX:void 0),lk(e.y,t.y,n.y,r?r.originY:void 0)}function ck(e,t,n){e.min=n.min+t.min,e.max=e.min+ok(t)}function hk(e,t,n){e.min=t.min-n.min,e.max=e.min+ok(t)}function dk(e,t,n){hk(e.x,t.x,n.x),hk(e.y,t.y,n.y)}function fk(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function pk(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const mk=.35;function gk(e,t,n){return{min:vk(e,t),max:vk(e,n)}}function vk(e,t){return"number"===typeof e?e:e[t]||0}const yk=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),wk=()=>({x:{min:0,max:0},y:{min:0,max:0}});function bk(e){return[e("x"),e("y")]}function Ek(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Sk(e){return void 0===e||1===e}function Tk(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Sk(t)||!Sk(n)||!Sk(r)}function kk(e){return Tk(e)||_k(e)||e.z||e.rotate||e.rotateX||e.rotateY}function _k(e){return Ck(e.x)||Ck(e.y)}function Ck(e){return e&&"0%"!==e}function Ik(e,t,n){return n+t*(e-n)}function xk(e,t,n,r,i){return void 0!==i&&(e=Ik(e,i,r)),Ik(e,n,r)+t}function Ak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=xk(e.min,t,n,r,i),e.max=xk(e.max,t,n,r,i)}function Pk(e,t){let{x:n,y:r}=t;Ak(e.x,n.translate,n.scale,n.originPoint),Ak(e.y,r.translate,r.scale,r.originPoint)}function Rk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Dk(e,t){e.min=e.min+t,e.max=e.max+t}function Nk(e,t,n){let[r,i,s]=n;const o=void 0!==t[s]?t[s]:.5,a=cS(e.min,e.max,o);Ak(e,t[r],t[i],a,t.scale)}const Lk=["x","scaleX","originX"],Mk=["y","scaleY","originY"];function Ok(e,t){Nk(e.x,t,Lk),Nk(e.y,t,Mk)}function Fk(e,t){return Ek(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Vk=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Uk=new WeakMap;class jk{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wk(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ZT(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(oE(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=pE(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bk((e=>{let t=this.getAxisMotionValue(e).get()||0;if(fb.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ok(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Jb.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>bk((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Vk(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Jb.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Bk(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?cS(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?cS(i,e,n.max):Math.min(e,i)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Cw(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:s}=t;return{x:fk(e.x,r,s),y:fk(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mk;return!1===e?e=0:!0===e&&(e=mk),{x:gk(e,"left","right"),y:gk(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bk((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Cw(e))return!1;const n=e.current;PE(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Fk(e,n),{scroll:i}=t;return i&&(Dk(r.x,i.offset.x),Dk(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:pk(e.x,t.x),y:pk(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Ek(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=bk((o=>{if(!Bk(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,h={type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(ST(e,n,0,t))}stopAnimation(){bk((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){bk((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){bk((t=>{const{drag:n}=this.getProps();if(!Bk(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-cS(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Cw(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};bk((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=ok(e),i=ok(t);return i>r?n=PS(t.min,t.max-r,e.min):r>i&&(n=PS(e.min,e.max-i,t.min)),nb(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bk((t=>{if(!Bk(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(cS(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Uk.set(this.visualElement,this);const e=lE(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Cw(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=iE(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(bk((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=mk,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function Bk(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const zk=e=>(t,n)=>{e&&Jb.update((()=>e(t,n)))};const qk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wk={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!pb.test(e))return e;e=parseFloat(e)}const n=Hk(e,t.target.x),r=Hk(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Kk={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,s=kS.parse(e);if(s.length>5)return i;const o=kS.createTransformer(e),a="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;s[0+a]/=l,s[1+a]/=u;const c=cS(l,u,.5);return"number"===typeof s[2+a]&&(s[2+a]/=c),"number"===typeof s[3+a]&&(s[3+a]/=c),o(s)}};class Gk extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=Yk,Object.assign(Ww,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Jb.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qk(e){const[t,n]=function(){const e=(0,i.useContext)(bw);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();return(0,i.useEffect)((()=>r(s)),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}(),r=(0,i.useContext)(Fw);return i.createElement(Gk,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(Vw),isPresent:t,safeToRemove:n})}const Yk={borderRadius:{...Wk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wk,borderTopRightRadius:Wk,borderBottomLeftRadius:Wk,borderBottomRightRadius:Wk,boxShadow:Kk},Xk=["TopLeft","TopRight","BottomLeft","BottomRight"],$k=Xk.length,Jk=e=>"string"===typeof e?parseFloat(e):e,Zk=e=>"number"===typeof e||pb.test(e);function e_(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const t_=r_(0,.5,XE),n_=r_(.5,.95,Yb);function r_(e,t,n){return r=>r<e?0:r>t?1:n(PS(e,t,r))}function i_(e,t){e.min=t.min,e.max=t.max}function s_(e,t){i_(e.x,t.x),i_(e.y,t.y)}function o_(e,t,n,r,i){return e=Ik(e-=t,1/n,r),void 0!==i&&(e=Ik(e,1/i,r)),e}function a_(e,t,n,r,i){let[s,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;fb.test(t)&&(t=parseFloat(t),t=cS(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=cS(s.min,s.max,r);e===s&&(a-=t),e.min=o_(e.min,t,n,a,i),e.max=o_(e.max,t,n,a,i)}(e,t[s],t[o],t[a],t.scale,r,i)}const l_=["x","scaleX","originX"],u_=["y","scaleY","originY"];function c_(e,t,n,r){a_(e.x,t,l_,n?n.x:void 0,r?r.x:void 0),a_(e.y,t,u_,n?n.y:void 0,r?r.y:void 0)}function h_(e){return 0===e.translate&&1===e.scale}function d_(e){return h_(e.x)&&h_(e.y)}function f_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function p_(e){return ok(e.x)/ok(e.y)}class m_{constructor(){this.members=[]}add(e){_T(this.members,e),e.scheduleRender()}remove(e){if(CT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function g_(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r="translate3d(".concat(i,"px, ").concat(s,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) "))}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+="scale(".concat(o,", ").concat(a,")")),r||"none"}const v_=(e,t)=>e.depth-t.depth;class y_{constructor(){this.children=[],this.isDirty=!1}add(e){_T(this.children,e),this.isDirty=!0}remove(e){CT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(v_),this.isDirty=!1,this.children.forEach(e)}}const w_=["","X","Y","Z"],b_={visibility:"hidden"};let E_=0;const S_={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function T_(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=E_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,S_.totalNodes=S_.resolvedTargetDeltas=S_.recalculatedProjection=0,this.nodes.forEach(C_),this.nodes.forEach(N_),this.nodes.forEach(L_),this.nodes.forEach(I_),e=S_,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new y_)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new IT),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=i=>{let{timestamp:s}=i;const o=s-n;o>=t&&(Zb(r),e(o-t))};return Jb.read(r,!0),()=>Zb(r)}(r,250),qk.hasAnimatedSinceResize&&(qk.hasAnimatedSinceResize=!1,this.nodes.forEach(D_))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||j_,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),u=!this.targetLayout||!f_(this.targetLayout,i)||r,c=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,c);const e={...bT(s,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||D_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zb(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M_),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(A_);this.isUpdating||this.nodes.forEach(P_),this.isUpdating=!1,this.nodes.forEach(R_),this.nodes.forEach(k_),this.nodes.forEach(__),this.clearAllSnapshots();const e=performance.now();eE.delta=nb(0,1e3/60,e-eE.timestamp),eE.timestamp=e,eE.isProcessing=!0,tE.update.process(eE),tE.preRender.process(eE),tE.render.process(eE),eE.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(x_),this.sharedNodes.forEach(O_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jb.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jb.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wk(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!d_(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||kk(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),q_((r=n).x),q_(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return wk();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(Dk(t.x,n.offset.x),Dk(t.y,n.offset.y)),t}removeElementScroll(e){const t=wk();s_(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){s_(t,e);const{scroll:n}=this.root;n&&(Dk(t.x,-n.offset.x),Dk(t.y,-n.offset.y))}Dk(t.x,i.offset.x),Dk(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wk();s_(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Ok(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),kk(e.latestValues)&&Ok(n,e.latestValues)}return kk(this.latestValues)&&Ok(n,this.latestValues),n}removeTransform(e){const t=wk();s_(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!kk(e.latestValues))continue;Tk(e.latestValues)&&e.updateSnapshot();const r=wk();s_(r,e.measurePageBox()),c_(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return kk(this.latestValues)&&c_(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==eE.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=eE.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wk(),this.relativeTargetOrigin=wk(),dk(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),s_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target=wk(),this.targetWithTransforms=wk()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,ck(o.x,a.x,l.x),ck(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):s_(this.target,this.layout.layoutBox),Pk(this.target,this.targetDelta)):s_(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wk(),this.relativeTargetOrigin=wk(),dk(this.relativeTargetOrigin,this.target,e.target),s_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}S_.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Tk(this.parent.latestValues)&&!_k(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===eE.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;s_(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ok(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Pk(e,o)),r&&kk(s.latestValues)&&Ok(e,s.latestValues))}t.x=Rk(t.x),t.y=Rk(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=yk(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=yk(),this.projectionDeltaWithTransform=yk());const u=this.projectionTransform;uk(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=g_(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),S_.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s=yk();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o=wk(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(U_));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;F_(s.x,e.x,n),F_(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dk(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){V_(e.x,t.x,n.x,r),V_(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=wk()),s_(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=cS(0,void 0!==n.opacity?n.opacity:1,t_(r)),e.opacityExit=cS(void 0!==t.opacity?t.opacity:1,0,n_(r))):s&&(e.opacity=cS(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<$k;o++){const i="border".concat(Xk[o],"Radius");let s=e_(t,i),a=e_(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Zk(s)===Zk(a)?(e[i]=Math.max(cS(Jk(s),Jk(a),r),0),(fb.test(a)||fb.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=cS(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zb(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jb.update((()=>{qk.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Yw(e)?e:PT(e);return r.start(ST("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&H_(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||wk();const t=ok(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ok(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}s_(t,n),Ok(t,i),uk(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new m_);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<w_.length;i++){const t="rotate"+w_[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return b_;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Kb(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Kb(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!kk(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=g_(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in Ww){if(void 0===o[u])continue;const{correct:e,applyTo:t}=Ww[u],n="none"===r.transform?o[u]:e(o[u],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?Kb(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(A_),this.root.sharedNodes.clear()}}}function k_(e){e.updateLayout()}function __(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?bk((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=ok(r);r.min=t[e].min,r.max=r.min+i})):H_(i,n.layoutBox,t)&&bk((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=ok(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o=yk();uk(o,t,n.layoutBox);const a=yk();s?uk(a,e.applyTransform(r,!0),n.measuredBox):uk(a,t,n.layoutBox);const l=!d_(o);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o=wk();dk(o,n.layoutBox,i.layoutBox);const a=wk();dk(a,t,s.layoutBox),f_(o,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function C_(e){S_.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function I_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function x_(e){e.clearSnapshot()}function A_(e){e.clearMeasurements()}function P_(e){e.isLayoutDirty=!1}function R_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function D_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N_(e){e.resolveTargetDelta()}function L_(e){e.calcProjection()}function M_(e){e.resetRotation()}function O_(e){e.removeLeadSnapshot()}function F_(e,t,n){e.translate=cS(t.translate,0,n),e.scale=cS(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function V_(e,t,n,r){e.min=cS(t.min,n.min,r),e.max=cS(t.max,n.max,r)}function U_(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const j_={duration:.45,ease:[.4,0,.1,1]},B_=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),z_=B_("applewebkit/")&&!B_("chrome/")?Math.round:Yb;function q_(e){e.min=z_(e.min),e.max=z_(e.max)}function H_(e,t,n){return"position"===e||"preserve-aspect"===e&&!ak(p_(t),p_(n),.2)}const W_=T_({attachResizeListener:(e,t)=>iE(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),K_={current:void 0},G_=T_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!K_.current){const e=new W_({});e.mount(window),e.setOptions({layoutScroll:!0}),K_.current=e}return K_.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Q_={pan:{Feature:class extends gE{constructor(){super(...arguments),this.removePointerDownListener=Yb}onPointerDown(e){this.session=new ZT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:zk(e),onStart:zk(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Jb.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=lE(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends gE{constructor(e){super(e),this.removeGroupControls=Yb,this.removeListeners=Yb,this.controls=new jk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:G_,MeasureLayout:Qk}},Y_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;const X_=4;function $_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;PE(n<=X_,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Y_.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return kT(e)?parseFloat(e):e}return eb(i)?$_(i,t,n+1):i}const J_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Z_=e=>J_.has(e),eC=e=>e===rb||e===pb,tC=(e,t)=>parseFloat(e.split(", ")[t]),nC=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/);if(s)return tC(s[1],t);{const t=i.match(/^matrix\((.+)\)$/);return t?tC(t[1],e):0}},rC=new Set(["x","y","z"]),iC=Kw.filter((e=>!rC.has(e)));const sC={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:nC(4,13),y:nC(5,14)};sC.translateX=sC.x,sC.translateY=sC.y;const oC=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t={...t},r={...r};const i=Object.keys(t).filter(Z_);let s=[],o=!1;const a=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=NT(u);const h=t[i];let d;if(qb(h)){const e=h.length,t=null===h[0]?1:0;u=h[t],c=NT(u);for(let n=t;n<e&&null!==h[n];n++)d?PE(NT(h[n])===d,"All keyframes must be of the same type"):(d=NT(h[n]),PE(d===c||eC(c)&&eC(d),"Keyframes must be of the same dimension as the current value"))}else d=NT(h);if(c!==d)if(eC(c)&&eC(d)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===pb&&(t[i]=h.map(parseFloat))}else(null===c||void 0===c?void 0:c.transform)&&(null===d||void 0===d?void 0:d.transform)&&(0===u||0===h)?0===u?l.set(d.transform(u)):t[i]=c.transform(h):(o||(s=function(e){const t=[];return iC.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(h))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=sC[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=sC[n](l,s)})),e})(t,e,a);return s.length&&s.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),e.render(),Ew&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function aC(e,t,n,r){return(e=>Object.keys(e).some(Z_))(t)?oC(e,t,n,r):{target:t,transitionEnd:r}}const lC=(e,t,n,r)=>{const i=function(e,t,n){let{...r}=t;const i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!eb(t))return;const n=$_(t,i);n&&e.set(n)}));for(const s in r){const e=r[s];if(!eb(e))continue;const t=$_(e,i);t&&(r[s]=t,n||(n={}),void 0===n[s]&&(n[s]=e))}return{target:r,transitionEnd:n}}(e,t,r);return aC(e,t=i.target,n,r=i.transitionEnd)},uC={current:null},cC={current:!1};const hC=new WeakMap,dC=Object.keys(Ow),fC=dC.length,pC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],mC=Pw.length;class gC{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Jb.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Rw(n),this.isVariantNode=Dw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const e=c[h];void 0!==a[h]&&Yw(e)&&(e.set(a[h],!1),TT(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,hC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),cC.current||function(){if(cC.current=!0,Ew)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uC.current=e.matches;e.addListener(t),t()}else uC.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||uC.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hC.delete(this.current),this.projection&&this.projection.unmount(),Zb(this.notifyUpdate),Zb(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Gw.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Jb.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let i,s,{children:o,...a}=e;for(let l=0;l<fC;l++){const e=dC[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:o}=Ow[e];r&&(i=r),t(a)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),o&&(s=o))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:s,layoutScroll:o,layoutRoot:l}=a;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||s&&Cw(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}return s}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wk()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<pC.length;n++){const t=pC[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Yw(s))e.addValue(i,s),TT(r)&&r.add(i);else if(Yw(o))e.addValue(i,PT(s,{owner:e})),TT(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,PT(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<mC;t++){const n=Pw[t],r=this.props[n];(Iw(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=PT(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=zb(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Yw(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new IT),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class vC extends gC{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:i,...s}=e,{transformValues:o}=t,a=function(e,t,n){const r={};for(const i in e){const e=VT(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(s,r||{},this);if(o&&(i&&(i=o(i)),s&&(s=o(s)),a&&(a=o(a))),n){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),o=s.length;if(o)for(let a=0;a<o;a++){const o=s[a],l=t[o];let u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),void 0!==u&&null!==u&&("string"===typeof u&&(kT(u)||yT(u))?u=parseFloat(u):!MT(u)&&kS.test(l)&&(u=vT(o,l)),e.addValue(o,PT(u,{owner:e})),void 0===n[o]&&(n[o]=u),null!==u&&e.setBaseTarget(o,u))}}(this,s,a);const e=lC(this,s,a,i);i=e.transitionEnd,s=e.target}return{transition:r,transitionEnd:i,...s}}}class yC extends vC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Gw.has(t)){const e=gT(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(Zw(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Fk(e,n)}build(e,t,n,r){bb(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return jb(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yw(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){Fb(e,t,n,r)}}class wC extends vC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gw.has(t)){const e=gT(t);return e&&e.default||0}return t=Vb.has(t)?t:kw(t),e.getAttribute(t)}measureInstanceViewportBox(){return wk()}scrapeMotionValuesFromProps(e,t){return Bb(e,t)}build(e,t,n,r){Db(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Ub(e,t,0,r)}mount(e){this.isSVGTag=Lb(e.tagName),super.mount(e)}}const bC=(e,t)=>Hw(e)?new wC(t,{enableHardwareAcceleration:!1}):new yC(t,{enableHardwareAcceleration:!0}),EC={...$T,...CE,...Q_,...{layout:{ProjectionNode:G_,MeasureLayout:Qk}}},SC=zw(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...Hw(e)?nE:rE,preloadedFeatures:n,useRender:Ob(i),createVisualElement:r,Component:e}}(e,t,EC,bC)));var TC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kC=i.createContext&&i.createContext(TC),_C=function(){return _C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_C.apply(this,arguments)},CC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function IC(e){return e&&e.map((function(e,t){return i.createElement(e.tag,_C({key:t},e.attr),IC(e.child))}))}function xC(e){return function(t){return i.createElement(AC,_C({attr:_C({},e.attr)},t),IC(e.child))}}function AC(e){var t=function(t){var n,r=e.attr,s=e.size,o=e.title,a=CC(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",_C({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:_C(_C({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==kC?i.createElement(kC.Consumer,null,(function(e){return t(e)})):t(TC)}function PC(e){return xC({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"}}]})(e)}const RC=function(){const{user:e,setUser:t}=st(),[n,r]=(0,i.useState)(!1),[s,o]=(0,i.useState)(1),[a,l]=(0,i.useState)(""),u=(0,i.useCallback)((async n=>{const r=uy(mw,"users",e.id);await cw(r,n),t((e=>({...e,...n})))}),[e.id,t]);return(0,i.useEffect)((()=>{let t,i;return n&&e.energy>0?t=setInterval((()=>{u({coins:e.coins+s,energy:Math.max(e.energy-1,0)})}),1e3):r(!1),i=setInterval((()=>{e.energy<100&&u({energy:Math.min(e.energy+1,100)})}),1e4),()=>{clearInterval(t),clearInterval(i)}}),[n,e.energy,e.coins,u,s]),(0,i.useEffect)((()=>{const t=100*e.level;e.coins>=t&&(u({level:e.level+1,coins:e.coins-t}),l("Congratulations! You've reached level ".concat(e.level+1,"!")),o((e=>e+1)))}),[e.coins,e.level,u]),(0,gw.jsxs)("div",{className:"home",children:[(0,gw.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Mining Dashboard"}),(0,gw.jsxs)("div",{className:"mb-4",children:[(0,gw.jsxs)("p",{children:["Coins: ",e.coins]}),(0,gw.jsxs)("p",{children:["Energy: ",e.energy,"/100"]}),(0,gw.jsxs)("p",{children:["Level: ",e.level]}),(0,gw.jsxs)("p",{children:["Mining Power: ",s]})]}),(0,gw.jsx)(SC.button,{className:"px-4 py-2 rounded text-white ".concat(n?"bg-red-500":"bg-green-500"),onClick:()=>{e.energy>0?r(!n):l("Not enough energy to mine!")},whileHover:{scale:1.05},whileTap:{scale:.95},children:n?"Stop Mining":"Start Mining"}),n&&(0,gw.jsx)(SC.div,{className:"mt-4 circle-outer",initial:{scale:0},animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:1},children:(0,gw.jsx)("div",{className:"circle-inner",children:(0,gw.jsx)(PC,{size:40,color:"#FFD700",className:"dot"})})}),a&&(0,gw.jsx)(SC.p,{className:"mt-4 text-green-500",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a}),(0,gw.jsxs)("div",{className:"mt-4",children:[(0,gw.jsx)("h3",{className:"text-xl font-semibold",children:"Next Level"}),(0,gw.jsxs)("p",{children:["Coins needed: ",100*e.level-e.coins]}),(0,gw.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mt-2",children:(0,gw.jsx)("div",{className:"progress-gradient h-2.5 rounded-full",style:{width:"".concat(e.coins/(100*e.level)*100,"%")}})})]})]})};const DC=function(){const{user:e}=st(),[t,n]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{const t=Wy(ly(mw,"users"),Gy("referredBy","==",e.id)),r=await uw(t);n(r.docs.map((e=>({id:e.id,...e.data()}))))})()}),[e.id]),(0,gw.jsxs)("div",{className:"referral",children:[(0,gw.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Referrals"}),(0,gw.jsxs)("p",{children:["Your Referral Link: https://your-app.com/ref/",e.id]}),(0,gw.jsx)("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"Your Referrals:"}),t.length>0?(0,gw.jsx)("ul",{children:t.map((e=>(0,gw.jsx)("li",{children:e.id},e.id)))}):(0,gw.jsx)("p",{children:"You have no referrals yet."})]})};const NC=function(){const{user:e,setUser:t}=st(),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{const t=Wy(ly(mw,"tasks"),Gy("level","<=",e.level)),n=await uw(t);r(n.docs.map((e=>({id:e.id,...e.data()}))))})()}),[e.level]),(0,gw.jsxs)("div",{className:"tasks",children:[(0,gw.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Tasks"}),n.map((i=>(0,gw.jsxs)("div",{className:"mb-4 p-4 border rounded",children:[(0,gw.jsx)("h3",{className:"font-semibold",children:i.title}),(0,gw.jsx)("p",{children:i.description}),(0,gw.jsx)("button",{className:"mt-2 px-4 py-2 rounded ".concat(i.completed?"bg-gray-500":"bg-blue-500"," text-white"),onClick:()=>(async i=>{const s=uy(mw,"tasks",i);await cw(s,{completed:!0});const o=uy(mw,"users",e.id),a={...e,coins:e.coins+10};await cw(o,a),t(a),r(n.map((e=>e.id===i?{...e,completed:!0}:e)))})(i.id),disabled:i.completed,children:i.completed?"Completed":"Complete Task"})]},i.id)))]})};const LC=function(){const{user:e,setUser:t}=st(),n=async n=>{let r={...e};switch(n){case"energy":r.energy=Math.min(e.energy+50,100);break;case"coins":r.coins+=100;break;case"level":r.level+=1;break;default:return}const i=uy(mw,"users",e.id);await cw(i,r),t(r)};return(0,gw.jsxs)("div",{className:"boost",children:[(0,gw.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Boosts"}),(0,gw.jsx)("button",{className:"mb-2 px-4 py-2 rounded bg-yellow-500 text-white",onClick:()=>n("energy"),children:"Boost Energy (+50)"}),(0,gw.jsx)("button",{className:"mb-2 px-4 py-2 rounded bg-green-500 text-white",onClick:()=>n("coins"),children:"Boost Coins (+100)"}),(0,gw.jsx)("button",{className:"mb-2 px-4 py-2 rounded bg-purple-500 text-white",onClick:()=>n("level"),children:"Boost Level (+1)"})]})};const MC=function(){const{user:e}=st(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(0),[o,a]=(0,i.useState)(0);return(0,i.useEffect)((()=>{(async()=>{const e=ly(mw,"users"),t=await uw(e);s(t.size),a(t.docs.reduce(((e,t)=>e+t.data().coins),0));const r=Wy(e,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=By("orderBy",e);return Yy._create(n,t)}("coins","desc"),(ty("limit",i=5),Xy._create("limit",i,"F")));var i;const o=await uw(r);n(o.docs.map((e=>({id:e.id,...e.data()}))))})()}),[]),(0,gw.jsxs)("div",{className:"stats",children:[(0,gw.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Statistics"}),(0,gw.jsxs)("p",{children:["Total Users: ",r]}),(0,gw.jsxs)("p",{children:["Total Coins: ",o]}),(0,gw.jsx)("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"Top Users:"}),(0,gw.jsx)("ol",{children:t.map(((t,n)=>(0,gw.jsxs)("li",{children:[n+1,". ",t.id===e.id?"You":"User ".concat(t.id.substring(0,6))," - ",t.coins," coins"]},t.id)))})]})};class OC extends i.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.log("Error caught by ErrorBoundary:",e,t)}render(){return this.state.hasError?(0,gw.jsx)("h1",{children:"Something went wrong. Please try refreshing the page."}):this.props.children}}const FC=OC,VC=function(e,t){return se({basename:null==t?void 0:t.basename,future:Et({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),v((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||St(),routes:e,mapRouteProperties:bt,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==t?void 0:t.unstable_patchRoutesOnMiss,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,gw.jsx)(vw,{}),children:[{index:!0,element:(0,gw.jsx)(RC,{})},{path:"referral",element:(0,gw.jsx)(DC,{})},{path:"tasks",element:(0,gw.jsx)(NC,{})},{path:"boost",element:(0,gw.jsx)(LC,{})},{path:"stats",element:(0,gw.jsx)(MC,{})}]}]);o.createRoot(document.getElementById("root")).render((0,gw.jsx)(i.StrictMode,{children:(0,gw.jsx)(FC,{children:(0,gw.jsx)(Pt,{router:VC})})}))})();
//# sourceMappingURL=main.dc873800.js.map